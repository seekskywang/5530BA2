; generated by Component: ARM Compiler 5.06 update 4 (build 422) Tool: ArmCC [4d3604]
; commandline ArmCC [--list --split_sections --debug -c --asm --interleave -o..\output\cal.o --asm_dir=..\Listing\ --list_dir=..\Listing\ --depend=..\output\cal.d --cpu=Cortex-M4.fp.sp --apcs=interwork -O1 --diag_suppress=9931,870 -I..\APP -I..\drive -I..\Include -I..\Libraries\CMSIS\inc -I..\Libraries\CMSIS\src -I..\Libraries\FWlib\inc -I..\Libraries\FWlib\src -I..\Listing -I..\Output -I..\Project -I..\STemWinLibrary522\Config -I..\STemWinLibrary522\emWinTask -I..\STemWinLibrary522\GUILib -I..\STemWinLibrary522\inc -I..\User -I..\USB\STM32_USB_HOST_Library\Class\HID\inc -I..\USB\STM32_USB_HOST_Library\Class\MSC\src -I..\USB\STM32_USB_HOST_Library\Core\src -I..\USB\USB_APP -I..\USB\STM32_USB_HOST_Library\Class\HID\src -I..\USB\STM32_USB_HOST_Library\Class\MSC\inc -I..\USB\STM32_USB_HOST_Library\Core\inc -I..\USB\STM32_USB_OTG_Driver\inc -I..\FATFS\exfuns -I..\FATFS\src\option -I..\FATFS\src -I..\MALLOC -I..\FATFS -I..\IAP -IC:\Keil_v5\ARM\RV31\INC -IC:\Keil_v5\ARM\CMSIS\Include -IC:\Keil_v5\ARM\INC\ST\STM32F4xx -D__UVISION_VERSION=538 -DUSE_STDPERIPH_DRIVER -DSTM32F40XX -DUSE_USB_OTG_FS -DUSE_EMBEDDED_PHY -DUSE_USB_OTG_HS -DSTM32F40XX --omf_browse=..\output\cal.crf --no_multibyte_chars ..\APP\cal.c]
                          THUMB

                          AREA ||i.Createcal||, CODE, READONLY, ALIGN=2

                  Createcal PROC
;;;331    
;;;332    WM_HWIN Createcal(void) {
000000  b51c              PUSH     {r2-r4,lr}
;;;333      hWincal  = GUI_CreateDialogBox(_aDialogCreate8, GUI_COUNTOF(_aDialogCreate8), _cbDialog, WM_HBKWIN, 0, 0);
000002  f7fffffe          BL       WM_GetDesktopWindow
000006  2400              MOVS     r4,#0
000008  4603              MOV      r3,r0
00000a  9400              STR      r4,[sp,#0]
00000c  4a06              LDR      r2,|L1.40|
00000e  2107              MOVS     r1,#7
000010  4806              LDR      r0,|L1.44|
000012  9401              STR      r4,[sp,#4]
000014  f7fffffe          BL       GUI_CreateDialogBox
000018  4905              LDR      r1,|L1.48|
00001a  6048              STR      r0,[r1,#4]  ; hWincal
;;;334      pass = 0;
00001c  4905              LDR      r1,|L1.52|
00001e  700c              STRB     r4,[r1,#0]
;;;335      page_sw = face_cal;
000020  4a05              LDR      r2,|L1.56|
000022  2108              MOVS     r1,#8
000024  7011              STRB     r1,[r2,#0]
;;;336      return hWincal;
;;;337    }
000026  bd1c              POP      {r2-r4,pc}
;;;338    
                          ENDP

                  |L1.40|
                          DCD      _cbDialog
                  |L1.44|
                          DCD      ||.constdata||
                  |L1.48|
                          DCD      ||.data||
                  |L1.52|
                          DCD      pass
                  |L1.56|
                          DCD      page_sw

                          AREA ||i.LoadCCal||, CODE, READONLY, ALIGN=2

                  LoadCCal PROC
;;;721    
;;;722    void LoadCCal(u8 step)
000000  e92d4ff0          PUSH     {r4-r11,lr}
;;;723    {
000004  b087              SUB      sp,sp,#0x1c
;;;724        if(step == 1)
;;;725        {
;;;726            Modify_A_READ = Imon1_value;//
000006  4bfc              LDR      r3,|L2.1016|
000008  4cfc              LDR      r4,|L2.1020|
;;;727    		Modify_C_READ = Contr_Laod;//
00000a  4dfd              LDR      r5,|L2.1024|
00000c  4efd              LDR      r6,|L2.1028|
;;;728    		Modify_A_ACT = inputvalue;
00000e  49fe              LDR      r1,|L2.1032|
000010  4afe              LDR      r2,|L2.1036|
000012  2801              CMP      r0,#1                 ;724
000014  8909              LDRH     r1,[r1,#8]
000016  b289              UXTH     r1,r1
000018  d05a              BEQ      |L2.208|
;;;729        }else if(step == 2){
;;;730           vu32 var16;
;;;731    		vu32 var32a;
;;;732    		vu32 var32b;
;;;733    		
;;;734    		vu32 var16a;
;;;735    		vu32 var32c;
;;;736    		vu32 var32d;
;;;737    		
;;;738    		Modify_B_READ = Imon1_value;
00001a  f8df93f4          LDR      r9,|L2.1040|
;;;739    		Modify_D_READ = Contr_Laod;
;;;740    		Modify_B_ACT = inputvalue;
;;;741    		
;;;742    		var32a = Modify_B_ACT;
;;;743    		var32a = var32a - Modify_A_ACT;
;;;744    		var32a = var32a << 12;
;;;745    		var16 = Modify_B_READ - Modify_A_READ;
;;;746    		var32a = var32a / var16;
;;;747    		REG_Load_A = var32a;
;;;748    		var32a = Modify_B_ACT;
;;;749    		var32a = var32a << 12;
;;;750    		var32b = Modify_B_READ;
;;;751    		var32b = var32b * REG_Load_A;
;;;752    		if (var32a < var32b)
;;;753    		{
;;;754    			var32b = var32b - var32a;
;;;755    			REG_LoadA_Offset = var32b;
;;;756    			Polar1 |= 0x01;
;;;757    		}
;;;758    		else 
;;;759    		{
;;;760    			var32a = var32a - var32b;
;;;761    			REG_LoadA_Offset = var32a;
;;;762    			Polar1 &= ~0x01;					
;;;763    		}
;;;764    //---------------------------------------------------------------------------------//
;;;765    		var32c = Modify_B_ACT; 
;;;766    		var32c = var32c - Modify_A_ACT;
;;;767    		var32c = var32c << 12;
;;;768    		var16a=Modify_D_READ-Modify_C_READ;
;;;769    		var16a=var16a*2;
;;;770    		var32c=var32c/var16a;
;;;771    		SET_LoadA = var32c;
;;;772    		var32c = Modify_B_ACT;
;;;773    		var32c = var32c << 12;
;;;774    		var32d = SET_LoadA;
;;;775    		var32d = var32d * (Modify_D_READ*2);
;;;776    		if (var32c < var32d)
;;;777    		{
;;;778    			var32d = var32d - var32c;
;;;779    			SET_LoadA_Offset = var32d;
;;;780    			Polar1 |= 0x04;
;;;781    		}
;;;782    		else 
;;;783    		{
;;;784    			var32c = var32c - var32d;
;;;785    			SET_LoadA_Offset = var32c;
;;;786    			Polar1 &= ~0x04;
;;;787    		}
;;;788    		Flash_Write_all ();	
;;;789    		Flag_DAC_OFF =0;
00001e  4ffd              LDR      r7,|L2.1044|
000020  f8df83f4          LDR      r8,|L2.1048|
000024  f8dfc3f4          LDR      r12,|L2.1052|
000028  2802              CMP      r0,#2                 ;729
00002a  d059              BEQ      |L2.224|
;;;790        }else if(step == 3){
00002c  2803              CMP      r0,#3
00002e  d07d              BEQ      |L2.300|
;;;791    		Modify_A_READ = Imon1_value;//
;;;792    		Modify_C_READ = Contr_Laod;//
;;;793    		Modify_A_ACT = inputvalue;
;;;794    	}else if(step == 4){
;;;795    		vu32 var16;
;;;796    		vu32 var32a;
;;;797    		vu32 var32b;
;;;798    		
;;;799    		vu32 var16a;
;;;800    		vu32 var32c;
;;;801    		vu32 var32d;
;;;802    		
;;;803    		Modify_B_READ = Imon1_value;
;;;804    		Modify_D_READ = Contr_Laod;
;;;805    		Modify_B_ACT = inputvalue;
;;;806    		
;;;807    		var32a = Modify_B_ACT;
;;;808    		var32a = var32a - Modify_A_ACT;
;;;809    		var32a = var32a << 12;
;;;810    		var16 = Modify_B_READ - Modify_A_READ;
;;;811    		var32a = var32a / var16;
;;;812    		REG_Load_A1 = var32a;
;;;813    		var32a = Modify_B_ACT;
;;;814    		var32a = var32a << 12;
;;;815    		var32b = Modify_B_READ;
;;;816    		var32b = var32b * REG_Load_A1;
;;;817    		if (var32a < var32b)
;;;818    		{
;;;819    			var32b = var32b - var32a;
;;;820    			REG_LoadA_Offset1 = var32b;
;;;821    			Polar8 |= 0x01;
;;;822    		}
;;;823    		else 
;;;824    		{
;;;825    			var32a = var32a - var32b;
;;;826    			REG_LoadA_Offset1 = var32a;
;;;827    			Polar8 &= ~0x01;					
;;;828    		}
;;;829    //---------------------------------------------------------------------------------//
;;;830    		var32c = Modify_B_ACT; 
;;;831    		var32c = var32c - Modify_A_ACT;
;;;832    		var32c = var32c << 12;
;;;833    		var16a=Modify_D_READ-Modify_C_READ;
;;;834    		var16a=var16a*2;
;;;835    		var32c=var32c/var16a;
;;;836    		SET_LoadA1 = var32c;
;;;837    		var32c = Modify_B_ACT;
;;;838    		var32c = var32c << 12;
;;;839    		var32d = SET_LoadA1;
;;;840    		var32d = var32d * (Modify_D_READ*2);
;;;841    		if (var32c < var32d)
;;;842    		{
;;;843    			var32d = var32d - var32c;
;;;844    			SET_LoadA_Offset1 = var32d;
;;;845    			Polar8 |= 0x04;
;;;846    		}
;;;847    		else 
;;;848    		{
;;;849    			var32c = var32c - var32d;
;;;850    			SET_LoadA_Offset1 = var32c;
;;;851    			Polar8 &= ~0x04;
;;;852    		}
;;;853    		Flash_Write32BitDatas(FLASH_USER_START_ADDR,43, InFlashSave);
000030  f8dfa3ec          LDR      r10,|L2.1056|
000034  f8dfb3ec          LDR      r11,|L2.1060|
000038  2804              CMP      r0,#4                 ;794
00003a  d078              BEQ      |L2.302|
;;;854    //			Flash_Write_all ();	
;;;855    		Flag_DAC_OFF =0;
;;;856    	}else if(step == 5){
00003c  2805              CMP      r0,#5
00003e  d077              BEQ      |L2.304|
;;;857    		Modify_A_READ = Imon1_value;//
;;;858    		Modify_C_READ = Contr_Laod;//
;;;859    		Modify_A_ACT = inputvalue;
;;;860    	}else if(step == 6){
000040  2806              CMP      r0,#6
000042  d076              BEQ      |L2.306|
;;;861    		vu32 var16;
;;;862    		vu32 var32a;
;;;863    		vu32 var32b;
;;;864    		
;;;865    		vu32 var16a;
;;;866    		vu32 var32c;
;;;867    		vu32 var32d;
;;;868    		
;;;869    		Modify_B_READ = Imon1_value;
;;;870    		Modify_D_READ = Contr_Laod;
;;;871    		Modify_B_ACT = inputvalue;
;;;872    		
;;;873    		var32a = Modify_B_ACT;
;;;874    		var32a = var32a - Modify_A_ACT;
;;;875    		var32a = var32a << 12;
;;;876    		var16 = Modify_B_READ - Modify_A_READ;
;;;877    		var32a = var32a / var16;
;;;878    		REG_Load_A2 = var32a;
;;;879    		var32a = Modify_B_ACT;
;;;880    		var32a = var32a << 12;
;;;881    		var32b = Modify_B_READ;
;;;882    		var32b = var32b * REG_Load_A2;
;;;883    		if (var32a < var32b)
;;;884    		{
;;;885    			var32b = var32b - var32a;
;;;886    			REG_LoadA_Offset2 = var32b;
;;;887    			Polar9 |= 0x01;
;;;888    		}
;;;889    		else 
;;;890    		{
;;;891    			var32a = var32a - var32b;
;;;892    			REG_LoadA_Offset2 = var32a;
;;;893    			Polar9 &= ~0x01;					
;;;894    		}
;;;895    //---------------------------------------------------------------------------------//
;;;896    		var32c = Modify_B_ACT; 
;;;897    		var32c = var32c - Modify_A_ACT;
;;;898    		var32c = var32c << 12;
;;;899    		var16a=Modify_D_READ-Modify_C_READ;
;;;900    		var16a=var16a*2;
;;;901    		var32c=var32c/var16a;
;;;902    		SET_LoadA2 = var32c;
;;;903    		var32c = Modify_B_ACT;
;;;904    		var32c = var32c << 12;
;;;905    		var32d = SET_LoadA2;
;;;906    		var32d = var32d * (Modify_D_READ*2);
;;;907    		if (var32c < var32d)
;;;908    		{
;;;909    			var32d = var32d - var32c;
;;;910    			SET_LoadA_Offset2 = var32d;
;;;911    			Polar9 |= 0x04;
;;;912    		}
;;;913    		else 
;;;914    		{
;;;915    			var32c = var32c - var32d;
;;;916    			SET_LoadA_Offset2 = var32c;
;;;917    			Polar9 &= ~0x04;
;;;918    		}
;;;919    		Flash_Write32BitDatas(FLASH_USER_START_ADDR,43, InFlashSave);
;;;920    //			Flash_Write_all ();	
;;;921    		Flag_DAC_OFF =0;
;;;922    	}else if(step == 7){
000044  2807              CMP      r0,#7
000046  d075              BEQ      |L2.308|
;;;923    		Modify_A_READ = Imon1_value;//
;;;924    		Modify_C_READ = Contr_Laod;//
;;;925    		Modify_A_ACT = inputvalue;
;;;926    	}else if(step == 8){
000048  2808              CMP      r0,#8
00004a  d074              BEQ      |L2.310|
;;;927    		vu32 var16;
;;;928    		vu32 var32a;
;;;929    		vu32 var32b;
;;;930    		
;;;931    		vu32 var16a;
;;;932    		vu32 var32c;
;;;933    		vu32 var32d;
;;;934    		
;;;935    		Modify_B_READ = Imon1_value;
;;;936    		Modify_D_READ = Contr_Laod;
;;;937    		Modify_B_ACT = inputvalue;
;;;938    		
;;;939    		var32a = Modify_B_ACT;
;;;940    		var32a = var32a - Modify_A_ACT;
;;;941    		var32a = var32a << 12;
;;;942    		var16 = Modify_B_READ - Modify_A_READ;
;;;943    		var32a = var32a / var16;
;;;944    		REG_Load_AH = var32a;
;;;945    		var32a = Modify_B_ACT;
;;;946    		var32a = var32a << 12;
;;;947    		var32b = Modify_B_READ;
;;;948    		var32b = var32b * REG_Load_AH;
;;;949    		if (var32a < var32b)
;;;950    		{
;;;951    			var32b = var32b - var32a;
;;;952    			REG_LoadA_OffsetH = var32b;
;;;953    			Polar10 |= 0x01;
;;;954    		}
;;;955    		else 
;;;956    		{
;;;957    			var32a = var32a - var32b;
;;;958    			REG_LoadA_OffsetH = var32a;
;;;959    			Polar10 &= ~0x01;					
;;;960    		}
;;;961    //---------------------------------------------------------------------------------//
;;;962    		var32c = Modify_B_ACT; 
;;;963    		var32c = var32c - Modify_A_ACT;
;;;964    		var32c = var32c << 12;
;;;965    		var16a=Modify_D_READ-Modify_C_READ;
;;;966    		var16a=var16a*2;
;;;967    		var32c=var32c/var16a;
;;;968    		SET_LoadAH = var32c;
;;;969    		var32c = Modify_B_ACT;
;;;970    		var32c = var32c << 12;
;;;971    		var32d = SET_LoadAH;
;;;972    		var32d = var32d * (Modify_D_READ*2);
;;;973    		if (var32c < var32d)
;;;974    		{
;;;975    			var32d = var32d - var32c;
;;;976    			SET_LoadA_OffsetH = var32d;
;;;977    			Polar10 |= 0x04;
;;;978    		}
;;;979    		else 
;;;980    		{
;;;981    			var32c = var32c - var32d;
;;;982    			SET_LoadA_OffsetH = var32c;
;;;983    			Polar10 &= ~0x04;
;;;984    		}
;;;985    		Flash_Write32BitDatas(FLASH_USER_START_ADDR,43, InFlashSave);
;;;986    //			Flash_Write_all ();	
;;;987    		Flag_DAC_OFF =0;
;;;988    	}else if(step == 9){
00004c  2809              CMP      r0,#9
00004e  d073              BEQ      |L2.312|
;;;989    		Modify_A_READ = Imon1_value;//
;;;990    		Modify_C_READ = Contr_Laod;//
;;;991    		Modify_A_ACT = inputvalue;
;;;992    	}else if(step == 10){
000050  280a              CMP      r0,#0xa
000052  d142              BNE      |L2.218|
;;;993    		vu32 var16;
;;;994    		vu32 var32a;
;;;995    		vu32 var32b;
;;;996    		
;;;997    		vu32 var16a;
;;;998    		vu32 var32c;
;;;999    		vu32 var32d;
;;;1000   		
;;;1001   		Modify_B_READ = Imon1_value;
000054  6818              LDR      r0,[r3,#0]  ; Imon1_value
000056  f8a90000          STRH     r0,[r9,#0]
;;;1002   		Modify_D_READ = Contr_Laod;
00005a  8828              LDRH     r0,[r5,#0]  ; Contr_Laod
00005c  f8a80000          STRH     r0,[r8,#0]
;;;1003   		Modify_B_ACT = inputvalue;
000060  f8ac1000          STRH     r1,[r12,#0]
;;;1004   		
;;;1005   		var32a = Modify_B_ACT;
000064  f8bc0000          LDRH     r0,[r12,#0]  ; Modify_B_ACT
000068  9005              STR      r0,[sp,#0x14]
;;;1006   		var32a = var32a - Modify_A_ACT;
00006a  8811              LDRH     r1,[r2,#0]  ; Modify_A_ACT
00006c  9805              LDR      r0,[sp,#0x14]
00006e  1a40              SUBS     r0,r0,r1
000070  9005              STR      r0,[sp,#0x14]
;;;1007   		var32a = var32a << 12;
000072  9805              LDR      r0,[sp,#0x14]
000074  0300              LSLS     r0,r0,#12
000076  9005              STR      r0,[sp,#0x14]
;;;1008   		var16 = Modify_B_READ - Modify_A_READ;
000078  f8b90000          LDRH     r0,[r9,#0]  ; Modify_B_READ
00007c  8821              LDRH     r1,[r4,#0]  ; Modify_A_READ
00007e  1a40              SUBS     r0,r0,r1
000080  9006              STR      r0,[sp,#0x18]
;;;1009   		var32a = var32a / var16;
000082  e9dd0105          LDRD     r0,r1,[sp,#0x14]
000086  fbb0f0f1          UDIV     r0,r0,r1
00008a  9005              STR      r0,[sp,#0x14]
;;;1010   		REG_Load_AH1 = var32a;
00008c  9805              LDR      r0,[sp,#0x14]
00008e  f8cb0048          STR      r0,[r11,#0x48]  ; InFlashSave
;;;1011   		var32a = Modify_B_ACT;
000092  f8bc1000          LDRH     r1,[r12,#0]  ; Modify_B_ACT
000096  9105              STR      r1,[sp,#0x14]
;;;1012   		var32a = var32a << 12;
000098  9905              LDR      r1,[sp,#0x14]
00009a  0309              LSLS     r1,r1,#12
00009c  9105              STR      r1,[sp,#0x14]
;;;1013   		var32b = Modify_B_READ;
00009e  f8b91000          LDRH     r1,[r9,#0]  ; Modify_B_READ
0000a2  9104              STR      r1,[sp,#0x10]
;;;1014   		var32b = var32b * REG_Load_AH1;
0000a4  9904              LDR      r1,[sp,#0x10]
0000a6  4348              MULS     r0,r1,r0
0000a8  9004              STR      r0,[sp,#0x10]
0000aa  4658              MOV      r0,r11                ;812
;;;1015   		if (var32a < var32b)
;;;1016   		{
;;;1017   			var32b = var32b - var32a;
;;;1018   			REG_LoadA_OffsetH1 = var32b;
;;;1019   			Polar11 |= 0x01;
0000ac  e9dd3104          LDRD     r3,r1,[sp,#0x10]
0000b0  f8d00080          LDR      r0,[r0,#0x80]
0000b4  4299              CMP      r1,r3                 ;1015
0000b6  d27c              BCS      |L2.434|
0000b8  e9dd1304          LDRD     r1,r3,[sp,#0x10]      ;1017
0000bc  1ac9              SUBS     r1,r1,r3              ;1017
0000be  9104              STR      r1,[sp,#0x10]         ;1017
0000c0  9904              LDR      r1,[sp,#0x10]         ;1018
0000c2  f8cb1050          STR      r1,[r11,#0x50]        ;1018  ; InFlashSave
0000c6  f0400001          ORR      r0,r0,#1
0000ca  f8cb0080          STR      r0,[r11,#0x80]  ; InFlashSave
0000ce  e2a9              B        |L2.1572|
                  |L2.208|
0000d0  6818              LDR      r0,[r3,#0]            ;726  ; Imon1_value
0000d2  8020              STRH     r0,[r4,#0]            ;726
0000d4  8828              LDRH     r0,[r5,#0]            ;727  ; Contr_Laod
0000d6  8030              STRH     r0,[r6,#0]            ;727
0000d8  8011              STRH     r1,[r2,#0]            ;728
                  |L2.218|
;;;1020   		}
;;;1021   		else 
;;;1022   		{
;;;1023   			var32a = var32a - var32b;
;;;1024   			REG_LoadA_OffsetH1 = var32a;
;;;1025   			Polar11 &= ~0x01;					
;;;1026   		}
;;;1027   //---------------------------------------------------------------------------------//
;;;1028   		var32c = Modify_B_ACT; 
;;;1029   		var32c = var32c - Modify_A_ACT;
;;;1030   		var32c = var32c << 12;
;;;1031   		var16a=Modify_D_READ-Modify_C_READ;
;;;1032   		var16a=var16a*2;
;;;1033   		var32c=var32c/var16a;
;;;1034   		SET_LoadAH1 = var32c;
;;;1035   		var32c = Modify_B_ACT;
;;;1036   		var32c = var32c << 12;
;;;1037   		var32d = SET_LoadAH1;
;;;1038   		var32d = var32d * (Modify_D_READ*2);
;;;1039   		if (var32c < var32d)
;;;1040   		{
;;;1041   			var32d = var32d - var32c;
;;;1042   			SET_LoadA_OffsetH1 = var32d;
;;;1043   			Polar11 |= 0x04;
;;;1044   		}
;;;1045   		else 
;;;1046   		{
;;;1047   			var32c = var32c - var32d;
;;;1048   			SET_LoadA_OffsetH1 = var32c;
;;;1049   			Polar11 &= ~0x04;
;;;1050   		}
;;;1051   		Flash_Write32BitDatas(FLASH_USER_START_ADDR,43, InFlashSave);
;;;1052   //			Flash_Write_all ();	
;;;1053   		Flag_DAC_OFF =0;
;;;1054   	}
;;;1055   }
0000da  b007              ADD      sp,sp,#0x1c
0000dc  e8bd8ff0          POP      {r4-r11,pc}
                  |L2.224|
0000e0  6818              LDR      r0,[r3,#0]            ;738  ; Imon1_value
0000e2  f8a90000          STRH     r0,[r9,#0]            ;738
0000e6  8828              LDRH     r0,[r5,#0]            ;739  ; Contr_Laod
0000e8  f8a80000          STRH     r0,[r8,#0]            ;739
0000ec  f8ac1000          STRH     r1,[r12,#0]           ;740
0000f0  f8bc0000          LDRH     r0,[r12,#0]           ;742  ; Modify_B_ACT
0000f4  9005              STR      r0,[sp,#0x14]         ;742
0000f6  8811              LDRH     r1,[r2,#0]            ;743  ; Modify_A_ACT
0000f8  9805              LDR      r0,[sp,#0x14]         ;743
0000fa  1a40              SUBS     r0,r0,r1              ;743
0000fc  9005              STR      r0,[sp,#0x14]         ;743
0000fe  9805              LDR      r0,[sp,#0x14]         ;744
000100  0300              LSLS     r0,r0,#12             ;744
000102  9005              STR      r0,[sp,#0x14]         ;744
000104  f8b90000          LDRH     r0,[r9,#0]            ;745  ; Modify_B_READ
000108  8821              LDRH     r1,[r4,#0]            ;745  ; Modify_A_READ
00010a  1a40              SUBS     r0,r0,r1              ;745
00010c  9006              STR      r0,[sp,#0x18]         ;745
00010e  e9dd0105          LDRD     r0,r1,[sp,#0x14]      ;746
000112  fbb0f0f1          UDIV     r0,r0,r1              ;746
000116  9005              STR      r0,[sp,#0x14]         ;746
000118  4bc3              LDR      r3,|L2.1064|
00011a  9805              LDR      r0,[sp,#0x14]         ;747
00011c  6058              STR      r0,[r3,#4]            ;747  ; Correct_Parametet
00011e  f8bc0000          LDRH     r0,[r12,#0]           ;748  ; Modify_B_ACT
000122  9005              STR      r0,[sp,#0x14]         ;748
000124  9805              LDR      r0,[sp,#0x14]         ;749
000126  0300              LSLS     r0,r0,#12             ;749
000128  9005              STR      r0,[sp,#0x14]         ;749
00012a  e006              B        |L2.314|
                  |L2.300|
00012c  e070              B        |L2.528|
                  |L2.302|
00012e  e075              B        |L2.540|
                  |L2.304|
000130  e10c              B        |L2.844|
                  |L2.306|
000132  e111              B        |L2.856|
                  |L2.308|
000134  e1c7              B        |L2.1222|
                  |L2.310|
000136  e1cc              B        |L2.1234|
                  |L2.312|
000138  e263              B        |L2.1538|
                  |L2.314|
00013a  f8b90000          LDRH     r0,[r9,#0]            ;750  ; Modify_B_READ
00013e  9004              STR      r0,[sp,#0x10]         ;750
000140  6858              LDR      r0,[r3,#4]            ;751  ; Correct_Parametet
000142  9904              LDR      r1,[sp,#0x10]         ;751
000144  4348              MULS     r0,r1,r0              ;751
000146  9004              STR      r0,[sp,#0x10]         ;751
000148  e9dd5404          LDRD     r5,r4,[sp,#0x10]      ;752
00014c  49b7              LDR      r1,|L2.1068|
00014e  48b8              LDR      r0,|L2.1072|
000150  42ac              CMP      r4,r5                 ;752
000152  d20a              BCS      |L2.362|
000154  e9dd4504          LDRD     r4,r5,[sp,#0x10]      ;754
000158  1b64              SUBS     r4,r4,r5              ;754
00015a  9404              STR      r4,[sp,#0x10]         ;754
00015c  9c04              LDR      r4,[sp,#0x10]         ;755
00015e  604c              STR      r4,[r1,#4]            ;755  ; Correct_Strong
000160  7844              LDRB     r4,[r0,#1]            ;756  ; correct_por
000162  f0440401          ORR      r4,r4,#1              ;756
000166  7044              STRB     r4,[r0,#1]            ;756
000168  e009              B        |L2.382|
                  |L2.362|
00016a  e9dd5404          LDRD     r5,r4,[sp,#0x10]      ;760
00016e  1b64              SUBS     r4,r4,r5              ;760
000170  9405              STR      r4,[sp,#0x14]         ;760
000172  9c05              LDR      r4,[sp,#0x14]         ;761
000174  604c              STR      r4,[r1,#4]            ;761  ; Correct_Strong
000176  7844              LDRB     r4,[r0,#1]            ;762  ; correct_por
000178  f0240401          BIC      r4,r4,#1              ;762
00017c  7044              STRB     r4,[r0,#1]            ;762
                  |L2.382|
00017e  f8bc4000          LDRH     r4,[r12,#0]           ;765  ; Modify_B_ACT
000182  9402              STR      r4,[sp,#8]            ;765
000184  8812              LDRH     r2,[r2,#0]            ;766  ; Modify_A_ACT
000186  9c02              LDR      r4,[sp,#8]            ;766
000188  1aa2              SUBS     r2,r4,r2              ;766
00018a  9202              STR      r2,[sp,#8]            ;766
00018c  9a02              LDR      r2,[sp,#8]            ;767
00018e  0312              LSLS     r2,r2,#12             ;767
000190  9202              STR      r2,[sp,#8]            ;767
000192  f8b82000          LDRH     r2,[r8,#0]            ;768  ; Modify_D_READ
000196  8834              LDRH     r4,[r6,#0]            ;768  ; Modify_C_READ
000198  1b12              SUBS     r2,r2,r4              ;768
00019a  9203              STR      r2,[sp,#0xc]          ;768
00019c  9a03              LDR      r2,[sp,#0xc]          ;769
00019e  0052              LSLS     r2,r2,#1              ;769
0001a0  9203              STR      r2,[sp,#0xc]          ;769
0001a2  e9dd2402          LDRD     r2,r4,[sp,#8]         ;770
0001a6  fbb2f2f4          UDIV     r2,r2,r4              ;770
0001aa  9202              STR      r2,[sp,#8]            ;770
0001ac  9a02              LDR      r2,[sp,#8]            ;771
0001ae  609a              STR      r2,[r3,#8]            ;771  ; Correct_Parametet
0001b0  e000              B        |L2.436|
                  |L2.434|
0001b2  e22c              B        |L2.1550|
                  |L2.436|
0001b4  f8bc2000          LDRH     r2,[r12,#0]           ;772  ; Modify_B_ACT
0001b8  9202              STR      r2,[sp,#8]            ;772
0001ba  9a02              LDR      r2,[sp,#8]            ;773
0001bc  0312              LSLS     r2,r2,#12             ;773
0001be  9202              STR      r2,[sp,#8]            ;773
0001c0  689a              LDR      r2,[r3,#8]            ;774  ; Correct_Parametet
0001c2  9201              STR      r2,[sp,#4]            ;774
0001c4  f8b83000          LDRH     r3,[r8,#0]            ;775  ; Modify_D_READ
0001c8  9a01              LDR      r2,[sp,#4]            ;775
0001ca  435a              MULS     r2,r3,r2              ;775
0001cc  0052              LSLS     r2,r2,#1              ;775
0001ce  9201              STR      r2,[sp,#4]            ;775
0001d0  e9dd3201          LDRD     r3,r2,[sp,#4]         ;776
0001d4  429a              CMP      r2,r3                 ;776
0001d6  d20a              BCS      |L2.494|
0001d8  e9dd2301          LDRD     r2,r3,[sp,#4]         ;778
0001dc  1ad2              SUBS     r2,r2,r3              ;778
0001de  9201              STR      r2,[sp,#4]            ;778
0001e0  9a01              LDR      r2,[sp,#4]            ;779
0001e2  608a              STR      r2,[r1,#8]            ;779  ; Correct_Strong
0001e4  7841              LDRB     r1,[r0,#1]            ;780  ; correct_por
0001e6  f0410104          ORR      r1,r1,#4              ;780
0001ea  7041              STRB     r1,[r0,#1]            ;780
0001ec  e009              B        |L2.514|
                  |L2.494|
0001ee  e9dd3201          LDRD     r3,r2,[sp,#4]         ;784
0001f2  1ad2              SUBS     r2,r2,r3              ;784
0001f4  9202              STR      r2,[sp,#8]            ;784
0001f6  9a02              LDR      r2,[sp,#8]            ;785
0001f8  608a              STR      r2,[r1,#8]            ;785  ; Correct_Strong
0001fa  7841              LDRB     r1,[r0,#1]            ;786  ; correct_por
0001fc  f0210104          BIC      r1,r1,#4              ;786
000200  7041              STRB     r1,[r0,#1]            ;786
                  |L2.514|
000202  f7fffffe          BL       Flash_Write_all
000206  6838              LDR      r0,[r7,#0]            ;789  ; flagB
000208  f0200008          BIC      r0,r0,#8              ;789
00020c  6038              STR      r0,[r7,#0]            ;789  ; flagB
00020e  e764              B        |L2.218|
                  |L2.528|
000210  6818              LDR      r0,[r3,#0]            ;791  ; Imon1_value
000212  8020              STRH     r0,[r4,#0]            ;791
000214  8828              LDRH     r0,[r5,#0]            ;792  ; Contr_Laod
000216  8030              STRH     r0,[r6,#0]            ;792
000218  8011              STRH     r1,[r2,#0]            ;793
00021a  e75e              B        |L2.218|
                  |L2.540|
00021c  6818              LDR      r0,[r3,#0]            ;803  ; Imon1_value
00021e  f8a90000          STRH     r0,[r9,#0]            ;803
000222  8828              LDRH     r0,[r5,#0]            ;804  ; Contr_Laod
000224  f8a80000          STRH     r0,[r8,#0]            ;804
000228  f8ac1000          STRH     r1,[r12,#0]           ;805
00022c  f8bc0000          LDRH     r0,[r12,#0]           ;807  ; Modify_B_ACT
000230  9005              STR      r0,[sp,#0x14]         ;807
000232  8811              LDRH     r1,[r2,#0]            ;808  ; Modify_A_ACT
000234  9805              LDR      r0,[sp,#0x14]         ;808
000236  1a40              SUBS     r0,r0,r1              ;808
000238  9005              STR      r0,[sp,#0x14]         ;808
00023a  9805              LDR      r0,[sp,#0x14]         ;809
00023c  0300              LSLS     r0,r0,#12             ;809
00023e  9005              STR      r0,[sp,#0x14]         ;809
000240  f8b90000          LDRH     r0,[r9,#0]            ;810  ; Modify_B_READ
000244  8821              LDRH     r1,[r4,#0]            ;810  ; Modify_A_READ
000246  1a40              SUBS     r0,r0,r1              ;810
000248  9006              STR      r0,[sp,#0x18]         ;810
00024a  e9dd0105          LDRD     r0,r1,[sp,#0x14]      ;811
00024e  fbb0f0f1          UDIV     r0,r0,r1              ;811
000252  9005              STR      r0,[sp,#0x14]         ;811
000254  9805              LDR      r0,[sp,#0x14]         ;812
000256  f8cb0018          STR      r0,[r11,#0x18]        ;812  ; InFlashSave
00025a  f8bc1000          LDRH     r1,[r12,#0]           ;813  ; Modify_B_ACT
00025e  9105              STR      r1,[sp,#0x14]         ;813
000260  9905              LDR      r1,[sp,#0x14]         ;814
000262  0309              LSLS     r1,r1,#12             ;814
000264  9105              STR      r1,[sp,#0x14]         ;814
000266  f8b91000          LDRH     r1,[r9,#0]            ;815  ; Modify_B_READ
00026a  9104              STR      r1,[sp,#0x10]         ;815
00026c  9904              LDR      r1,[sp,#0x10]         ;816
00026e  4348              MULS     r0,r1,r0              ;816
000270  9004              STR      r0,[sp,#0x10]         ;816
000272  486c              LDR      r0,|L2.1060|
000274  e9dd3104          LDRD     r3,r1,[sp,#0x10]      ;821
000278  6f40              LDR      r0,[r0,#0x74]         ;821
00027a  4299              CMP      r1,r3                 ;817
00027c  d20b              BCS      |L2.662|
00027e  e9dd1304          LDRD     r1,r3,[sp,#0x10]      ;819
000282  1ac9              SUBS     r1,r1,r3              ;819
000284  9104              STR      r1,[sp,#0x10]         ;819
000286  9904              LDR      r1,[sp,#0x10]         ;820
000288  f8cb1020          STR      r1,[r11,#0x20]        ;820  ; InFlashSave
00028c  f0400001          ORR      r0,r0,#1              ;821
000290  f8cb0074          STR      r0,[r11,#0x74]        ;821  ; InFlashSave
000294  e00a              B        |L2.684|
                  |L2.662|
000296  e9dd3104          LDRD     r3,r1,[sp,#0x10]      ;825
00029a  1ac9              SUBS     r1,r1,r3              ;825
00029c  9105              STR      r1,[sp,#0x14]         ;825
00029e  9905              LDR      r1,[sp,#0x14]         ;826
0002a0  f8cb1020          STR      r1,[r11,#0x20]        ;826  ; InFlashSave
0002a4  f0200001          BIC      r0,r0,#1              ;827
0002a8  f8cb0074          STR      r0,[r11,#0x74]        ;827  ; InFlashSave
                  |L2.684|
0002ac  f8bc0000          LDRH     r0,[r12,#0]           ;830  ; Modify_B_ACT
0002b0  9002              STR      r0,[sp,#8]            ;830
0002b2  8811              LDRH     r1,[r2,#0]            ;831  ; Modify_A_ACT
0002b4  9802              LDR      r0,[sp,#8]            ;831
0002b6  1a40              SUBS     r0,r0,r1              ;831
0002b8  9002              STR      r0,[sp,#8]            ;831
0002ba  9802              LDR      r0,[sp,#8]            ;832
0002bc  0300              LSLS     r0,r0,#12             ;832
0002be  9002              STR      r0,[sp,#8]            ;832
0002c0  f8b80000          LDRH     r0,[r8,#0]            ;833  ; Modify_D_READ
0002c4  8831              LDRH     r1,[r6,#0]            ;833  ; Modify_C_READ
0002c6  1a40              SUBS     r0,r0,r1              ;833
0002c8  9003              STR      r0,[sp,#0xc]          ;833
0002ca  9803              LDR      r0,[sp,#0xc]          ;834
0002cc  0040              LSLS     r0,r0,#1              ;834
0002ce  9003              STR      r0,[sp,#0xc]          ;834
0002d0  e9dd0102          LDRD     r0,r1,[sp,#8]         ;835
0002d4  fbb0f0f1          UDIV     r0,r0,r1              ;835
0002d8  9002              STR      r0,[sp,#8]            ;835
0002da  9802              LDR      r0,[sp,#8]            ;836
0002dc  f8cb001c          STR      r0,[r11,#0x1c]        ;836  ; InFlashSave
0002e0  f8bc1000          LDRH     r1,[r12,#0]           ;837  ; Modify_B_ACT
0002e4  9102              STR      r1,[sp,#8]            ;837
0002e6  9902              LDR      r1,[sp,#8]            ;838
0002e8  0309              LSLS     r1,r1,#12             ;838
0002ea  9102              STR      r1,[sp,#8]            ;838
0002ec  9001              STR      r0,[sp,#4]            ;839
0002ee  f8b81000          LDRH     r1,[r8,#0]            ;840  ; Modify_D_READ
0002f2  9801              LDR      r0,[sp,#4]            ;840
0002f4  4348              MULS     r0,r1,r0              ;840
0002f6  0040              LSLS     r0,r0,#1              ;840
0002f8  9001              STR      r0,[sp,#4]            ;840
0002fa  e9dd1001          LDRD     r1,r0,[sp,#4]         ;841
0002fe  4288              CMP      r0,r1                 ;841
000300  d20d              BCS      |L2.798|
000302  e9dd0101          LDRD     r0,r1,[sp,#4]         ;843
000306  1a40              SUBS     r0,r0,r1              ;843
000308  9001              STR      r0,[sp,#4]            ;843
00030a  9801              LDR      r0,[sp,#4]            ;844
00030c  f8cb0024          STR      r0,[r11,#0x24]        ;844  ; InFlashSave
000310  f8db0074          LDR      r0,[r11,#0x74]        ;845  ; InFlashSave
000314  f0400004          ORR      r0,r0,#4              ;845
000318  f8cb0074          STR      r0,[r11,#0x74]        ;845  ; InFlashSave
00031c  e00c              B        |L2.824|
                  |L2.798|
00031e  e9dd1001          LDRD     r1,r0,[sp,#4]         ;849
000322  1a40              SUBS     r0,r0,r1              ;849
000324  9002              STR      r0,[sp,#8]            ;849
000326  9802              LDR      r0,[sp,#8]            ;850
000328  f8cb0024          STR      r0,[r11,#0x24]        ;850  ; InFlashSave
00032c  f8db0074          LDR      r0,[r11,#0x74]        ;851  ; InFlashSave
000330  f0200004          BIC      r0,r0,#4              ;851
000334  f8cb0074          STR      r0,[r11,#0x74]        ;851  ; InFlashSave
                  |L2.824|
000338  4a3a              LDR      r2,|L2.1060|
00033a  212b              MOVS     r1,#0x2b              ;853
00033c  4650              MOV      r0,r10                ;853
00033e  f7fffffe          BL       Flash_Write32BitDatas
000342  6838              LDR      r0,[r7,#0]            ;855  ; flagB
000344  f0200008          BIC      r0,r0,#8              ;855
000348  6038              STR      r0,[r7,#0]            ;855  ; flagB
00034a  e6c6              B        |L2.218|
                  |L2.844|
00034c  6818              LDR      r0,[r3,#0]            ;857  ; Imon1_value
00034e  8020              STRH     r0,[r4,#0]            ;857
000350  8828              LDRH     r0,[r5,#0]            ;858  ; Contr_Laod
000352  8030              STRH     r0,[r6,#0]            ;858
000354  8011              STRH     r1,[r2,#0]            ;859
000356  e6c0              B        |L2.218|
                  |L2.856|
000358  6818              LDR      r0,[r3,#0]            ;869  ; Imon1_value
00035a  f8a90000          STRH     r0,[r9,#0]            ;869
00035e  8828              LDRH     r0,[r5,#0]            ;870  ; Contr_Laod
000360  f8a80000          STRH     r0,[r8,#0]            ;870
000364  f8ac1000          STRH     r1,[r12,#0]           ;871
000368  f8bc0000          LDRH     r0,[r12,#0]           ;873  ; Modify_B_ACT
00036c  9005              STR      r0,[sp,#0x14]         ;873
00036e  8811              LDRH     r1,[r2,#0]            ;874  ; Modify_A_ACT
000370  9805              LDR      r0,[sp,#0x14]         ;874
000372  1a40              SUBS     r0,r0,r1              ;874
000374  9005              STR      r0,[sp,#0x14]         ;874
000376  9805              LDR      r0,[sp,#0x14]         ;875
000378  0300              LSLS     r0,r0,#12             ;875
00037a  9005              STR      r0,[sp,#0x14]         ;875
00037c  f8b90000          LDRH     r0,[r9,#0]            ;876  ; Modify_B_READ
000380  8821              LDRH     r1,[r4,#0]            ;876  ; Modify_A_READ
000382  1a40              SUBS     r0,r0,r1              ;876
000384  9006              STR      r0,[sp,#0x18]         ;876
000386  e9dd0105          LDRD     r0,r1,[sp,#0x14]      ;877
00038a  fbb0f0f1          UDIV     r0,r0,r1              ;877
00038e  9005              STR      r0,[sp,#0x14]         ;877
000390  9805              LDR      r0,[sp,#0x14]         ;878
000392  f8cb0028          STR      r0,[r11,#0x28]        ;878  ; InFlashSave
000396  f8bc1000          LDRH     r1,[r12,#0]           ;879  ; Modify_B_ACT
00039a  9105              STR      r1,[sp,#0x14]         ;879
00039c  9905              LDR      r1,[sp,#0x14]         ;880
00039e  0309              LSLS     r1,r1,#12             ;880
0003a0  9105              STR      r1,[sp,#0x14]         ;880
0003a2  f8b91000          LDRH     r1,[r9,#0]            ;881  ; Modify_B_READ
0003a6  9104              STR      r1,[sp,#0x10]         ;881
0003a8  9904              LDR      r1,[sp,#0x10]         ;882
0003aa  4348              MULS     r0,r1,r0              ;882
0003ac  9004              STR      r0,[sp,#0x10]         ;882
0003ae  481d              LDR      r0,|L2.1060|
0003b0  e9dd3104          LDRD     r3,r1,[sp,#0x10]      ;887
0003b4  6f80              LDR      r0,[r0,#0x78]         ;887
0003b6  4299              CMP      r1,r3                 ;883
0003b8  d20b              BCS      |L2.978|
0003ba  e9dd1304          LDRD     r1,r3,[sp,#0x10]      ;885
0003be  1ac9              SUBS     r1,r1,r3              ;885
0003c0  9104              STR      r1,[sp,#0x10]         ;885
0003c2  9904              LDR      r1,[sp,#0x10]         ;886
0003c4  f8cb1030          STR      r1,[r11,#0x30]        ;886  ; InFlashSave
0003c8  f0400001          ORR      r0,r0,#1              ;887
0003cc  f8cb0078          STR      r0,[r11,#0x78]        ;887  ; InFlashSave
0003d0  e00a              B        |L2.1000|
                  |L2.978|
0003d2  e9dd3104          LDRD     r3,r1,[sp,#0x10]      ;891
0003d6  1ac9              SUBS     r1,r1,r3              ;891
0003d8  9105              STR      r1,[sp,#0x14]         ;891
0003da  9905              LDR      r1,[sp,#0x14]         ;892
0003dc  f8cb1030          STR      r1,[r11,#0x30]        ;892  ; InFlashSave
0003e0  f0200001          BIC      r0,r0,#1              ;893
0003e4  f8cb0078          STR      r0,[r11,#0x78]        ;893  ; InFlashSave
                  |L2.1000|
0003e8  f8bc0000          LDRH     r0,[r12,#0]           ;896  ; Modify_B_ACT
0003ec  9002              STR      r0,[sp,#8]            ;896
0003ee  8811              LDRH     r1,[r2,#0]            ;897  ; Modify_A_ACT
0003f0  9802              LDR      r0,[sp,#8]            ;897
0003f2  1a40              SUBS     r0,r0,r1              ;897
0003f4  9002              STR      r0,[sp,#8]            ;897
0003f6  e01d              B        |L2.1076|
                  |L2.1016|
                          DCD      Imon1_value
                  |L2.1020|
                          DCD      Modify_A_READ
                  |L2.1024|
                          DCD      Contr_Laod
                  |L2.1028|
                          DCD      Modify_C_READ
                  |L2.1032|
                          DCD      ||.data||
                  |L2.1036|
                          DCD      Modify_A_ACT
                  |L2.1040|
                          DCD      Modify_B_READ
                  |L2.1044|
                          DCD      flagB
                  |L2.1048|
                          DCD      Modify_D_READ
                  |L2.1052|
                          DCD      Modify_B_ACT
                  |L2.1056|
                          DCD      0x080e0000
                  |L2.1060|
                          DCD      InFlashSave
                  |L2.1064|
                          DCD      Correct_Parametet
                  |L2.1068|
                          DCD      Correct_Strong
                  |L2.1072|
                          DCD      correct_por
                  |L2.1076|
000434  9802              LDR      r0,[sp,#8]            ;898
000436  0300              LSLS     r0,r0,#12             ;898
000438  9002              STR      r0,[sp,#8]            ;898
00043a  f8b80000          LDRH     r0,[r8,#0]            ;899  ; Modify_D_READ
00043e  8831              LDRH     r1,[r6,#0]            ;899  ; Modify_C_READ
000440  1a40              SUBS     r0,r0,r1              ;899
000442  9003              STR      r0,[sp,#0xc]          ;899
000444  9803              LDR      r0,[sp,#0xc]          ;900
000446  0040              LSLS     r0,r0,#1              ;900
000448  9003              STR      r0,[sp,#0xc]          ;900
00044a  e9dd1002          LDRD     r1,r0,[sp,#8]         ;901
00044e  fbb1f0f0          UDIV     r0,r1,r0              ;901
000452  9002              STR      r0,[sp,#8]            ;901
000454  9802              LDR      r0,[sp,#8]            ;902
000456  f8cb002c          STR      r0,[r11,#0x2c]        ;902  ; InFlashSave
00045a  f8bc1000          LDRH     r1,[r12,#0]           ;903  ; Modify_B_ACT
00045e  9102              STR      r1,[sp,#8]            ;903
000460  9902              LDR      r1,[sp,#8]            ;904
000462  0309              LSLS     r1,r1,#12             ;904
000464  9102              STR      r1,[sp,#8]            ;904
000466  9001              STR      r0,[sp,#4]            ;905
000468  f8b81000          LDRH     r1,[r8,#0]            ;906  ; Modify_D_READ
00046c  9801              LDR      r0,[sp,#4]            ;906
00046e  4348              MULS     r0,r1,r0              ;906
000470  0040              LSLS     r0,r0,#1              ;906
000472  9001              STR      r0,[sp,#4]            ;906
000474  e9dd1001          LDRD     r1,r0,[sp,#4]         ;907
000478  4288              CMP      r0,r1                 ;907
00047a  d20d              BCS      |L2.1176|
00047c  e9dd0101          LDRD     r0,r1,[sp,#4]         ;909
000480  1a40              SUBS     r0,r0,r1              ;909
000482  9001              STR      r0,[sp,#4]            ;909
000484  9801              LDR      r0,[sp,#4]            ;910
000486  f8cb0034          STR      r0,[r11,#0x34]        ;910  ; InFlashSave
00048a  f8db0078          LDR      r0,[r11,#0x78]        ;911  ; InFlashSave
00048e  f0400004          ORR      r0,r0,#4              ;911
000492  f8cb0078          STR      r0,[r11,#0x78]        ;911  ; InFlashSave
000496  e00c              B        |L2.1202|
                  |L2.1176|
000498  e9dd1001          LDRD     r1,r0,[sp,#4]         ;915
00049c  1a40              SUBS     r0,r0,r1              ;915
00049e  9002              STR      r0,[sp,#8]            ;915
0004a0  9802              LDR      r0,[sp,#8]            ;916
0004a2  f8cb0034          STR      r0,[r11,#0x34]        ;916  ; InFlashSave
0004a6  f8db0078          LDR      r0,[r11,#0x78]        ;917  ; InFlashSave
0004aa  f0200004          BIC      r0,r0,#4              ;917
0004ae  f8cb0078          STR      r0,[r11,#0x78]        ;917  ; InFlashSave
                  |L2.1202|
0004b2  4a84              LDR      r2,|L2.1732|
0004b4  212b              MOVS     r1,#0x2b              ;919
0004b6  4650              MOV      r0,r10                ;919
0004b8  f7fffffe          BL       Flash_Write32BitDatas
0004bc  6838              LDR      r0,[r7,#0]            ;921  ; flagB
0004be  f0200008          BIC      r0,r0,#8              ;921
0004c2  6038              STR      r0,[r7,#0]            ;921  ; flagB
0004c4  e609              B        |L2.218|
                  |L2.1222|
0004c6  6818              LDR      r0,[r3,#0]            ;923  ; Imon1_value
0004c8  8020              STRH     r0,[r4,#0]            ;923
0004ca  8828              LDRH     r0,[r5,#0]            ;924  ; Contr_Laod
0004cc  8030              STRH     r0,[r6,#0]            ;924
0004ce  8011              STRH     r1,[r2,#0]            ;925
0004d0  e603              B        |L2.218|
                  |L2.1234|
0004d2  6818              LDR      r0,[r3,#0]            ;935  ; Imon1_value
0004d4  f8a90000          STRH     r0,[r9,#0]            ;935
0004d8  8828              LDRH     r0,[r5,#0]            ;936  ; Contr_Laod
0004da  f8a80000          STRH     r0,[r8,#0]            ;936
0004de  f8ac1000          STRH     r1,[r12,#0]           ;937
0004e2  f8bc0000          LDRH     r0,[r12,#0]           ;939  ; Modify_B_ACT
0004e6  9005              STR      r0,[sp,#0x14]         ;939
0004e8  8811              LDRH     r1,[r2,#0]            ;940  ; Modify_A_ACT
0004ea  9805              LDR      r0,[sp,#0x14]         ;940
0004ec  1a40              SUBS     r0,r0,r1              ;940
0004ee  9005              STR      r0,[sp,#0x14]         ;940
0004f0  9805              LDR      r0,[sp,#0x14]         ;941
0004f2  0300              LSLS     r0,r0,#12             ;941
0004f4  9005              STR      r0,[sp,#0x14]         ;941
0004f6  f8b90000          LDRH     r0,[r9,#0]            ;942  ; Modify_B_READ
0004fa  8821              LDRH     r1,[r4,#0]            ;942  ; Modify_A_READ
0004fc  1a40              SUBS     r0,r0,r1              ;942
0004fe  9006              STR      r0,[sp,#0x18]         ;942
000500  e9dd0105          LDRD     r0,r1,[sp,#0x14]      ;943
000504  fbb0f0f1          UDIV     r0,r0,r1              ;943
000508  9005              STR      r0,[sp,#0x14]         ;943
00050a  9805              LDR      r0,[sp,#0x14]         ;944
00050c  f8cb0038          STR      r0,[r11,#0x38]        ;944  ; InFlashSave
000510  f8bc1000          LDRH     r1,[r12,#0]           ;945  ; Modify_B_ACT
000514  9105              STR      r1,[sp,#0x14]         ;945
000516  9905              LDR      r1,[sp,#0x14]         ;946
000518  0309              LSLS     r1,r1,#12             ;946
00051a  9105              STR      r1,[sp,#0x14]         ;946
00051c  f8b91000          LDRH     r1,[r9,#0]            ;947  ; Modify_B_READ
000520  9104              STR      r1,[sp,#0x10]         ;947
000522  9904              LDR      r1,[sp,#0x10]         ;948
000524  4348              MULS     r0,r1,r0              ;948
000526  9004              STR      r0,[sp,#0x10]         ;948
000528  4866              LDR      r0,|L2.1732|
00052a  e9dd3104          LDRD     r3,r1,[sp,#0x10]      ;953
00052e  6fc0              LDR      r0,[r0,#0x7c]         ;953
000530  4299              CMP      r1,r3                 ;949
000532  d20b              BCS      |L2.1356|
000534  e9dd1304          LDRD     r1,r3,[sp,#0x10]      ;951
000538  1ac9              SUBS     r1,r1,r3              ;951
00053a  9104              STR      r1,[sp,#0x10]         ;951
00053c  9904              LDR      r1,[sp,#0x10]         ;952
00053e  f8cb1040          STR      r1,[r11,#0x40]        ;952  ; InFlashSave
000542  f0400001          ORR      r0,r0,#1              ;953
000546  f8cb007c          STR      r0,[r11,#0x7c]        ;953  ; InFlashSave
00054a  e00a              B        |L2.1378|
                  |L2.1356|
00054c  e9dd3104          LDRD     r3,r1,[sp,#0x10]      ;957
000550  1ac9              SUBS     r1,r1,r3              ;957
000552  9105              STR      r1,[sp,#0x14]         ;957
000554  9905              LDR      r1,[sp,#0x14]         ;958
000556  f8cb1040          STR      r1,[r11,#0x40]        ;958  ; InFlashSave
00055a  f0200001          BIC      r0,r0,#1              ;959
00055e  f8cb007c          STR      r0,[r11,#0x7c]        ;959  ; InFlashSave
                  |L2.1378|
000562  f8bc0000          LDRH     r0,[r12,#0]           ;962  ; Modify_B_ACT
000566  9002              STR      r0,[sp,#8]            ;962
000568  8811              LDRH     r1,[r2,#0]            ;963  ; Modify_A_ACT
00056a  9802              LDR      r0,[sp,#8]            ;963
00056c  1a40              SUBS     r0,r0,r1              ;963
00056e  9002              STR      r0,[sp,#8]            ;963
000570  9802              LDR      r0,[sp,#8]            ;964
000572  0300              LSLS     r0,r0,#12             ;964
000574  9002              STR      r0,[sp,#8]            ;964
000576  f8b80000          LDRH     r0,[r8,#0]            ;965  ; Modify_D_READ
00057a  8831              LDRH     r1,[r6,#0]            ;965  ; Modify_C_READ
00057c  1a40              SUBS     r0,r0,r1              ;965
00057e  9003              STR      r0,[sp,#0xc]          ;965
000580  9803              LDR      r0,[sp,#0xc]          ;966
000582  0040              LSLS     r0,r0,#1              ;966
000584  9003              STR      r0,[sp,#0xc]          ;966
000586  e9dd0102          LDRD     r0,r1,[sp,#8]         ;967
00058a  fbb0f0f1          UDIV     r0,r0,r1              ;967
00058e  9002              STR      r0,[sp,#8]            ;967
000590  9802              LDR      r0,[sp,#8]            ;968
000592  f8cb003c          STR      r0,[r11,#0x3c]        ;968  ; InFlashSave
000596  f8bc1000          LDRH     r1,[r12,#0]           ;969  ; Modify_B_ACT
00059a  9102              STR      r1,[sp,#8]            ;969
00059c  9902              LDR      r1,[sp,#8]            ;970
00059e  0309              LSLS     r1,r1,#12             ;970
0005a0  9102              STR      r1,[sp,#8]            ;970
0005a2  9001              STR      r0,[sp,#4]            ;971
0005a4  f8b81000          LDRH     r1,[r8,#0]            ;972  ; Modify_D_READ
0005a8  9801              LDR      r0,[sp,#4]            ;972
0005aa  4348              MULS     r0,r1,r0              ;972
0005ac  0040              LSLS     r0,r0,#1              ;972
0005ae  9001              STR      r0,[sp,#4]            ;972
0005b0  e9dd1001          LDRD     r1,r0,[sp,#4]         ;973
0005b4  4288              CMP      r0,r1                 ;973
0005b6  d20d              BCS      |L2.1492|
0005b8  e9dd0101          LDRD     r0,r1,[sp,#4]         ;975
0005bc  1a40              SUBS     r0,r0,r1              ;975
0005be  9001              STR      r0,[sp,#4]            ;975
0005c0  9801              LDR      r0,[sp,#4]            ;976
0005c2  f8cb0044          STR      r0,[r11,#0x44]        ;976  ; InFlashSave
0005c6  f8db007c          LDR      r0,[r11,#0x7c]        ;977  ; InFlashSave
0005ca  f0400004          ORR      r0,r0,#4              ;977
0005ce  f8cb007c          STR      r0,[r11,#0x7c]        ;977  ; InFlashSave
0005d2  e00c              B        |L2.1518|
                  |L2.1492|
0005d4  e9dd1001          LDRD     r1,r0,[sp,#4]         ;981
0005d8  1a40              SUBS     r0,r0,r1              ;981
0005da  9002              STR      r0,[sp,#8]            ;981
0005dc  9802              LDR      r0,[sp,#8]            ;982
0005de  f8cb0044          STR      r0,[r11,#0x44]        ;982  ; InFlashSave
0005e2  f8db007c          LDR      r0,[r11,#0x7c]        ;983  ; InFlashSave
0005e6  f0200004          BIC      r0,r0,#4              ;983
0005ea  f8cb007c          STR      r0,[r11,#0x7c]        ;983  ; InFlashSave
                  |L2.1518|
0005ee  4a35              LDR      r2,|L2.1732|
0005f0  212b              MOVS     r1,#0x2b              ;985
0005f2  4650              MOV      r0,r10                ;985
0005f4  f7fffffe          BL       Flash_Write32BitDatas
0005f8  6838              LDR      r0,[r7,#0]            ;987  ; flagB
0005fa  f0200008          BIC      r0,r0,#8              ;987
0005fe  6038              STR      r0,[r7,#0]            ;987  ; flagB
000600  e56b              B        |L2.218|
                  |L2.1538|
000602  6818              LDR      r0,[r3,#0]            ;989  ; Imon1_value
000604  8020              STRH     r0,[r4,#0]            ;989
000606  8828              LDRH     r0,[r5,#0]            ;990  ; Contr_Laod
000608  8030              STRH     r0,[r6,#0]            ;990
00060a  8011              STRH     r1,[r2,#0]            ;991
00060c  e565              B        |L2.218|
                  |L2.1550|
00060e  e9dd3104          LDRD     r3,r1,[sp,#0x10]      ;1023
000612  1ac9              SUBS     r1,r1,r3              ;1023
000614  9105              STR      r1,[sp,#0x14]         ;1023
000616  9905              LDR      r1,[sp,#0x14]         ;1024
000618  f8cb1050          STR      r1,[r11,#0x50]        ;1024  ; InFlashSave
00061c  f0200001          BIC      r0,r0,#1              ;1025
000620  f8cb0080          STR      r0,[r11,#0x80]        ;1025  ; InFlashSave
                  |L2.1572|
000624  f8bc0000          LDRH     r0,[r12,#0]           ;1028  ; Modify_B_ACT
000628  9002              STR      r0,[sp,#8]            ;1028
00062a  8811              LDRH     r1,[r2,#0]            ;1029  ; Modify_A_ACT
00062c  9802              LDR      r0,[sp,#8]            ;1029
00062e  1a40              SUBS     r0,r0,r1              ;1029
000630  9002              STR      r0,[sp,#8]            ;1029
000632  9802              LDR      r0,[sp,#8]            ;1030
000634  0300              LSLS     r0,r0,#12             ;1030
000636  9002              STR      r0,[sp,#8]            ;1030
000638  f8b80000          LDRH     r0,[r8,#0]            ;1031  ; Modify_D_READ
00063c  8831              LDRH     r1,[r6,#0]            ;1031  ; Modify_C_READ
00063e  1a40              SUBS     r0,r0,r1              ;1031
000640  9003              STR      r0,[sp,#0xc]          ;1031
000642  9803              LDR      r0,[sp,#0xc]          ;1032
000644  0040              LSLS     r0,r0,#1              ;1032
000646  9003              STR      r0,[sp,#0xc]          ;1032
000648  e9dd0102          LDRD     r0,r1,[sp,#8]         ;1033
00064c  fbb0f0f1          UDIV     r0,r0,r1              ;1033
000650  9002              STR      r0,[sp,#8]            ;1033
000652  9802              LDR      r0,[sp,#8]            ;1034
000654  f8cb004c          STR      r0,[r11,#0x4c]        ;1034  ; InFlashSave
000658  f8bc1000          LDRH     r1,[r12,#0]           ;1035  ; Modify_B_ACT
00065c  9102              STR      r1,[sp,#8]            ;1035
00065e  9902              LDR      r1,[sp,#8]            ;1036
000660  0309              LSLS     r1,r1,#12             ;1036
000662  9102              STR      r1,[sp,#8]            ;1036
000664  9001              STR      r0,[sp,#4]            ;1037
000666  f8b81000          LDRH     r1,[r8,#0]            ;1038  ; Modify_D_READ
00066a  9801              LDR      r0,[sp,#4]            ;1038
00066c  4348              MULS     r0,r1,r0              ;1038
00066e  0040              LSLS     r0,r0,#1              ;1038
000670  9001              STR      r0,[sp,#4]            ;1038
000672  e9dd1001          LDRD     r1,r0,[sp,#4]         ;1039
000676  4288              CMP      r0,r1                 ;1039
000678  d20d              BCS      |L2.1686|
00067a  e9dd0101          LDRD     r0,r1,[sp,#4]         ;1041
00067e  1a40              SUBS     r0,r0,r1              ;1041
000680  9001              STR      r0,[sp,#4]            ;1041
000682  9801              LDR      r0,[sp,#4]            ;1042
000684  f8cb0054          STR      r0,[r11,#0x54]        ;1042  ; InFlashSave
000688  f8db0080          LDR      r0,[r11,#0x80]        ;1043  ; InFlashSave
00068c  f0400004          ORR      r0,r0,#4              ;1043
000690  f8cb0080          STR      r0,[r11,#0x80]        ;1043  ; InFlashSave
000694  e00c              B        |L2.1712|
                  |L2.1686|
000696  e9dd1001          LDRD     r1,r0,[sp,#4]         ;1047
00069a  1a40              SUBS     r0,r0,r1              ;1047
00069c  9002              STR      r0,[sp,#8]            ;1047
00069e  9802              LDR      r0,[sp,#8]            ;1048
0006a0  f8cb0054          STR      r0,[r11,#0x54]        ;1048  ; InFlashSave
0006a4  f8db0080          LDR      r0,[r11,#0x80]        ;1049  ; InFlashSave
0006a8  f0200004          BIC      r0,r0,#4              ;1049
0006ac  f8cb0080          STR      r0,[r11,#0x80]        ;1049  ; InFlashSave
                  |L2.1712|
0006b0  4a04              LDR      r2,|L2.1732|
0006b2  212b              MOVS     r1,#0x2b              ;1051
0006b4  4650              MOV      r0,r10                ;1051
0006b6  f7fffffe          BL       Flash_Write32BitDatas
0006ba  6838              LDR      r0,[r7,#0]            ;1053  ; flagB
0006bc  f0200008          BIC      r0,r0,#8              ;1053
0006c0  6038              STR      r0,[r7,#0]            ;1053  ; flagB
0006c2  e50a              B        |L2.218|
;;;1056   
                          ENDP

                  |L2.1732|
                          DCD      InFlashSave

                          AREA ||i.LoadVCal||, CODE, READONLY, ALIGN=2

                  LoadVCal PROC
;;;544    
;;;545    void LoadVCal(u8 step)
000000  e92d4ff0          PUSH     {r4-r11,lr}
;;;546    {
000004  b087              SUB      sp,sp,#0x1c
;;;547        if(step == 1)
;;;548        {
;;;549            Modify_A_READ = Vmon1_value;//????
;;;550    		Modify_C_READ = Contr_Laod;//?????
;;;551            Modify_A_ACT = inputvalue;//????
000006  49de              LDR      r1,|L3.896|
000008  4cd9              LDR      r4,|L3.880|
00000a  4dda              LDR      r5,|L3.884|
00000c  8909              LDRH     r1,[r1,#8]
00000e  f8dfa368          LDR      r10,|L3.888|
000012  f8dfc368          LDR      r12,|L3.892|
000016  4bdb              LDR      r3,|L3.900|
000018  b289              UXTH     r1,r1
00001a  2801              CMP      r0,#1                 ;547
00001c  d04e              BEQ      |L3.188|
;;;552        }else if(step == 2){
;;;553            vu32 var16;
;;;554            vu32 var32a;
;;;555            vu32 var32b;
;;;556            
;;;557            vu32 var16a;
;;;558            vu32 var32c;
;;;559            vu32 var32d;
;;;560            Modify_B_READ =Vmon1_value;//????
00001e  f8dfe368          LDR      lr,|L3.904|
;;;561    		Modify_D_READ =Contr_Laod;//?????
;;;562            Modify_B_ACT = inputvalue;//????
;;;563            var32a = Modify_B_ACT;
;;;564            var32a = var32a - Modify_A_ACT;
;;;565            var32a = var32a << 12;
;;;566            var16 = Modify_B_READ - Modify_A_READ;
;;;567            var32a = var32a / var16;
;;;568            REG_CorrectionV = var32a;
;;;569            var32a=0;
;;;570            var32a = Modify_B_ACT;
;;;571            var32a = var32a << 12;
;;;572            var32b = Modify_B_READ;
;;;573            var32b = var32b * REG_CorrectionV;
;;;574            if (var32a < var32b)
;;;575            {
;;;576                var32b = var32b - var32a;
;;;577                REG_ReadV_Offset = var32b;
;;;578                Polar |= 0x01;
;;;579            }
;;;580            else
;;;581            {
;;;582                var32a = var32a - var32b;
;;;583                REG_ReadV_Offset = var32a;
;;;584                Polar &= ~0x01;
;;;585            }
;;;586    //---------------------------------------------------------------------------------------//			
;;;587    		var32c = Modify_B_ACT; //CV???????
;;;588    		var32c = var32c - Modify_A_ACT;
;;;589    		var32c = var32c << 12;
;;;590    		var16a=Modify_D_READ-Modify_C_READ;
;;;591    		var16a=(var16a*2);
;;;592    		var32c=var32c/var16a;
;;;593    		SET_LoadV = var32c;
;;;594    		var32c = Modify_B_ACT;
;;;595    		var32c = var32c << 12;
;;;596    		var32d = SET_LoadV;
;;;597    		var32d = var32d * (Modify_D_READ*2);
;;;598    		if (var32c < var32d)
;;;599    		{
;;;600    			var32d = var32d - var32c;
;;;601    			SET_LoadV_Offset = var32d;
;;;602    			Polar2 |= 0x04;
;;;603    		}
;;;604    		else 
;;;605    		{
;;;606    			var32c = var32c - var32d;
;;;607    			SET_LoadV_Offset = var32c;
;;;608    			Polar2 &= ~0x04;
;;;609    		}
;;;610            Flash_Write_all();	//???FLASH
;;;611    		Flash_Write32BitDatas(FLASH_USER_START_ADDR,43, InFlashSave);
;;;612    		Flag_DAC_OFF =0;
000022  4fda              LDR      r7,|L3.908|
000024  f8dfb368          LDR      r11,|L3.912|
000028  4ada              LDR      r2,|L3.916|
00002a  f8df936c          LDR      r9,|L3.920|
00002e  f8df836c          LDR      r8,|L3.924|
000032  2802              CMP      r0,#2                 ;552
000034  d04c              BEQ      |L3.208|
;;;613    //        Flag_DAC_OFF=0;
;;;614        }else if(step == 3){
000036  2803              CMP      r0,#3
000038  d07e              BEQ      |L3.312|
00003a  4ed9              LDR      r6,|L3.928|
;;;615            Modify_A_READ = Vmon1_value;//????
;;;616    		Modify_C_READ = Contr_Laod;//?????
;;;617            Modify_A_ACT = inputvalue;//????
;;;618        }else if(step == 4){
00003c  2804              CMP      r0,#4
00003e  d07c              BEQ      |L3.314|
;;;619            vu32 var16;
;;;620            vu32 var32a;
;;;621            vu32 var32b;
;;;622            
;;;623            vu32 var16a;
;;;624            vu32 var32c;
;;;625            vu32 var32d;
;;;626            Modify_B_READ =Vmon1_value;//????
;;;627    		Modify_D_READ =Contr_Laod;//?????
;;;628            Modify_B_ACT = inputvalue;//????
;;;629            var32a = Modify_B_ACT;
;;;630            var32a = var32a - Modify_A_ACT;
;;;631            var32a = var32a << 12;
;;;632            var16 = Modify_B_READ - Modify_A_READ;
;;;633            var32a = var32a / var16;
;;;634            REG_CorrectionV1 = var32a;
;;;635            var32a=0;
;;;636            var32a = Modify_B_ACT;
;;;637            var32a = var32a << 12;
;;;638            var32b = Modify_B_READ;
;;;639            var32b = var32b * REG_CorrectionV1;
;;;640            if (var32a < var32b)
;;;641            {
;;;642                var32b = var32b - var32a;
;;;643                REG_ReadV_Offset1 = var32b;
;;;644                Polar6 |= 0x01;
;;;645            }
;;;646            else
;;;647            {
;;;648                var32a = var32a - var32b;
;;;649                REG_ReadV_Offset1 = var32a;
;;;650                Polar6 &= ~0x01;
;;;651            }
;;;652    		//---------------------------------------------------------------------------------------//			
;;;653    			var32c = Modify_B_ACT; //CV???????
;;;654    			var32c = var32c - Modify_A_ACT;
;;;655    			var32c = var32c << 12;
;;;656    			var16a=Modify_D_READ-Modify_C_READ;
;;;657    			var16a=(var16a*2);
;;;658    			var32c=var32c/var16a;
;;;659    			SET_LoadV1 = var32c;
;;;660    			var32c = Modify_B_ACT;
;;;661    			var32c = var32c << 12;
;;;662    			var32d = SET_LoadV1;
;;;663    			var32d = var32d * (Modify_D_READ*2);
;;;664    			if (var32c < var32d)
;;;665    			{
;;;666    				var32d = var32d - var32c;
;;;667    				SET_LoadV_Offset1 = var32d;
;;;668    				Polar6 |= 0x04;
;;;669    			}
;;;670    			else 
;;;671    			{
;;;672    				var32c = var32c - var32d;
;;;673    				SET_LoadV_Offset1 = var32c;
;;;674    				Polar6 &= ~0x04;
;;;675    			}
;;;676    //---------------------------------------------------------------------------------------//
;;;677    		Flag_DAC_OFF =0;
;;;678            Flash_Write_all();	//???FLASH
;;;679    		Flash_Write32BitDatas(FLASH_USER_START_ADDR,43, InFlashSave);
;;;680    //        Flag_DAC_OFF=0;
;;;681        }else if(step == 5){
000040  2805              CMP      r0,#5
000042  d07b              BEQ      |L3.316|
;;;682            Modify_A_READ = Vmon1_value;//????
;;;683            Modify_A_ACT = inputvalue;//????
;;;684        }else if(step == 6){
000044  2806              CMP      r0,#6
000046  d140              BNE      |L3.202|
;;;685            vu32 var16;
;;;686            vu32 var32a;
;;;687            vu32 var32b;
;;;688            
;;;689            vu32 var16a;
;;;690            vu32 var32c;
;;;691            vu32 var32d;
;;;692            Modify_B_READ =Vmon1_value;//????
000048  6820              LDR      r0,[r4,#0]  ; Vmon1_value
00004a  f8ae0000          STRH     r0,[lr,#0]
;;;693            Modify_B_ACT = inputvalue;//????
00004e  f8a81000          STRH     r1,[r8,#0]
;;;694            var32a = Modify_B_ACT;
000052  f8b80000          LDRH     r0,[r8,#0]  ; Modify_B_ACT
000056  9005              STR      r0,[sp,#0x14]
;;;695            var32a = var32a - Modify_A_ACT;
000058  8819              LDRH     r1,[r3,#0]  ; Modify_A_ACT
00005a  9805              LDR      r0,[sp,#0x14]
00005c  1a40              SUBS     r0,r0,r1
00005e  9005              STR      r0,[sp,#0x14]
;;;696            var32a = var32a << 12;
000060  9805              LDR      r0,[sp,#0x14]
000062  0300              LSLS     r0,r0,#12
000064  9005              STR      r0,[sp,#0x14]
;;;697            var16 = Modify_B_READ - Modify_A_READ;
000066  f8be0000          LDRH     r0,[lr,#0]  ; Modify_B_READ
00006a  8829              LDRH     r1,[r5,#0]  ; Modify_A_READ
00006c  1a40              SUBS     r0,r0,r1
00006e  9006              STR      r0,[sp,#0x18]
;;;698            var32a = var32a / var16;
000070  e9dd0105          LDRD     r0,r1,[sp,#0x14]
000074  fbb0f0f1          UDIV     r0,r0,r1
000078  9005              STR      r0,[sp,#0x14]
;;;699            REG_CorrectionV2 = var32a;
00007a  9805              LDR      r0,[sp,#0x14]
00007c  f8cb0038          STR      r0,[r11,#0x38]  ; Correct_Parametet
;;;700            var32a=0;
;;;701            var32a = Modify_B_ACT;
000080  f8b80000          LDRH     r0,[r8,#0]  ; Modify_B_ACT
000084  9005              STR      r0,[sp,#0x14]
;;;702            var32a = var32a << 12;
000086  9805              LDR      r0,[sp,#0x14]
000088  0300              LSLS     r0,r0,#12
00008a  9005              STR      r0,[sp,#0x14]
;;;703            var32b = Modify_B_READ;
00008c  f8be0000          LDRH     r0,[lr,#0]  ; Modify_B_READ
000090  9004              STR      r0,[sp,#0x10]
;;;704            var32b = var32b * REG_CorrectionV2;
000092  f8db0038          LDR      r0,[r11,#0x38]  ; Correct_Parametet
000096  9904              LDR      r1,[sp,#0x10]
000098  4348              MULS     r0,r1,r0
00009a  9004              STR      r0,[sp,#0x10]
00009c  4630              MOV      r0,r6                 ;611
;;;705            if (var32a < var32b)
;;;706            {
;;;707                var32b = var32b - var32a;
;;;708                REG_ReadV_Offset2 = var32b;
;;;709                Polar7 |= 0x01;
00009e  e9dd3104          LDRD     r3,r1,[sp,#0x10]
0000a2  6f00              LDR      r0,[r0,#0x70]
0000a4  4299              CMP      r1,r3                 ;705
0000a6  d27d              BCS      |L3.420|
0000a8  e9dd1304          LDRD     r1,r3,[sp,#0x10]      ;707
0000ac  1ac9              SUBS     r1,r1,r3              ;707
0000ae  9104              STR      r1,[sp,#0x10]         ;707
0000b0  9904              LDR      r1,[sp,#0x10]         ;708
0000b2  6391              STR      r1,[r2,#0x38]         ;708  ; Correct_Strong
0000b4  f0400001          ORR      r0,r0,#1
0000b8  6730              STR      r0,[r6,#0x70]  ; InFlashSave
0000ba  e153              B        |L3.868|
                  |L3.188|
0000bc  6820              LDR      r0,[r4,#0]            ;549  ; Vmon1_value
0000be  8028              STRH     r0,[r5,#0]            ;549
0000c0  f8ba0000          LDRH     r0,[r10,#0]           ;550  ; Contr_Laod
0000c4  f8ac0000          STRH     r0,[r12,#0]           ;550
0000c8  8019              STRH     r1,[r3,#0]            ;551
                  |L3.202|
;;;710            }
;;;711            else
;;;712            {
;;;713                var32a = var32a - var32b;
;;;714                REG_ReadV_Offset2 = var32a;
;;;715                Polar7 &= ~0x01;
;;;716            }
;;;717            Flash_Write_all();	//???FLASH
;;;718    //        Flag_DAC_OFF=0;
;;;719        }
;;;720    }
0000ca  b007              ADD      sp,sp,#0x1c
0000cc  e8bd8ff0          POP      {r4-r11,pc}
                  |L3.208|
0000d0  6820              LDR      r0,[r4,#0]            ;560  ; Vmon1_value
0000d2  f8ae0000          STRH     r0,[lr,#0]            ;560
0000d6  f8ba0000          LDRH     r0,[r10,#0]           ;561  ; Contr_Laod
0000da  f8a90000          STRH     r0,[r9,#0]            ;561
0000de  f8a81000          STRH     r1,[r8,#0]            ;562
0000e2  f8b80000          LDRH     r0,[r8,#0]            ;563  ; Modify_B_ACT
0000e6  9005              STR      r0,[sp,#0x14]         ;563
0000e8  8819              LDRH     r1,[r3,#0]            ;564  ; Modify_A_ACT
0000ea  9805              LDR      r0,[sp,#0x14]         ;564
0000ec  1a40              SUBS     r0,r0,r1              ;564
0000ee  9005              STR      r0,[sp,#0x14]         ;564
0000f0  9805              LDR      r0,[sp,#0x14]         ;565
0000f2  0300              LSLS     r0,r0,#12             ;565
0000f4  9005              STR      r0,[sp,#0x14]         ;565
0000f6  f8be0000          LDRH     r0,[lr,#0]            ;566  ; Modify_B_READ
0000fa  8829              LDRH     r1,[r5,#0]            ;566  ; Modify_A_READ
0000fc  1a40              SUBS     r0,r0,r1              ;566
0000fe  9006              STR      r0,[sp,#0x18]         ;566
000100  e9dd0105          LDRD     r0,r1,[sp,#0x14]      ;567
000104  fbb0f0f1          UDIV     r0,r0,r1              ;567
000108  9005              STR      r0,[sp,#0x14]         ;567
00010a  9805              LDR      r0,[sp,#0x14]         ;568
00010c  f8cb0000          STR      r0,[r11,#0]           ;568  ; Correct_Parametet
000110  f8b80000          LDRH     r0,[r8,#0]            ;570  ; Modify_B_ACT
000114  9005              STR      r0,[sp,#0x14]         ;570
000116  9805              LDR      r0,[sp,#0x14]         ;571
000118  0300              LSLS     r0,r0,#12             ;571
00011a  9005              STR      r0,[sp,#0x14]         ;571
00011c  f8be0000          LDRH     r0,[lr,#0]            ;572  ; Modify_B_READ
000120  9004              STR      r0,[sp,#0x10]         ;572
000122  f8db0000          LDR      r0,[r11,#0]           ;573  ; Correct_Parametet
000126  9904              LDR      r1,[sp,#0x10]         ;573
000128  4348              MULS     r0,r1,r0              ;573
00012a  9004              STR      r0,[sp,#0x10]         ;573
00012c  e9dd4104          LDRD     r4,r1,[sp,#0x10]      ;574
000130  489c              LDR      r0,|L3.932|
000132  42a1              CMP      r1,r4                 ;574
000134  d20e              BCS      |L3.340|
000136  e002              B        |L3.318|
                  |L3.312|
000138  e067              B        |L3.522|
                  |L3.314|
00013a  e06e              B        |L3.538|
                  |L3.316|
00013c  e105              B        |L3.842|
                  |L3.318|
00013e  e9dd1404          LDRD     r1,r4,[sp,#0x10]      ;576
000142  1b09              SUBS     r1,r1,r4              ;576
000144  9104              STR      r1,[sp,#0x10]         ;576
000146  9904              LDR      r1,[sp,#0x10]         ;577
000148  6011              STR      r1,[r2,#0]            ;577  ; Correct_Strong
00014a  7801              LDRB     r1,[r0,#0]            ;578  ; correct_por
00014c  f0410101          ORR      r1,r1,#1              ;578
000150  7001              STRB     r1,[r0,#0]            ;578
000152  e009              B        |L3.360|
                  |L3.340|
000154  e9dd4104          LDRD     r4,r1,[sp,#0x10]      ;582
000158  1b09              SUBS     r1,r1,r4              ;582
00015a  9105              STR      r1,[sp,#0x14]         ;582
00015c  9905              LDR      r1,[sp,#0x14]         ;583
00015e  6011              STR      r1,[r2,#0]            ;583  ; Correct_Strong
000160  7801              LDRB     r1,[r0,#0]            ;584  ; correct_por
000162  f0210101          BIC      r1,r1,#1              ;584
000166  7001              STRB     r1,[r0,#0]            ;584
                  |L3.360|
000168  f8b81000          LDRH     r1,[r8,#0]            ;587  ; Modify_B_ACT
00016c  9102              STR      r1,[sp,#8]            ;587
00016e  881b              LDRH     r3,[r3,#0]            ;588  ; Modify_A_ACT
000170  9902              LDR      r1,[sp,#8]            ;588
000172  1ac9              SUBS     r1,r1,r3              ;588
000174  9102              STR      r1,[sp,#8]            ;588
000176  9902              LDR      r1,[sp,#8]            ;589
000178  0309              LSLS     r1,r1,#12             ;589
00017a  9102              STR      r1,[sp,#8]            ;589
00017c  f8b91000          LDRH     r1,[r9,#0]            ;590  ; Modify_D_READ
000180  f8bc3000          LDRH     r3,[r12,#0]           ;590  ; Modify_C_READ
000184  1ac9              SUBS     r1,r1,r3              ;590
000186  9103              STR      r1,[sp,#0xc]          ;590
000188  9903              LDR      r1,[sp,#0xc]          ;591
00018a  0049              LSLS     r1,r1,#1              ;591
00018c  9103              STR      r1,[sp,#0xc]          ;591
00018e  e9dd1302          LDRD     r1,r3,[sp,#8]         ;592
000192  fbb1f1f3          UDIV     r1,r1,r3              ;592
000196  9102              STR      r1,[sp,#8]            ;592
000198  9902              LDR      r1,[sp,#8]            ;593
00019a  f8cb1010          STR      r1,[r11,#0x10]        ;593  ; Correct_Parametet
00019e  f8b81000          LDRH     r1,[r8,#0]            ;594  ; Modify_B_ACT
0001a2  e000              B        |L3.422|
                  |L3.420|
0001a4  e0d5              B        |L3.850|
                  |L3.422|
0001a6  9102              STR      r1,[sp,#8]            ;594
0001a8  9902              LDR      r1,[sp,#8]            ;595
0001aa  0309              LSLS     r1,r1,#12             ;595
0001ac  9102              STR      r1,[sp,#8]            ;595
0001ae  f8db1010          LDR      r1,[r11,#0x10]        ;596  ; Correct_Parametet
0001b2  9101              STR      r1,[sp,#4]            ;596
0001b4  f8b93000          LDRH     r3,[r9,#0]            ;597  ; Modify_D_READ
0001b8  9901              LDR      r1,[sp,#4]            ;597
0001ba  4359              MULS     r1,r3,r1              ;597
0001bc  0049              LSLS     r1,r1,#1              ;597
0001be  9101              STR      r1,[sp,#4]            ;597
0001c0  e9dd3101          LDRD     r3,r1,[sp,#4]         ;598
0001c4  4299              CMP      r1,r3                 ;598
0001c6  d20a              BCS      |L3.478|
0001c8  e9dd1301          LDRD     r1,r3,[sp,#4]         ;600
0001cc  1ac9              SUBS     r1,r1,r3              ;600
0001ce  9101              STR      r1,[sp,#4]            ;600
0001d0  9901              LDR      r1,[sp,#4]            ;601
0001d2  6111              STR      r1,[r2,#0x10]         ;601  ; Correct_Strong
0001d4  7881              LDRB     r1,[r0,#2]            ;602  ; correct_por
0001d6  f0410104          ORR      r1,r1,#4              ;602
0001da  7081              STRB     r1,[r0,#2]            ;602
0001dc  e009              B        |L3.498|
                  |L3.478|
0001de  e9dd3101          LDRD     r3,r1,[sp,#4]         ;606
0001e2  1ac9              SUBS     r1,r1,r3              ;606
0001e4  9102              STR      r1,[sp,#8]            ;606
0001e6  9902              LDR      r1,[sp,#8]            ;607
0001e8  6111              STR      r1,[r2,#0x10]         ;607  ; Correct_Strong
0001ea  7881              LDRB     r1,[r0,#2]            ;608  ; correct_por
0001ec  f0210104          BIC      r1,r1,#4              ;608
0001f0  7081              STRB     r1,[r0,#2]            ;608
                  |L3.498|
0001f2  f7fffffe          BL       Flash_Write_all
0001f6  4a6a              LDR      r2,|L3.928|
0001f8  212b              MOVS     r1,#0x2b              ;611
0001fa  486b              LDR      r0,|L3.936|
0001fc  f7fffffe          BL       Flash_Write32BitDatas
000200  6838              LDR      r0,[r7,#0]            ;612  ; flagB
000202  f0200008          BIC      r0,r0,#8              ;612
000206  6038              STR      r0,[r7,#0]            ;612  ; flagB
000208  e75f              B        |L3.202|
                  |L3.522|
00020a  6820              LDR      r0,[r4,#0]            ;615  ; Vmon1_value
00020c  8028              STRH     r0,[r5,#0]            ;615
00020e  f8ba0000          LDRH     r0,[r10,#0]           ;616  ; Contr_Laod
000212  f8ac0000          STRH     r0,[r12,#0]           ;616
000216  8019              STRH     r1,[r3,#0]            ;617
000218  e757              B        |L3.202|
                  |L3.538|
00021a  6820              LDR      r0,[r4,#0]            ;626  ; Vmon1_value
00021c  f8ae0000          STRH     r0,[lr,#0]            ;626
000220  f8ba0000          LDRH     r0,[r10,#0]           ;627  ; Contr_Laod
000224  f8a90000          STRH     r0,[r9,#0]            ;627
000228  f8a81000          STRH     r1,[r8,#0]            ;628
00022c  f8b80000          LDRH     r0,[r8,#0]            ;629  ; Modify_B_ACT
000230  9005              STR      r0,[sp,#0x14]         ;629
000232  8819              LDRH     r1,[r3,#0]            ;630  ; Modify_A_ACT
000234  9805              LDR      r0,[sp,#0x14]         ;630
000236  1a40              SUBS     r0,r0,r1              ;630
000238  9005              STR      r0,[sp,#0x14]         ;630
00023a  9805              LDR      r0,[sp,#0x14]         ;631
00023c  0300              LSLS     r0,r0,#12             ;631
00023e  9005              STR      r0,[sp,#0x14]         ;631
000240  f8be0000          LDRH     r0,[lr,#0]            ;632  ; Modify_B_READ
000244  8829              LDRH     r1,[r5,#0]            ;632  ; Modify_A_READ
000246  1a40              SUBS     r0,r0,r1              ;632
000248  9006              STR      r0,[sp,#0x18]         ;632
00024a  e9dd0105          LDRD     r0,r1,[sp,#0x14]      ;633
00024e  fbb0f0f1          UDIV     r0,r0,r1              ;633
000252  9005              STR      r0,[sp,#0x14]         ;633
000254  9805              LDR      r0,[sp,#0x14]         ;634
000256  f8cb0034          STR      r0,[r11,#0x34]        ;634  ; Correct_Parametet
00025a  f8b80000          LDRH     r0,[r8,#0]            ;636  ; Modify_B_ACT
00025e  9005              STR      r0,[sp,#0x14]         ;636
000260  9805              LDR      r0,[sp,#0x14]         ;637
000262  0300              LSLS     r0,r0,#12             ;637
000264  9005              STR      r0,[sp,#0x14]         ;637
000266  f8be0000          LDRH     r0,[lr,#0]            ;638  ; Modify_B_READ
00026a  9004              STR      r0,[sp,#0x10]         ;638
00026c  f8db0034          LDR      r0,[r11,#0x34]        ;639  ; Correct_Parametet
000270  9904              LDR      r1,[sp,#0x10]         ;639
000272  4348              MULS     r0,r1,r0              ;639
000274  9004              STR      r0,[sp,#0x10]         ;639
000276  484a              LDR      r0,|L3.928|
000278  e9dd4104          LDRD     r4,r1,[sp,#0x10]      ;644
00027c  6ec0              LDR      r0,[r0,#0x6c]         ;644
00027e  42a1              CMP      r1,r4                 ;640
000280  d209              BCS      |L3.662|
000282  e9dd1404          LDRD     r1,r4,[sp,#0x10]      ;642
000286  1b09              SUBS     r1,r1,r4              ;642
000288  9104              STR      r1,[sp,#0x10]         ;642
00028a  9904              LDR      r1,[sp,#0x10]         ;643
00028c  6351              STR      r1,[r2,#0x34]         ;643  ; Correct_Strong
00028e  f0400001          ORR      r0,r0,#1              ;644
000292  66f0              STR      r0,[r6,#0x6c]         ;644  ; InFlashSave
000294  e008              B        |L3.680|
                  |L3.662|
000296  e9dd4104          LDRD     r4,r1,[sp,#0x10]      ;648
00029a  1b09              SUBS     r1,r1,r4              ;648
00029c  9105              STR      r1,[sp,#0x14]         ;648
00029e  9905              LDR      r1,[sp,#0x14]         ;649
0002a0  6351              STR      r1,[r2,#0x34]         ;649  ; Correct_Strong
0002a2  f0200001          BIC      r0,r0,#1              ;650
0002a6  66f0              STR      r0,[r6,#0x6c]         ;650  ; InFlashSave
                  |L3.680|
0002a8  f8b80000          LDRH     r0,[r8,#0]            ;653  ; Modify_B_ACT
0002ac  9002              STR      r0,[sp,#8]            ;653
0002ae  8819              LDRH     r1,[r3,#0]            ;654  ; Modify_A_ACT
0002b0  9802              LDR      r0,[sp,#8]            ;654
0002b2  1a40              SUBS     r0,r0,r1              ;654
0002b4  9002              STR      r0,[sp,#8]            ;654
0002b6  9802              LDR      r0,[sp,#8]            ;655
0002b8  0300              LSLS     r0,r0,#12             ;655
0002ba  9002              STR      r0,[sp,#8]            ;655
0002bc  f8b90000          LDRH     r0,[r9,#0]            ;656  ; Modify_D_READ
0002c0  f8bc1000          LDRH     r1,[r12,#0]           ;656  ; Modify_C_READ
0002c4  1a40              SUBS     r0,r0,r1              ;656
0002c6  9003              STR      r0,[sp,#0xc]          ;656
0002c8  9803              LDR      r0,[sp,#0xc]          ;657
0002ca  0040              LSLS     r0,r0,#1              ;657
0002cc  9003              STR      r0,[sp,#0xc]          ;657
0002ce  e9dd0102          LDRD     r0,r1,[sp,#8]         ;658
0002d2  fbb0f0f1          UDIV     r0,r0,r1              ;658
0002d6  9002              STR      r0,[sp,#8]            ;658
0002d8  9802              LDR      r0,[sp,#8]            ;659
0002da  f8c60098          STR      r0,[r6,#0x98]         ;659  ; InFlashSave
0002de  f8b81000          LDRH     r1,[r8,#0]            ;660  ; Modify_B_ACT
0002e2  9102              STR      r1,[sp,#8]            ;660
0002e4  9902              LDR      r1,[sp,#8]            ;661
0002e6  0309              LSLS     r1,r1,#12             ;661
0002e8  9102              STR      r1,[sp,#8]            ;661
0002ea  9001              STR      r0,[sp,#4]            ;662
0002ec  f8b91000          LDRH     r1,[r9,#0]            ;663  ; Modify_D_READ
0002f0  9801              LDR      r0,[sp,#4]            ;663
0002f2  4348              MULS     r0,r1,r0              ;663
0002f4  0040              LSLS     r0,r0,#1              ;663
0002f6  9001              STR      r0,[sp,#4]            ;663
0002f8  e9dd1001          LDRD     r1,r0,[sp,#4]         ;664
0002fc  4288              CMP      r0,r1                 ;664
0002fe  d20b              BCS      |L3.792|
000300  e9dd0101          LDRD     r0,r1,[sp,#4]         ;666
000304  1a40              SUBS     r0,r0,r1              ;666
000306  9001              STR      r0,[sp,#4]            ;666
000308  9801              LDR      r0,[sp,#4]            ;667
00030a  f8c6009c          STR      r0,[r6,#0x9c]         ;667  ; InFlashSave
00030e  6ef0              LDR      r0,[r6,#0x6c]         ;668  ; InFlashSave
000310  f0400004          ORR      r0,r0,#4              ;668
000314  66f0              STR      r0,[r6,#0x6c]         ;668  ; InFlashSave
000316  e00a              B        |L3.814|
                  |L3.792|
000318  e9dd0101          LDRD     r0,r1,[sp,#4]         ;672
00031c  1a08              SUBS     r0,r1,r0              ;672
00031e  9002              STR      r0,[sp,#8]            ;672
000320  9802              LDR      r0,[sp,#8]            ;673
000322  f8c6009c          STR      r0,[r6,#0x9c]         ;673  ; InFlashSave
000326  6ef0              LDR      r0,[r6,#0x6c]         ;674  ; InFlashSave
000328  f0200004          BIC      r0,r0,#4              ;674
00032c  66f0              STR      r0,[r6,#0x6c]         ;674  ; InFlashSave
                  |L3.814|
00032e  6838              LDR      r0,[r7,#0]            ;677  ; flagB
000330  f0200008          BIC      r0,r0,#8              ;677
000334  6038              STR      r0,[r7,#0]            ;677  ; flagB
000336  f7fffffe          BL       Flash_Write_all
00033a  b007              ADD      sp,sp,#0x1c           ;679
00033c  4a18              LDR      r2,|L3.928|
00033e  e8bd4ff0          POP      {r4-r11,lr}           ;679
000342  212b              MOVS     r1,#0x2b              ;679
000344  4818              LDR      r0,|L3.936|
000346  f7ffbffe          B.W      Flash_Write32BitDatas
                  |L3.842|
00034a  6820              LDR      r0,[r4,#0]            ;682  ; Vmon1_value
00034c  8028              STRH     r0,[r5,#0]            ;682
00034e  8019              STRH     r1,[r3,#0]            ;683
000350  e6bb              B        |L3.202|
                  |L3.850|
000352  e9dd3104          LDRD     r3,r1,[sp,#0x10]      ;713
000356  1ac9              SUBS     r1,r1,r3              ;713
000358  9105              STR      r1,[sp,#0x14]         ;713
00035a  9905              LDR      r1,[sp,#0x14]         ;714
00035c  6391              STR      r1,[r2,#0x38]         ;714  ; Correct_Strong
00035e  f0200001          BIC      r0,r0,#1              ;715
000362  6730              STR      r0,[r6,#0x70]         ;715  ; InFlashSave
                  |L3.868|
000364  b007              ADD      sp,sp,#0x1c           ;717
000366  e8bd4ff0          POP      {r4-r11,lr}           ;717
00036a  f7ffbffe          B.W      Flash_Write_all
;;;721    
                          ENDP

00036e  0000              DCW      0x0000
                  |L3.880|
                          DCD      Vmon1_value
                  |L3.884|
                          DCD      Modify_A_READ
                  |L3.888|
                          DCD      Contr_Laod
                  |L3.892|
                          DCD      Modify_C_READ
                  |L3.896|
                          DCD      ||.data||
                  |L3.900|
                          DCD      Modify_A_ACT
                  |L3.904|
                          DCD      Modify_B_READ
                  |L3.908|
                          DCD      flagB
                  |L3.912|
                          DCD      Correct_Parametet
                  |L3.916|
                          DCD      Correct_Strong
                  |L3.920|
                          DCD      Modify_D_READ
                  |L3.924|
                          DCD      Modify_B_ACT
                  |L3.928|
                          DCD      InFlashSave
                  |L3.932|
                          DCD      correct_por
                  |L3.936|
                          DCD      0x080e0000

                          AREA ||i.PowCCal||, CODE, READONLY, ALIGN=2

                  PowCCal PROC
;;;1256   
;;;1257   void PowCCal(u8 step)
000000  e92d47f0          PUSH     {r4-r10,lr}
;;;1258   {
000004  b086              SUB      sp,sp,#0x18
;;;1259       if(step == 1)
;;;1260       {
;;;1261           Modify_A_READ = Imon_value;
;;;1262   		Modify_C_READ = Contr_Current;
;;;1263   		Modify_A_ACT = inputvalue;
000006  49ab              LDR      r1,|L4.692|
000008  4ea6              LDR      r6,|L4.676|
00000a  4da7              LDR      r5,|L4.680|
00000c  8909              LDRH     r1,[r1,#8]
00000e  f8df929c          LDR      r9,|L4.684|
000012  4ba7              LDR      r3,|L4.688|
000014  4aa8              LDR      r2,|L4.696|
000016  b289              UXTH     r1,r1
000018  2801              CMP      r0,#1                 ;1259
00001a  d049              BEQ      |L4.176|
;;;1264       }else if(step == 2){
;;;1265           vu16 var16;
;;;1266   			vu32 var32a;
;;;1267   			vu32 var32b;
;;;1268   			
;;;1269   			vu16 var16a;
;;;1270   			vu32 var32c;
;;;1271   			vu32 var32d;
;;;1272   			
;;;1273   			Modify_D_READ = Contr_Current;
;;;1274   			Modify_B_READ = Imon_value;
00001c  f8dfa29c          LDR      r10,|L4.700|
;;;1275   			Modify_B_ACT = inputvalue;
;;;1276   			var32a = Modify_B_ACT;
;;;1277   			var32a = var32a - Modify_A_ACT;
;;;1278   			var32a = var32a << 14;
;;;1279   			var16 = Modify_B_READ - Modify_A_READ;
;;;1280   			var32a = var32a / var16;
;;;1281   			REG_POWERA = var32a;
;;;1282   			var32a = Modify_B_ACT;
;;;1283   			var32a = var32a << 14;
;;;1284   			var32b = Modify_B_READ;
;;;1285   			var32b = var32b * REG_POWERA;
;;;1286   			if (var32a < var32b)
;;;1287   			{
;;;1288   				var32b = var32b - var32a;
;;;1289   				REG_POWERA_Offset = var32b;
;;;1290   				Polar4 |= 0x01;
;;;1291   			}
;;;1292   			else 
;;;1293   			{
;;;1294   				var32a = var32a - var32b;
;;;1295   				REG_POWERA_Offset = var32a;
;;;1296   				Polar4 &= ~0x01;					//?????????
;;;1297   			}
;;;1298   	//---------------------------------------------------------------------------------//
;;;1299   			var32c = Modify_B_ACT; //????
;;;1300   			var32c = var32c - Modify_A_ACT;
;;;1301   			var32c = var32c << 14;
;;;1302   			var16a=Modify_D_READ-Modify_C_READ;
;;;1303   			var16a=var16a*2;
;;;1304   			var32c=var32c/var16a;
;;;1305   			SET_POWERA = var32c;
;;;1306   			var32c = Modify_B_ACT;
;;;1307   			var32c = var32c << 14;
;;;1308   			var32d = SET_POWERA;
;;;1309   			var32d = var32d * (Modify_D_READ*2);
;;;1310   			if (var32c < var32d)
;;;1311   			{
;;;1312   				var32d = var32d - var32c;
;;;1313   				SET_POWERA_Offset = var32d;
;;;1314   				Polar4 |= 0x04;
;;;1315   			}
;;;1316   			else 
;;;1317   			{
;;;1318   				var32c = var32c - var32d;
;;;1319   				SET_POWERA_Offset = var32c;
;;;1320   				Polar4 &= ~0x04;
;;;1321   			}
;;;1322   			Flash_Write_all ();	
;;;1323   			Flag_DAC_OFF=0;
000020  4ca7              LDR      r4,|L4.704|
000022  f8dfc2a0          LDR      r12,|L4.708|
000026  4fa8              LDR      r7,|L4.712|
000028  f64f78ff          MOV      r8,#0xffff            ;1303
00002c  2802              CMP      r0,#2                 ;1264
00002e  d048              BEQ      |L4.194|
;;;1324       }else if (step == 3)			   //?d??
000030  2803              CMP      r0,#3
000032  d07d              BEQ      |L4.304|
;;;1325   	{
;;;1326   		Modify_A_READ = Imon_value;//??d
;;;1327   		Modify_C_READ = Contr_Current;//???d
;;;1328   		Modify_A_ACT = inputvalue;
;;;1329   	}else if (step == 4)			   //?d????
000034  2804              CMP      r0,#4
000036  d141              BNE      |L4.188|
;;;1330   	{
;;;1331   		vu16 var16;
;;;1332   		vu32 var32a;
;;;1333   		vu32 var32b;
;;;1334   		
;;;1335   		vu16 var16a;
;;;1336   		vu32 var32c;
;;;1337   		vu32 var32d;
;;;1338   		
;;;1339   		Modify_D_READ = Contr_Current;
000038  f8b90000          LDRH     r0,[r9,#0]  ; Contr_Current
00003c  f8ac0000          STRH     r0,[r12,#0]
;;;1340   		Modify_B_READ = Imon_value;
000040  8830              LDRH     r0,[r6,#0]  ; Imon_value
000042  f8aa0000          STRH     r0,[r10,#0]
;;;1341   		Modify_B_ACT = inputvalue;
000046  8039              STRH     r1,[r7,#0]
;;;1342   		var32a = Modify_B_ACT;
000048  8838              LDRH     r0,[r7,#0]  ; Modify_B_ACT
00004a  9004              STR      r0,[sp,#0x10]
;;;1343   		var32a = var32a - Modify_A_ACT;
00004c  8811              LDRH     r1,[r2,#0]  ; Modify_A_ACT
00004e  9804              LDR      r0,[sp,#0x10]
000050  1a40              SUBS     r0,r0,r1
000052  9004              STR      r0,[sp,#0x10]
;;;1344   		var32a = var32a << 14;
000054  9804              LDR      r0,[sp,#0x10]
000056  0380              LSLS     r0,r0,#14
000058  9004              STR      r0,[sp,#0x10]
;;;1345   		var16 = Modify_B_READ - Modify_A_READ;
00005a  f8ba0000          LDRH     r0,[r10,#0]  ; Modify_B_READ
00005e  8829              LDRH     r1,[r5,#0]  ; Modify_A_READ
000060  1a40              SUBS     r0,r0,r1
000062  9005              STR      r0,[sp,#0x14]
;;;1346   		var32a = var32a / var16;
000064  f8bd1014          LDRH     r1,[sp,#0x14]
000068  9804              LDR      r0,[sp,#0x10]
00006a  fbb0f0f1          UDIV     r0,r0,r1
00006e  9004              STR      r0,[sp,#0x10]
;;;1347   		REG_POWERA1 = var32a;
000070  4996              LDR      r1,|L4.716|
000072  9804              LDR      r0,[sp,#0x10]
000074  6588              STR      r0,[r1,#0x58]  ; InFlashSave
;;;1348   		var32a = Modify_B_ACT;
000076  883d              LDRH     r5,[r7,#0]  ; Modify_B_ACT
000078  9504              STR      r5,[sp,#0x10]
;;;1349   		var32a = var32a << 14;
00007a  9d04              LDR      r5,[sp,#0x10]
00007c  03ad              LSLS     r5,r5,#14
00007e  9504              STR      r5,[sp,#0x10]
;;;1350   		var32b = Modify_B_READ;
000080  f8ba5000          LDRH     r5,[r10,#0]  ; Modify_B_READ
000084  9503              STR      r5,[sp,#0xc]
;;;1351   		var32b = var32b * REG_POWERA1;
000086  9d03              LDR      r5,[sp,#0xc]
000088  4368              MULS     r0,r5,r0
00008a  9003              STR      r0,[sp,#0xc]
00008c  4608              MOV      r0,r1                 ;1347
;;;1352   		if (var32a < var32b)
;;;1353   		{
;;;1354   			var32b = var32b - var32a;
;;;1355   			REG_POWERA_Offset1 = var32b;
;;;1356   			Polar14 |= 0x01;
00008e  e9dd6503          LDRD     r6,r5,[sp,#0xc]
000092  f8d0008c          LDR      r0,[r0,#0x8c]
000096  42b5              CMP      r5,r6                 ;1352
000098  d27e              BCS      |L4.408|
00009a  e9dd5603          LDRD     r5,r6,[sp,#0xc]       ;1354
00009e  1bad              SUBS     r5,r5,r6              ;1354
0000a0  9503              STR      r5,[sp,#0xc]          ;1354
0000a2  9d03              LDR      r5,[sp,#0xc]          ;1355
0000a4  660d              STR      r5,[r1,#0x60]         ;1355  ; InFlashSave
0000a6  f0400001          ORR      r0,r0,#1
0000aa  f8c1008c          STR      r0,[r1,#0x8c]  ; InFlashSave
0000ae  e0ad              B        |L4.524|
                  |L4.176|
0000b0  8830              LDRH     r0,[r6,#0]            ;1261  ; Imon_value
0000b2  8028              STRH     r0,[r5,#0]            ;1261
0000b4  f8b90000          LDRH     r0,[r9,#0]            ;1262  ; Contr_Current
0000b8  8018              STRH     r0,[r3,#0]            ;1262
0000ba  8011              STRH     r1,[r2,#0]            ;1263
                  |L4.188|
;;;1357   		}
;;;1358   		else 
;;;1359   		{
;;;1360   			var32a = var32a - var32b;
;;;1361   			REG_POWERA_Offset1 = var32a;
;;;1362   			Polar14 &= ~0x01;					//?d????????
;;;1363   		}
;;;1364   //---------------------------------------------------------------------------------//
;;;1365   		var32c = Modify_B_ACT; //???d?
;;;1366   		var32c = var32c - Modify_A_ACT;
;;;1367   		var32c = var32c << 14;
;;;1368   		var16a=Modify_D_READ-Modify_C_READ;
;;;1369   		var16a=var16a*2;
;;;1370   		var32c=var32c/var16a;
;;;1371   		SET_POWERA1 = var32c;
;;;1372   		var32c = Modify_B_ACT;
;;;1373   		var32c = var32c << 14;
;;;1374   		var32d = SET_POWERA1;
;;;1375   		var32d = var32d * (Modify_D_READ*2);
;;;1376   		if (var32c < var32d)
;;;1377   		{
;;;1378   			var32d = var32d - var32c;
;;;1379   			SET_POWERA_Offset1 = var32d;
;;;1380   			Polar14 |= 0x04;
;;;1381   		}
;;;1382   		else 
;;;1383   		{
;;;1384   			var32c = var32c - var32d;
;;;1385   			SET_POWERA_Offset1 = var32c;
;;;1386   			Polar14 &= ~0x04;
;;;1387   		}
;;;1388   		Flash_Write32BitDatas(FLASH_USER_START_ADDR,43, InFlashSave);
;;;1389   //			Flash_Write_all ();	
;;;1390   		Flag_DAC_OFF=0;
;;;1391   	}
;;;1392   }
0000bc  b006              ADD      sp,sp,#0x18
0000be  e8bd87f0          POP      {r4-r10,pc}
                  |L4.194|
0000c2  f8b90000          LDRH     r0,[r9,#0]            ;1273  ; Contr_Current
0000c6  f8ac0000          STRH     r0,[r12,#0]           ;1273
0000ca  8830              LDRH     r0,[r6,#0]            ;1274  ; Imon_value
0000cc  f8aa0000          STRH     r0,[r10,#0]           ;1274
0000d0  8039              STRH     r1,[r7,#0]            ;1275
0000d2  8838              LDRH     r0,[r7,#0]            ;1276  ; Modify_B_ACT
0000d4  9004              STR      r0,[sp,#0x10]         ;1276
0000d6  8811              LDRH     r1,[r2,#0]            ;1277  ; Modify_A_ACT
0000d8  9804              LDR      r0,[sp,#0x10]         ;1277
0000da  1a40              SUBS     r0,r0,r1              ;1277
0000dc  9004              STR      r0,[sp,#0x10]         ;1277
0000de  9804              LDR      r0,[sp,#0x10]         ;1278
0000e0  0380              LSLS     r0,r0,#14             ;1278
0000e2  9004              STR      r0,[sp,#0x10]         ;1278
0000e4  f8ba0000          LDRH     r0,[r10,#0]           ;1279  ; Modify_B_READ
0000e8  8829              LDRH     r1,[r5,#0]            ;1279  ; Modify_A_READ
0000ea  1a40              SUBS     r0,r0,r1              ;1279
0000ec  9005              STR      r0,[sp,#0x14]         ;1279
0000ee  f8bd1014          LDRH     r1,[sp,#0x14]         ;1280
0000f2  9804              LDR      r0,[sp,#0x10]         ;1280
0000f4  fbb0f0f1          UDIV     r0,r0,r1              ;1280
0000f8  9004              STR      r0,[sp,#0x10]         ;1280
0000fa  4d75              LDR      r5,|L4.720|
0000fc  9804              LDR      r0,[sp,#0x10]         ;1281
0000fe  61a8              STR      r0,[r5,#0x18]         ;1281  ; Correct_Parametet
000100  8838              LDRH     r0,[r7,#0]            ;1282  ; Modify_B_ACT
000102  9004              STR      r0,[sp,#0x10]         ;1282
000104  9804              LDR      r0,[sp,#0x10]         ;1283
000106  0380              LSLS     r0,r0,#14             ;1283
000108  9004              STR      r0,[sp,#0x10]         ;1283
00010a  f8ba0000          LDRH     r0,[r10,#0]           ;1284  ; Modify_B_READ
00010e  9003              STR      r0,[sp,#0xc]          ;1284
000110  69a8              LDR      r0,[r5,#0x18]         ;1285  ; Correct_Parametet
000112  9903              LDR      r1,[sp,#0xc]          ;1285
000114  4348              MULS     r0,r1,r0              ;1285
000116  9003              STR      r0,[sp,#0xc]          ;1285
000118  e9dd9603          LDRD     r9,r6,[sp,#0xc]       ;1286
00011c  496d              LDR      r1,|L4.724|
00011e  486e              LDR      r0,|L4.728|
000120  454e              CMP      r6,r9                 ;1286
000122  d20d              BCS      |L4.320|
000124  e9dd6903          LDRD     r6,r9,[sp,#0xc]       ;1288
000128  eba60609          SUB      r6,r6,r9              ;1288
00012c  9603              STR      r6,[sp,#0xc]          ;1288
00012e  e000              B        |L4.306|
                  |L4.304|
000130  e05b              B        |L4.490|
                  |L4.306|
000132  9e03              LDR      r6,[sp,#0xc]          ;1289
000134  618e              STR      r6,[r1,#0x18]         ;1289  ; Correct_Strong
000136  7906              LDRB     r6,[r0,#4]            ;1290  ; correct_por
000138  f0460601          ORR      r6,r6,#1              ;1290
00013c  7106              STRB     r6,[r0,#4]            ;1290
00013e  e00a              B        |L4.342|
                  |L4.320|
000140  e9dd9603          LDRD     r9,r6,[sp,#0xc]       ;1294
000144  eba60609          SUB      r6,r6,r9              ;1294
000148  9604              STR      r6,[sp,#0x10]         ;1294
00014a  9e04              LDR      r6,[sp,#0x10]         ;1295
00014c  618e              STR      r6,[r1,#0x18]         ;1295  ; Correct_Strong
00014e  7906              LDRB     r6,[r0,#4]            ;1296  ; correct_por
000150  f0260601          BIC      r6,r6,#1              ;1296
000154  7106              STRB     r6,[r0,#4]            ;1296
                  |L4.342|
000156  883e              LDRH     r6,[r7,#0]            ;1299  ; Modify_B_ACT
000158  9601              STR      r6,[sp,#4]            ;1299
00015a  8812              LDRH     r2,[r2,#0]            ;1300  ; Modify_A_ACT
00015c  9e01              LDR      r6,[sp,#4]            ;1300
00015e  1ab2              SUBS     r2,r6,r2              ;1300
000160  9201              STR      r2,[sp,#4]            ;1300
000162  9a01              LDR      r2,[sp,#4]            ;1301
000164  0392              LSLS     r2,r2,#14             ;1301
000166  9201              STR      r2,[sp,#4]            ;1301
000168  f8bc2000          LDRH     r2,[r12,#0]           ;1302  ; Modify_D_READ
00016c  881b              LDRH     r3,[r3,#0]            ;1302  ; Modify_C_READ
00016e  1ad2              SUBS     r2,r2,r3              ;1302
000170  9202              STR      r2,[sp,#8]            ;1302
000172  f8bd2008          LDRH     r2,[sp,#8]            ;1303
000176  ea080242          AND      r2,r8,r2,LSL #1       ;1303
00017a  9202              STR      r2,[sp,#8]            ;1303
00017c  f8bd3008          LDRH     r3,[sp,#8]            ;1304
000180  9a01              LDR      r2,[sp,#4]            ;1304
000182  fbb2f2f3          UDIV     r2,r2,r3              ;1304
000186  9201              STR      r2,[sp,#4]            ;1304
000188  9a01              LDR      r2,[sp,#4]            ;1305
00018a  61ea              STR      r2,[r5,#0x1c]         ;1305  ; Correct_Parametet
00018c  883a              LDRH     r2,[r7,#0]            ;1306  ; Modify_B_ACT
00018e  9201              STR      r2,[sp,#4]            ;1306
000190  9a01              LDR      r2,[sp,#4]            ;1307
000192  0392              LSLS     r2,r2,#14             ;1307
000194  9201              STR      r2,[sp,#4]            ;1307
000196  e000              B        |L4.410|
                  |L4.408|
000198  e02e              B        |L4.504|
                  |L4.410|
00019a  69ea              LDR      r2,[r5,#0x1c]         ;1308  ; Correct_Parametet
00019c  9200              STR      r2,[sp,#0]            ;1308
00019e  f8bc3000          LDRH     r3,[r12,#0]           ;1309  ; Modify_D_READ
0001a2  9a00              LDR      r2,[sp,#0]            ;1309
0001a4  435a              MULS     r2,r3,r2              ;1309
0001a6  0052              LSLS     r2,r2,#1              ;1309
0001a8  9200              STR      r2,[sp,#0]            ;1309
0001aa  e9dd3200          LDRD     r3,r2,[sp,#0]         ;1310
0001ae  429a              CMP      r2,r3                 ;1310
0001b0  d20a              BCS      |L4.456|
0001b2  e9dd2300          LDRD     r2,r3,[sp,#0]         ;1312
0001b6  1ad2              SUBS     r2,r2,r3              ;1312
0001b8  9200              STR      r2,[sp,#0]            ;1312
0001ba  9a00              LDR      r2,[sp,#0]            ;1313
0001bc  61ca              STR      r2,[r1,#0x1c]         ;1313  ; Correct_Strong
0001be  7901              LDRB     r1,[r0,#4]            ;1314  ; correct_por
0001c0  f0410104          ORR      r1,r1,#4              ;1314
0001c4  7101              STRB     r1,[r0,#4]            ;1314
0001c6  e009              B        |L4.476|
                  |L4.456|
0001c8  e9dd3200          LDRD     r3,r2,[sp,#0]         ;1318
0001cc  1ad2              SUBS     r2,r2,r3              ;1318
0001ce  9201              STR      r2,[sp,#4]            ;1318
0001d0  9a01              LDR      r2,[sp,#4]            ;1319
0001d2  61ca              STR      r2,[r1,#0x1c]         ;1319  ; Correct_Strong
0001d4  7901              LDRB     r1,[r0,#4]            ;1320  ; correct_por
0001d6  f0210104          BIC      r1,r1,#4              ;1320
0001da  7101              STRB     r1,[r0,#4]            ;1320
                  |L4.476|
0001dc  f7fffffe          BL       Flash_Write_all
0001e0  6820              LDR      r0,[r4,#0]            ;1323  ; flagB
0001e2  f0200008          BIC      r0,r0,#8              ;1323
0001e6  6020              STR      r0,[r4,#0]            ;1323  ; flagB
0001e8  e768              B        |L4.188|
                  |L4.490|
0001ea  8830              LDRH     r0,[r6,#0]            ;1326  ; Imon_value
0001ec  8028              STRH     r0,[r5,#0]            ;1326
0001ee  f8b90000          LDRH     r0,[r9,#0]            ;1327  ; Contr_Current
0001f2  8018              STRH     r0,[r3,#0]            ;1327
0001f4  8011              STRH     r1,[r2,#0]            ;1328
0001f6  e761              B        |L4.188|
                  |L4.504|
0001f8  e9dd6503          LDRD     r6,r5,[sp,#0xc]       ;1360
0001fc  1bad              SUBS     r5,r5,r6              ;1360
0001fe  9504              STR      r5,[sp,#0x10]         ;1360
000200  9d04              LDR      r5,[sp,#0x10]         ;1361
000202  660d              STR      r5,[r1,#0x60]         ;1361  ; InFlashSave
000204  f0200001          BIC      r0,r0,#1              ;1362
000208  f8c1008c          STR      r0,[r1,#0x8c]         ;1362  ; InFlashSave
                  |L4.524|
00020c  8838              LDRH     r0,[r7,#0]            ;1365  ; Modify_B_ACT
00020e  9001              STR      r0,[sp,#4]            ;1365
000210  8812              LDRH     r2,[r2,#0]            ;1366  ; Modify_A_ACT
000212  9801              LDR      r0,[sp,#4]            ;1366
000214  1a80              SUBS     r0,r0,r2              ;1366
000216  9001              STR      r0,[sp,#4]            ;1366
000218  9801              LDR      r0,[sp,#4]            ;1367
00021a  0380              LSLS     r0,r0,#14             ;1367
00021c  9001              STR      r0,[sp,#4]            ;1367
00021e  f8bc0000          LDRH     r0,[r12,#0]           ;1368  ; Modify_D_READ
000222  881a              LDRH     r2,[r3,#0]            ;1368  ; Modify_C_READ
000224  1a80              SUBS     r0,r0,r2              ;1368
000226  9002              STR      r0,[sp,#8]            ;1368
000228  f8bd0008          LDRH     r0,[sp,#8]            ;1369
00022c  ea080040          AND      r0,r8,r0,LSL #1       ;1369
000230  9002              STR      r0,[sp,#8]            ;1369
000232  f8bd2008          LDRH     r2,[sp,#8]            ;1370
000236  9801              LDR      r0,[sp,#4]            ;1370
000238  fbb0f0f2          UDIV     r0,r0,r2              ;1370
00023c  9001              STR      r0,[sp,#4]            ;1370
00023e  9801              LDR      r0,[sp,#4]            ;1371
000240  65c8              STR      r0,[r1,#0x5c]         ;1371  ; InFlashSave
000242  883a              LDRH     r2,[r7,#0]            ;1372  ; Modify_B_ACT
000244  9201              STR      r2,[sp,#4]            ;1372
000246  9a01              LDR      r2,[sp,#4]            ;1373
000248  0392              LSLS     r2,r2,#14             ;1373
00024a  9201              STR      r2,[sp,#4]            ;1373
00024c  9000              STR      r0,[sp,#0]            ;1374
00024e  f8bc2000          LDRH     r2,[r12,#0]           ;1375  ; Modify_D_READ
000252  9800              LDR      r0,[sp,#0]            ;1375
000254  4350              MULS     r0,r2,r0              ;1375
000256  0040              LSLS     r0,r0,#1              ;1375
000258  9000              STR      r0,[sp,#0]            ;1375
00025a  e9dd2000          LDRD     r2,r0,[sp,#0]         ;1376
00025e  4290              CMP      r0,r2                 ;1376
000260  d20b              BCS      |L4.634|
000262  e9dd2000          LDRD     r2,r0,[sp,#0]         ;1378
000266  1a10              SUBS     r0,r2,r0              ;1378
000268  9000              STR      r0,[sp,#0]            ;1378
00026a  9800              LDR      r0,[sp,#0]            ;1379
00026c  f8410f64          STR      r0,[r1,#0x64]!        ;1379  ; InFlashSave
000270  6a88              LDR      r0,[r1,#0x28]         ;1380  ; InFlashSave
000272  f0400004          ORR      r0,r0,#4              ;1380
000276  6288              STR      r0,[r1,#0x28]         ;1380  ; InFlashSave
000278  e00a              B        |L4.656|
                  |L4.634|
00027a  e9dd2000          LDRD     r2,r0,[sp,#0]         ;1384
00027e  1a80              SUBS     r0,r0,r2              ;1384
000280  9001              STR      r0,[sp,#4]            ;1384
000282  9801              LDR      r0,[sp,#4]            ;1385
000284  f8410f64          STR      r0,[r1,#0x64]!        ;1385  ; InFlashSave
000288  6a88              LDR      r0,[r1,#0x28]         ;1386  ; InFlashSave
00028a  f0200004          BIC      r0,r0,#4              ;1386
00028e  6288              STR      r0,[r1,#0x28]         ;1386  ; InFlashSave
                  |L4.656|
000290  4a0e              LDR      r2,|L4.716|
000292  212b              MOVS     r1,#0x2b              ;1388
000294  4811              LDR      r0,|L4.732|
000296  f7fffffe          BL       Flash_Write32BitDatas
00029a  6820              LDR      r0,[r4,#0]            ;1390  ; flagB
00029c  f0200008          BIC      r0,r0,#8              ;1390
0002a0  6020              STR      r0,[r4,#0]            ;1390  ; flagB
0002a2  e70b              B        |L4.188|
                          ENDP

                  |L4.676|
                          DCD      Imon_value
                  |L4.680|
                          DCD      Modify_A_READ
                  |L4.684|
                          DCD      Contr_Current
                  |L4.688|
                          DCD      Modify_C_READ
                  |L4.692|
                          DCD      ||.data||
                  |L4.696|
                          DCD      Modify_A_ACT
                  |L4.700|
                          DCD      Modify_B_READ
                  |L4.704|
                          DCD      flagB
                  |L4.708|
                          DCD      Modify_D_READ
                  |L4.712|
                          DCD      Modify_B_ACT
                  |L4.716|
                          DCD      InFlashSave
                  |L4.720|
                          DCD      Correct_Parametet
                  |L4.724|
                          DCD      Correct_Strong
                  |L4.728|
                          DCD      correct_por
                  |L4.732|
                          DCD      0x080e0000

                          AREA ||i.PowVCal||, CODE, READONLY, ALIGN=2

                  PowVCal PROC
;;;1056   
;;;1057   void PowVCal(u8 step)
000000  e92d4ff0          PUSH     {r4-r11,lr}
;;;1058   {
000004  b087              SUB      sp,sp,#0x1c
;;;1059       if(step == 1)
;;;1060       {
;;;1061           Modify_A_READ = Vmon_value;//??d
000006  4dfd              LDR      r5,|L5.1020|
000008  f8dfc3f4          LDR      r12,|L5.1024|
;;;1062   		Modify_C_READ = Contr_Voltage;//???d
00000c  f8df83f4          LDR      r8,|L5.1028|
000010  4efd              LDR      r6,|L5.1032|
;;;1063   		Modify_A_ACT = inputvalue;
000012  49fe              LDR      r1,|L5.1036|
000014  4cfe              LDR      r4,|L5.1040|
000016  2801              CMP      r0,#1                 ;1059
000018  8909              LDRH     r1,[r1,#8]
00001a  b289              UXTH     r1,r1
00001c  d056              BEQ      |L5.204|
;;;1064       }else if(step == 2){
;;;1065           vu16 var16;
;;;1066   			vu32 var32a;
;;;1067   			vu32 var32b; 
;;;1068   			
;;;1069   			vu16 var16a;
;;;1070   			vu32 var32c;
;;;1071   			vu32 var32d;
;;;1072   			
;;;1073   			Modify_D_READ = Contr_Voltage;
;;;1074   			Modify_B_READ = Vmon_value;
00001e  f8dfe3f4          LDR      lr,|L5.1044|
;;;1075   			Modify_B_ACT = inputvalue;
;;;1076   			var32a = Modify_B_ACT;
;;;1077   			var32a = var32a - Modify_A_ACT;
;;;1078   			var32a = var32a << 14;
;;;1079   			var16 = Modify_B_READ - Modify_A_READ;
;;;1080   			var32a = var32a / var16;
;;;1081   			REG_POWERV = var32a;
;;;1082   			var32a = Modify_B_ACT;
;;;1083   			var32a = var32a << 14;
;;;1084   			var32b = Modify_B_READ;
;;;1085   			var32b = var32b * REG_POWERV;
;;;1086   			if (var32a < var32b)
;;;1087   			{
;;;1088   				var32b = var32b - var32a;
;;;1089   				REG_POWERV_Offset = var32b;
;;;1090   				Polar5 |= 0x01;
;;;1091   			}
;;;1092   			else 
;;;1093   			{
;;;1094   				var32a = var32a - var32b;
;;;1095   				REG_POWERV_Offset = var32a;
;;;1096   				Polar5 &= ~0x01;					
;;;1097   			}
;;;1098   	//---------------------------------------------------------------------------------//
;;;1099   			var32c = Modify_B_ACT; //?????
;;;1100   			var32c = var32c - Modify_A_ACT;
;;;1101   			var32c = var32c << 14;
;;;1102   			var16a=Modify_D_READ-Modify_C_READ;
;;;1103   			var16a=var16a*2;
;;;1104   			var32c=var32c/var16a;
;;;1105   			SET_POWERV = var32c;
;;;1106   			var32c = Modify_B_ACT;
;;;1107   			var32c = var32c << 14;
;;;1108   			var32d = SET_POWERV;
;;;1109   			var32d = var32d * (Modify_D_READ*2);
;;;1110   			if (var32c < var32d)
;;;1111   			{
;;;1112   				var32d = var32d - var32c;
;;;1113   				SET_POWERV_Offset = var32d;
;;;1114   				Polar5 |= 0x04;
;;;1115   			}
;;;1116   			else 
;;;1117   			{
;;;1118   				var32c = var32c - var32d;
;;;1119   				SET_POWERV_Offset = var32c;
;;;1120   				Polar5 &= ~0x04;
;;;1121   			}
;;;1122   			Flash_Write_all ();	
;;;1123   			Flag_DAC_OFF=0;
000022  4ffd              LDR      r7,|L5.1048|
000024  f8dfb3f4          LDR      r11,|L5.1052|
000028  f8df93f4          LDR      r9,|L5.1056|
00002c  f8dfa3f4          LDR      r10,|L5.1060|
000030  4afd              LDR      r2,|L5.1064|
000032  2802              CMP      r0,#2                 ;1064
000034  d054              BEQ      |L5.224|
;;;1124       }else if(step == 3){
000036  2803              CMP      r0,#3
000038  d07e              BEQ      |L5.312|
;;;1125           Modify_A_READ = Vmon_value;//??d
;;;1126   		Modify_C_READ = Contr_Voltage;//???d
;;;1127   		Modify_A_ACT = inputvalue;
;;;1128       }else if(step == 4){
;;;1129           vu16 var16;
;;;1130   		vu32 var32a;
;;;1131   		vu32 var32b;
;;;1132   		
;;;1133   		vu16 var16a;
;;;1134   		vu32 var32c;
;;;1135   		vu32 var32d;
;;;1136   		
;;;1137   		Modify_D_READ = Contr_Voltage;
;;;1138   		Modify_B_READ = Vmon_value;
;;;1139   		Modify_B_ACT = inputvalue;
;;;1140   		var32a = Modify_B_ACT;
;;;1141   		var32a = var32a - Modify_A_ACT;
;;;1142   		var32a = var32a << 14;
;;;1143   		var16 = Modify_B_READ - Modify_A_READ;
;;;1144   		var32a = var32a / var16;
;;;1145   		REG_POWERV1 = var32a;
;;;1146   		var32a = Modify_B_ACT;
;;;1147   		var32a = var32a << 14;
;;;1148   		var32b = Modify_B_READ;
;;;1149   		var32b = var32b * REG_POWERV1;
;;;1150   		if (var32a < var32b)
;;;1151   		{
;;;1152   			var32b = var32b - var32a;
;;;1153   			REG_POWERV_Offset1 = var32b;
;;;1154   			Polar12 |= 0x01;
00003a  4bfc              LDR      r3,|L5.1068|
00003c  2804              CMP      r0,#4                 ;1128
00003e  d07c              BEQ      |L5.314|
;;;1155   		}
;;;1156   		else 
;;;1157   		{
;;;1158   			var32a = var32a - var32b;
;;;1159   			REG_POWERV_Offset1 = var32a;
;;;1160   			Polar12 &= ~0x01;					
;;;1161   		}
;;;1162   //---------------------------------------------------------------------------------//
;;;1163   		var32c = Modify_B_ACT; //?????
;;;1164   		var32c = var32c - Modify_A_ACT;
;;;1165   		var32c = var32c << 14;
;;;1166   		var16a=Modify_D_READ-Modify_C_READ;
;;;1167   		var16a=var16a*2;
;;;1168   		var32c=var32c/var16a;
;;;1169   		SET_POWERV1 = var32c;
;;;1170   		var32c = Modify_B_ACT;
;;;1171   		var32c = var32c << 14;
;;;1172   		var32d = SET_POWERV1;
;;;1173   		var32d = var32d * (Modify_D_READ*2);
;;;1174   		if (var32c < var32d)
;;;1175   		{
;;;1176   			var32d = var32d - var32c;
;;;1177   			SET_POWERV_Offset1 = var32d;
;;;1178   			Polar12 |= 0x04;
;;;1179   		}
;;;1180   		else 
;;;1181   		{
;;;1182   			var32c = var32c - var32d;
;;;1183   			SET_POWERV_Offset1 = var32c;
;;;1184   			Polar12 &= ~0x04;
;;;1185   		}
;;;1186   		Flash_Write_all ();
;;;1187   		Flash_Write32BitDatas(FLASH_USER_START_ADDR,43, InFlashSave);
;;;1188   		Flag_DAC_OFF=0;
;;;1189       }else if(step == 5){
000040  2805              CMP      r0,#5
000042  d07b              BEQ      |L5.316|
;;;1190           Modify_A_READ = Vmon_value;//??d
;;;1191   		Modify_C_READ = Contr_Voltage;//???d
;;;1192   		Modify_A_ACT = inputvalue;
;;;1193       }else if(step == 6){
000044  2806              CMP      r0,#6
000046  d148              BNE      |L5.218|
;;;1194           vu16 var16;
;;;1195   		vu32 var32a;
;;;1196   		vu32 var32b;
;;;1197   		
;;;1198   		vu16 var16a;
;;;1199   		vu32 var32c;
;;;1200   		vu32 var32d;
;;;1201   		
;;;1202   		Modify_D_READ = Contr_Voltage;
000048  f8b80000          LDRH     r0,[r8,#0]  ; Contr_Voltage
00004c  f8ab0000          STRH     r0,[r11,#0]
;;;1203   		Modify_B_READ = Vmon_value;
000050  8828              LDRH     r0,[r5,#0]  ; Vmon_value
000052  f8ae0000          STRH     r0,[lr,#0]
;;;1204   		Modify_B_ACT = inputvalue;
000056  f8a91000          STRH     r1,[r9,#0]
;;;1205   		var32a = Modify_B_ACT;
00005a  f8b90000          LDRH     r0,[r9,#0]  ; Modify_B_ACT
00005e  9005              STR      r0,[sp,#0x14]
;;;1206   		var32a = var32a - Modify_A_ACT;
000060  8821              LDRH     r1,[r4,#0]  ; Modify_A_ACT
000062  9805              LDR      r0,[sp,#0x14]
000064  1a40              SUBS     r0,r0,r1
000066  9005              STR      r0,[sp,#0x14]
;;;1207   		var32a = var32a << 14;
000068  9805              LDR      r0,[sp,#0x14]
00006a  0380              LSLS     r0,r0,#14
00006c  9005              STR      r0,[sp,#0x14]
;;;1208   		var16 = Modify_B_READ - Modify_A_READ;
00006e  f8be0000          LDRH     r0,[lr,#0]  ; Modify_B_READ
000072  f8bc1000          LDRH     r1,[r12,#0]  ; Modify_A_READ
000076  1a40              SUBS     r0,r0,r1
000078  9006              STR      r0,[sp,#0x18]
;;;1209   		var32a = var32a / var16;
00007a  f8bd1018          LDRH     r1,[sp,#0x18]
00007e  9805              LDR      r0,[sp,#0x14]
000080  fbb0f0f1          UDIV     r0,r0,r1
000084  9005              STR      r0,[sp,#0x14]
;;;1210   		REG_POWERV2 = var32a;
000086  9805              LDR      r0,[sp,#0x14]
000088  f8ca0040          STR      r0,[r10,#0x40]  ; Correct_Parametet
;;;1211   		var32a = Modify_B_ACT;
00008c  f8b90000          LDRH     r0,[r9,#0]  ; Modify_B_ACT
000090  9005              STR      r0,[sp,#0x14]
;;;1212   		var32a = var32a << 14;
000092  9805              LDR      r0,[sp,#0x14]
000094  0380              LSLS     r0,r0,#14
000096  9005              STR      r0,[sp,#0x14]
;;;1213   		var32b = Modify_B_READ;
000098  f8be0000          LDRH     r0,[lr,#0]  ; Modify_B_READ
00009c  9004              STR      r0,[sp,#0x10]
;;;1214   		var32b = var32b * REG_POWERV2;
00009e  f8da0040          LDR      r0,[r10,#0x40]  ; Correct_Parametet
0000a2  9904              LDR      r1,[sp,#0x10]
0000a4  4348              MULS     r0,r1,r0
0000a6  9004              STR      r0,[sp,#0x10]
0000a8  4618              MOV      r0,r3                 ;1154
;;;1215   		if (var32a < var32b)
;;;1216   		{
;;;1217   			var32b = var32b - var32a;
;;;1218   			REG_POWERV_Offset2 = var32b;
;;;1219   			Polar13 |= 0x01;
0000aa  e9dd1504          LDRD     r1,r5,[sp,#0x10]
0000ae  f8d00088          LDR      r0,[r0,#0x88]
0000b2  428d              CMP      r5,r1                 ;1215
0000b4  d27e              BCS      |L5.436|
0000b6  e9dd1504          LDRD     r1,r5,[sp,#0x10]      ;1217
0000ba  1b49              SUBS     r1,r1,r5              ;1217
0000bc  9104              STR      r1,[sp,#0x10]         ;1217
0000be  9904              LDR      r1,[sp,#0x10]         ;1218
0000c0  6411              STR      r1,[r2,#0x40]         ;1218  ; Correct_Strong
0000c2  f0400001          ORR      r0,r0,#1
0000c6  f8c30088          STR      r0,[r3,#0x88]  ; InFlashSave
0000ca  e162              B        |L5.914|
                  |L5.204|
0000cc  8828              LDRH     r0,[r5,#0]            ;1061  ; Vmon_value
0000ce  f8ac0000          STRH     r0,[r12,#0]           ;1061
0000d2  f8b80000          LDRH     r0,[r8,#0]            ;1062  ; Contr_Voltage
0000d6  8030              STRH     r0,[r6,#0]            ;1062
0000d8  8021              STRH     r1,[r4,#0]            ;1063
                  |L5.218|
;;;1220   		}
;;;1221   		else 
;;;1222   		{
;;;1223   			var32a = var32a - var32b;
;;;1224   			REG_POWERV_Offset2 = var32a;
;;;1225   			Polar13 &= ~0x01;					
;;;1226   		}
;;;1227   //---------------------------------------------------------------------------------//
;;;1228   		var32c = Modify_B_ACT; //?????
;;;1229   		var32c = var32c - Modify_A_ACT;
;;;1230   		var32c = var32c << 14;
;;;1231   		var16a=Modify_D_READ-Modify_C_READ;
;;;1232   		var16a=var16a*2;
;;;1233   		var32c=var32c/var16a;
;;;1234   		SET_POWERV2 = var32c;
;;;1235   		var32c = Modify_B_ACT;
;;;1236   		var32c = var32c << 14;
;;;1237   		var32d = SET_POWERV2;
;;;1238   		var32d = var32d * (Modify_D_READ*2);
;;;1239   		if (var32c < var32d)
;;;1240   		{
;;;1241   			var32d = var32d - var32c;
;;;1242   			SET_POWERV_Offset2 = var32d;
;;;1243   			Polar13 |= 0x04;
;;;1244   		}
;;;1245   		else 
;;;1246   		{
;;;1247   			var32c = var32c - var32d;
;;;1248   			SET_POWERV_Offset2 = var32c;
;;;1249   			Polar13 &= ~0x04;
;;;1250   		}
;;;1251   		Flash_Write_all ();	
;;;1252   		Flash_Write32BitDatas(FLASH_USER_START_ADDR,43, InFlashSave);
;;;1253   		Flag_DAC_OFF=0;
;;;1254       }
;;;1255   }
0000da  b007              ADD      sp,sp,#0x1c
0000dc  e8bd8ff0          POP      {r4-r11,pc}
                  |L5.224|
0000e0  f8b80000          LDRH     r0,[r8,#0]            ;1073  ; Contr_Voltage
0000e4  f8ab0000          STRH     r0,[r11,#0]           ;1073
0000e8  8828              LDRH     r0,[r5,#0]            ;1074  ; Vmon_value
0000ea  f8ae0000          STRH     r0,[lr,#0]            ;1074
0000ee  f8a91000          STRH     r1,[r9,#0]            ;1075
0000f2  f8b90000          LDRH     r0,[r9,#0]            ;1076  ; Modify_B_ACT
0000f6  9005              STR      r0,[sp,#0x14]         ;1076
0000f8  8821              LDRH     r1,[r4,#0]            ;1077  ; Modify_A_ACT
0000fa  9805              LDR      r0,[sp,#0x14]         ;1077
0000fc  1a40              SUBS     r0,r0,r1              ;1077
0000fe  9005              STR      r0,[sp,#0x14]         ;1077
000100  9805              LDR      r0,[sp,#0x14]         ;1078
000102  0380              LSLS     r0,r0,#14             ;1078
000104  9005              STR      r0,[sp,#0x14]         ;1078
000106  f8be0000          LDRH     r0,[lr,#0]            ;1079  ; Modify_B_READ
00010a  f8bc1000          LDRH     r1,[r12,#0]           ;1079  ; Modify_A_READ
00010e  1a40              SUBS     r0,r0,r1              ;1079
000110  9006              STR      r0,[sp,#0x18]         ;1079
000112  f8bd1018          LDRH     r1,[sp,#0x18]         ;1080
000116  9805              LDR      r0,[sp,#0x14]         ;1080
000118  fbb0f0f1          UDIV     r0,r0,r1              ;1080
00011c  9005              STR      r0,[sp,#0x14]         ;1080
00011e  9805              LDR      r0,[sp,#0x14]         ;1081
000120  f8ca0020          STR      r0,[r10,#0x20]        ;1081  ; Correct_Parametet
000124  f8b90000          LDRH     r0,[r9,#0]            ;1082  ; Modify_B_ACT
000128  9005              STR      r0,[sp,#0x14]         ;1082
00012a  9805              LDR      r0,[sp,#0x14]         ;1083
00012c  0380              LSLS     r0,r0,#14             ;1083
00012e  9005              STR      r0,[sp,#0x14]         ;1083
000130  f8be0000          LDRH     r0,[lr,#0]            ;1084  ; Modify_B_READ
000134  9004              STR      r0,[sp,#0x10]         ;1084
000136  e002              B        |L5.318|
                  |L5.312|
000138  e070              B        |L5.540|
                  |L5.314|
00013a  e077              B        |L5.556|
                  |L5.316|
00013c  e117              B        |L5.878|
                  |L5.318|
00013e  f8da0020          LDR      r0,[r10,#0x20]        ;1085  ; Correct_Parametet
000142  9904              LDR      r1,[sp,#0x10]         ;1085
000144  4348              MULS     r0,r1,r0              ;1085
000146  9004              STR      r0,[sp,#0x10]         ;1085
000148  e9dd3104          LDRD     r3,r1,[sp,#0x10]      ;1086
00014c  48b8              LDR      r0,|L5.1072|
00014e  4299              CMP      r1,r3                 ;1086
000150  d20a              BCS      |L5.360|
000152  e9dd1304          LDRD     r1,r3,[sp,#0x10]      ;1088
000156  1ac9              SUBS     r1,r1,r3              ;1088
000158  9104              STR      r1,[sp,#0x10]         ;1088
00015a  9904              LDR      r1,[sp,#0x10]         ;1089
00015c  6211              STR      r1,[r2,#0x20]         ;1089  ; Correct_Strong
00015e  7941              LDRB     r1,[r0,#5]            ;1090  ; correct_por
000160  f0410101          ORR      r1,r1,#1              ;1090
000164  7141              STRB     r1,[r0,#5]            ;1090
000166  e009              B        |L5.380|
                  |L5.360|
000168  e9dd3104          LDRD     r3,r1,[sp,#0x10]      ;1094
00016c  1ac9              SUBS     r1,r1,r3              ;1094
00016e  9105              STR      r1,[sp,#0x14]         ;1094
000170  9905              LDR      r1,[sp,#0x14]         ;1095
000172  6211              STR      r1,[r2,#0x20]         ;1095  ; Correct_Strong
000174  7941              LDRB     r1,[r0,#5]            ;1096  ; correct_por
000176  f0210101          BIC      r1,r1,#1              ;1096
00017a  7141              STRB     r1,[r0,#5]            ;1096
                  |L5.380|
00017c  f8b91000          LDRH     r1,[r9,#0]            ;1099  ; Modify_B_ACT
000180  9102              STR      r1,[sp,#8]            ;1099
000182  8823              LDRH     r3,[r4,#0]            ;1100  ; Modify_A_ACT
000184  9902              LDR      r1,[sp,#8]            ;1100
000186  1ac9              SUBS     r1,r1,r3              ;1100
000188  9102              STR      r1,[sp,#8]            ;1100
00018a  9902              LDR      r1,[sp,#8]            ;1101
00018c  0389              LSLS     r1,r1,#14             ;1101
00018e  9102              STR      r1,[sp,#8]            ;1101
000190  f8bb1000          LDRH     r1,[r11,#0]           ;1102  ; Modify_D_READ
000194  8833              LDRH     r3,[r6,#0]            ;1102  ; Modify_C_READ
000196  1ac9              SUBS     r1,r1,r3              ;1102
000198  9103              STR      r1,[sp,#0xc]          ;1102
00019a  f8bd300c          LDRH     r3,[sp,#0xc]          ;1103
00019e  f64f71ff          MOV      r1,#0xffff            ;1103
0001a2  ea010143          AND      r1,r1,r3,LSL #1       ;1103
0001a6  9103              STR      r1,[sp,#0xc]          ;1103
0001a8  f8bd300c          LDRH     r3,[sp,#0xc]          ;1104
0001ac  9902              LDR      r1,[sp,#8]            ;1104
0001ae  fbb1f1f3          UDIV     r1,r1,r3              ;1104
0001b2  e000              B        |L5.438|
                  |L5.436|
0001b4  e0e3              B        |L5.894|
                  |L5.438|
0001b6  9102              STR      r1,[sp,#8]            ;1104
0001b8  9902              LDR      r1,[sp,#8]            ;1105
0001ba  f8ca1024          STR      r1,[r10,#0x24]        ;1105  ; Correct_Parametet
0001be  f8b91000          LDRH     r1,[r9,#0]            ;1106  ; Modify_B_ACT
0001c2  9102              STR      r1,[sp,#8]            ;1106
0001c4  9902              LDR      r1,[sp,#8]            ;1107
0001c6  0389              LSLS     r1,r1,#14             ;1107
0001c8  9102              STR      r1,[sp,#8]            ;1107
0001ca  f8da1024          LDR      r1,[r10,#0x24]        ;1108  ; Correct_Parametet
0001ce  9101              STR      r1,[sp,#4]            ;1108
0001d0  f8bb3000          LDRH     r3,[r11,#0]           ;1109  ; Modify_D_READ
0001d4  9901              LDR      r1,[sp,#4]            ;1109
0001d6  4359              MULS     r1,r3,r1              ;1109
0001d8  0049              LSLS     r1,r1,#1              ;1109
0001da  9101              STR      r1,[sp,#4]            ;1109
0001dc  e9dd3101          LDRD     r3,r1,[sp,#4]         ;1110
0001e0  4299              CMP      r1,r3                 ;1110
0001e2  d20a              BCS      |L5.506|
0001e4  e9dd1301          LDRD     r1,r3,[sp,#4]         ;1112
0001e8  1ac9              SUBS     r1,r1,r3              ;1112
0001ea  9101              STR      r1,[sp,#4]            ;1112
0001ec  9901              LDR      r1,[sp,#4]            ;1113
0001ee  6251              STR      r1,[r2,#0x24]         ;1113  ; Correct_Strong
0001f0  7941              LDRB     r1,[r0,#5]            ;1114  ; correct_por
0001f2  f0410104          ORR      r1,r1,#4              ;1114
0001f6  7141              STRB     r1,[r0,#5]            ;1114
0001f8  e009              B        |L5.526|
                  |L5.506|
0001fa  e9dd3101          LDRD     r3,r1,[sp,#4]         ;1118
0001fe  1ac9              SUBS     r1,r1,r3              ;1118
000200  9102              STR      r1,[sp,#8]            ;1118
000202  9902              LDR      r1,[sp,#8]            ;1119
000204  6251              STR      r1,[r2,#0x24]         ;1119  ; Correct_Strong
000206  7941              LDRB     r1,[r0,#5]            ;1120  ; correct_por
000208  f0210104          BIC      r1,r1,#4              ;1120
00020c  7141              STRB     r1,[r0,#5]            ;1120
                  |L5.526|
00020e  f7fffffe          BL       Flash_Write_all
000212  6838              LDR      r0,[r7,#0]            ;1123  ; flagB
000214  f0200008          BIC      r0,r0,#8              ;1123
000218  6038              STR      r0,[r7,#0]            ;1123  ; flagB
00021a  e75e              B        |L5.218|
                  |L5.540|
00021c  8828              LDRH     r0,[r5,#0]            ;1125  ; Vmon_value
00021e  f8ac0000          STRH     r0,[r12,#0]           ;1125
000222  f8b80000          LDRH     r0,[r8,#0]            ;1126  ; Contr_Voltage
000226  8030              STRH     r0,[r6,#0]            ;1126
000228  8021              STRH     r1,[r4,#0]            ;1127
00022a  e756              B        |L5.218|
                  |L5.556|
00022c  f8b80000          LDRH     r0,[r8,#0]            ;1137  ; Contr_Voltage
000230  f8ab0000          STRH     r0,[r11,#0]           ;1137
000234  8828              LDRH     r0,[r5,#0]            ;1138  ; Vmon_value
000236  f8ae0000          STRH     r0,[lr,#0]            ;1138
00023a  f8a91000          STRH     r1,[r9,#0]            ;1139
00023e  f8b90000          LDRH     r0,[r9,#0]            ;1140  ; Modify_B_ACT
000242  9005              STR      r0,[sp,#0x14]         ;1140
000244  8821              LDRH     r1,[r4,#0]            ;1141  ; Modify_A_ACT
000246  9805              LDR      r0,[sp,#0x14]         ;1141
000248  1a40              SUBS     r0,r0,r1              ;1141
00024a  9005              STR      r0,[sp,#0x14]         ;1141
00024c  9805              LDR      r0,[sp,#0x14]         ;1142
00024e  0380              LSLS     r0,r0,#14             ;1142
000250  9005              STR      r0,[sp,#0x14]         ;1142
000252  f8be0000          LDRH     r0,[lr,#0]            ;1143  ; Modify_B_READ
000256  f8bc1000          LDRH     r1,[r12,#0]           ;1143  ; Modify_A_READ
00025a  1a40              SUBS     r0,r0,r1              ;1143
00025c  9006              STR      r0,[sp,#0x18]         ;1143
00025e  f8bd1018          LDRH     r1,[sp,#0x18]         ;1144
000262  9805              LDR      r0,[sp,#0x14]         ;1144
000264  fbb0f0f1          UDIV     r0,r0,r1              ;1144
000268  9005              STR      r0,[sp,#0x14]         ;1144
00026a  9805              LDR      r0,[sp,#0x14]         ;1145
00026c  f8ca003c          STR      r0,[r10,#0x3c]        ;1145  ; Correct_Parametet
000270  f8b90000          LDRH     r0,[r9,#0]            ;1146  ; Modify_B_ACT
000274  9005              STR      r0,[sp,#0x14]         ;1146
000276  9805              LDR      r0,[sp,#0x14]         ;1147
000278  0380              LSLS     r0,r0,#14             ;1147
00027a  9005              STR      r0,[sp,#0x14]         ;1147
00027c  f8be0000          LDRH     r0,[lr,#0]            ;1148  ; Modify_B_READ
000280  9004              STR      r0,[sp,#0x10]         ;1148
000282  f8da003c          LDR      r0,[r10,#0x3c]        ;1149  ; Correct_Parametet
000286  9904              LDR      r1,[sp,#0x10]         ;1149
000288  4348              MULS     r0,r1,r0              ;1149
00028a  9004              STR      r0,[sp,#0x10]         ;1149
00028c  4867              LDR      r0,|L5.1068|
00028e  e9dd5104          LDRD     r5,r1,[sp,#0x10]      ;1154
000292  f8d00084          LDR      r0,[r0,#0x84]         ;1154
000296  42a9              CMP      r1,r5                 ;1150
000298  d20a              BCS      |L5.688|
00029a  e9dd1504          LDRD     r1,r5,[sp,#0x10]      ;1152
00029e  1b49              SUBS     r1,r1,r5              ;1152
0002a0  9104              STR      r1,[sp,#0x10]         ;1152
0002a2  9904              LDR      r1,[sp,#0x10]         ;1153
0002a4  63d1              STR      r1,[r2,#0x3c]         ;1153  ; Correct_Strong
0002a6  f0400001          ORR      r0,r0,#1              ;1154
0002aa  f8c30084          STR      r0,[r3,#0x84]         ;1154  ; InFlashSave
0002ae  e009              B        |L5.708|
                  |L5.688|
0002b0  e9dd5104          LDRD     r5,r1,[sp,#0x10]      ;1158
0002b4  1b49              SUBS     r1,r1,r5              ;1158
0002b6  9105              STR      r1,[sp,#0x14]         ;1158
0002b8  9905              LDR      r1,[sp,#0x14]         ;1159
0002ba  63d1              STR      r1,[r2,#0x3c]         ;1159  ; Correct_Strong
0002bc  f0200001          BIC      r0,r0,#1              ;1160
0002c0  f8c30084          STR      r0,[r3,#0x84]         ;1160  ; InFlashSave
                  |L5.708|
0002c4  f8b90000          LDRH     r0,[r9,#0]            ;1163  ; Modify_B_ACT
0002c8  9002              STR      r0,[sp,#8]            ;1163
0002ca  8821              LDRH     r1,[r4,#0]            ;1164  ; Modify_A_ACT
0002cc  9802              LDR      r0,[sp,#8]            ;1164
0002ce  1a40              SUBS     r0,r0,r1              ;1164
0002d0  9002              STR      r0,[sp,#8]            ;1164
0002d2  9802              LDR      r0,[sp,#8]            ;1165
0002d4  0380              LSLS     r0,r0,#14             ;1165
0002d6  9002              STR      r0,[sp,#8]            ;1165
0002d8  f8bb0000          LDRH     r0,[r11,#0]           ;1166  ; Modify_D_READ
0002dc  8831              LDRH     r1,[r6,#0]            ;1166  ; Modify_C_READ
0002de  1a40              SUBS     r0,r0,r1              ;1166
0002e0  9003              STR      r0,[sp,#0xc]          ;1166
0002e2  f8bd100c          LDRH     r1,[sp,#0xc]          ;1167
0002e6  f64f70ff          MOV      r0,#0xffff            ;1167
0002ea  ea000041          AND      r0,r0,r1,LSL #1       ;1167
0002ee  9003              STR      r0,[sp,#0xc]          ;1167
0002f0  f8bd100c          LDRH     r1,[sp,#0xc]          ;1168
0002f4  9802              LDR      r0,[sp,#8]            ;1168
0002f6  fbb0f0f1          UDIV     r0,r0,r1              ;1168
0002fa  9002              STR      r0,[sp,#8]            ;1168
0002fc  9802              LDR      r0,[sp,#8]            ;1169
0002fe  f8ca004c          STR      r0,[r10,#0x4c]        ;1169  ; Correct_Parametet
000302  f8b90000          LDRH     r0,[r9,#0]            ;1170  ; Modify_B_ACT
000306  9002              STR      r0,[sp,#8]            ;1170
000308  9802              LDR      r0,[sp,#8]            ;1171
00030a  0380              LSLS     r0,r0,#14             ;1171
00030c  9002              STR      r0,[sp,#8]            ;1171
00030e  f8da004c          LDR      r0,[r10,#0x4c]        ;1172  ; Correct_Parametet
000312  9001              STR      r0,[sp,#4]            ;1172
000314  f8bb1000          LDRH     r1,[r11,#0]           ;1173  ; Modify_D_READ
000318  9801              LDR      r0,[sp,#4]            ;1173
00031a  4348              MULS     r0,r1,r0              ;1173
00031c  0040              LSLS     r0,r0,#1              ;1173
00031e  9001              STR      r0,[sp,#4]            ;1173
000320  e9dd1001          LDRD     r1,r0,[sp,#4]         ;1174
000324  4288              CMP      r0,r1                 ;1174
000326  d20b              BCS      |L5.832|
000328  e9dd0101          LDRD     r0,r1,[sp,#4]         ;1176
00032c  1a40              SUBS     r0,r0,r1              ;1176
00032e  9001              STR      r0,[sp,#4]            ;1176
000330  9801              LDR      r0,[sp,#4]            ;1177
000332  64d0              STR      r0,[r2,#0x4c]         ;1177  ; Correct_Strong
000334  f8530f84          LDR      r0,[r3,#0x84]!        ;1178  ; InFlashSave
000338  f0400004          ORR      r0,r0,#4              ;1178
00033c  6018              STR      r0,[r3,#0]            ;1178  ; InFlashSave
00033e  e00a              B        |L5.854|
                  |L5.832|
000340  e9dd1001          LDRD     r1,r0,[sp,#4]         ;1182
000344  1a40              SUBS     r0,r0,r1              ;1182
000346  9002              STR      r0,[sp,#8]            ;1182
000348  9802              LDR      r0,[sp,#8]            ;1183
00034a  64d0              STR      r0,[r2,#0x4c]         ;1183  ; Correct_Strong
00034c  f8530f84          LDR      r0,[r3,#0x84]!        ;1184  ; InFlashSave
000350  f0200004          BIC      r0,r0,#4              ;1184
000354  6018              STR      r0,[r3,#0]            ;1184  ; InFlashSave
                  |L5.854|
000356  f7fffffe          BL       Flash_Write_all
00035a  4a34              LDR      r2,|L5.1068|
00035c  212b              MOVS     r1,#0x2b              ;1187
00035e  4835              LDR      r0,|L5.1076|
000360  f7fffffe          BL       Flash_Write32BitDatas
000364  6838              LDR      r0,[r7,#0]            ;1188  ; flagB
000366  f0200008          BIC      r0,r0,#8              ;1188
00036a  6038              STR      r0,[r7,#0]            ;1188  ; flagB
00036c  e6b5              B        |L5.218|
                  |L5.878|
00036e  8828              LDRH     r0,[r5,#0]            ;1190  ; Vmon_value
000370  f8ac0000          STRH     r0,[r12,#0]           ;1190
000374  f8b80000          LDRH     r0,[r8,#0]            ;1191  ; Contr_Voltage
000378  8030              STRH     r0,[r6,#0]            ;1191
00037a  8021              STRH     r1,[r4,#0]            ;1192
00037c  e6ad              B        |L5.218|
                  |L5.894|
00037e  e9dd5104          LDRD     r5,r1,[sp,#0x10]      ;1223
000382  1b49              SUBS     r1,r1,r5              ;1223
000384  9105              STR      r1,[sp,#0x14]         ;1223
000386  9905              LDR      r1,[sp,#0x14]         ;1224
000388  6411              STR      r1,[r2,#0x40]         ;1224  ; Correct_Strong
00038a  f0200001          BIC      r0,r0,#1              ;1225
00038e  f8c30088          STR      r0,[r3,#0x88]         ;1225  ; InFlashSave
                  |L5.914|
000392  f8b90000          LDRH     r0,[r9,#0]            ;1228  ; Modify_B_ACT
000396  9002              STR      r0,[sp,#8]            ;1228
000398  8821              LDRH     r1,[r4,#0]            ;1229  ; Modify_A_ACT
00039a  9802              LDR      r0,[sp,#8]            ;1229
00039c  1a40              SUBS     r0,r0,r1              ;1229
00039e  9002              STR      r0,[sp,#8]            ;1229
0003a0  9802              LDR      r0,[sp,#8]            ;1230
0003a2  0380              LSLS     r0,r0,#14             ;1230
0003a4  9002              STR      r0,[sp,#8]            ;1230
0003a6  f8bb0000          LDRH     r0,[r11,#0]           ;1231  ; Modify_D_READ
0003aa  8831              LDRH     r1,[r6,#0]            ;1231  ; Modify_C_READ
0003ac  1a40              SUBS     r0,r0,r1              ;1231
0003ae  9003              STR      r0,[sp,#0xc]          ;1231
0003b0  f8bd100c          LDRH     r1,[sp,#0xc]          ;1232
0003b4  f64f70ff          MOV      r0,#0xffff            ;1232
0003b8  ea000041          AND      r0,r0,r1,LSL #1       ;1232
0003bc  9003              STR      r0,[sp,#0xc]          ;1232
0003be  f8bd100c          LDRH     r1,[sp,#0xc]          ;1233
0003c2  9802              LDR      r0,[sp,#8]            ;1233
0003c4  fbb0f0f1          UDIV     r0,r0,r1              ;1233
0003c8  9002              STR      r0,[sp,#8]            ;1233
0003ca  9802              LDR      r0,[sp,#8]            ;1234
0003cc  f8ca0050          STR      r0,[r10,#0x50]        ;1234  ; Correct_Parametet
0003d0  f8b90000          LDRH     r0,[r9,#0]            ;1235  ; Modify_B_ACT
0003d4  9002              STR      r0,[sp,#8]            ;1235
0003d6  9802              LDR      r0,[sp,#8]            ;1236
0003d8  0380              LSLS     r0,r0,#14             ;1236
0003da  9002              STR      r0,[sp,#8]            ;1236
0003dc  f8da0050          LDR      r0,[r10,#0x50]        ;1237  ; Correct_Parametet
0003e0  9001              STR      r0,[sp,#4]            ;1237
0003e2  f8bb1000          LDRH     r1,[r11,#0]           ;1238  ; Modify_D_READ
0003e6  9801              LDR      r0,[sp,#4]            ;1238
0003e8  4348              MULS     r0,r1,r0              ;1238
0003ea  0040              LSLS     r0,r0,#1              ;1238
0003ec  9001              STR      r0,[sp,#4]            ;1238
0003ee  e9dd1001          LDRD     r1,r0,[sp,#4]         ;1239
0003f2  4288              CMP      r0,r1                 ;1239
0003f4  d22a              BCS      |L5.1100|
0003f6  e9dd0101          LDRD     r0,r1,[sp,#4]         ;1241
0003fa  e01d              B        |L5.1080|
                  |L5.1020|
                          DCD      Vmon_value
                  |L5.1024|
                          DCD      Modify_A_READ
                  |L5.1028|
                          DCD      Contr_Voltage
                  |L5.1032|
                          DCD      Modify_C_READ
                  |L5.1036|
                          DCD      ||.data||
                  |L5.1040|
                          DCD      Modify_A_ACT
                  |L5.1044|
                          DCD      Modify_B_READ
                  |L5.1048|
                          DCD      flagB
                  |L5.1052|
                          DCD      Modify_D_READ
                  |L5.1056|
                          DCD      Modify_B_ACT
                  |L5.1060|
                          DCD      Correct_Parametet
                  |L5.1064|
                          DCD      Correct_Strong
                  |L5.1068|
                          DCD      InFlashSave
                  |L5.1072|
                          DCD      correct_por
                  |L5.1076|
                          DCD      0x080e0000
                  |L5.1080|
000438  1a40              SUBS     r0,r0,r1              ;1241
00043a  9001              STR      r0,[sp,#4]            ;1241
00043c  9801              LDR      r0,[sp,#4]            ;1242
00043e  6510              STR      r0,[r2,#0x50]         ;1242  ; Correct_Strong
000440  f8530f88          LDR      r0,[r3,#0x88]!        ;1243  ; InFlashSave
000444  f0400004          ORR      r0,r0,#4              ;1243
000448  6018              STR      r0,[r3,#0]            ;1243  ; InFlashSave
00044a  e00a              B        |L5.1122|
                  |L5.1100|
00044c  e9dd1001          LDRD     r1,r0,[sp,#4]         ;1247
000450  1a40              SUBS     r0,r0,r1              ;1247
000452  9002              STR      r0,[sp,#8]            ;1247
000454  9802              LDR      r0,[sp,#8]            ;1248
000456  6510              STR      r0,[r2,#0x50]         ;1248  ; Correct_Strong
000458  f8530f88          LDR      r0,[r3,#0x88]!        ;1249  ; InFlashSave
00045c  f0200004          BIC      r0,r0,#4              ;1249
000460  6018              STR      r0,[r3,#0]            ;1249  ; InFlashSave
                  |L5.1122|
000462  f7fffffe          BL       Flash_Write_all
000466  4a05              LDR      r2,|L5.1148|
000468  212b              MOVS     r1,#0x2b              ;1252
00046a  4805              LDR      r0,|L5.1152|
00046c  f7fffffe          BL       Flash_Write32BitDatas
000470  6838              LDR      r0,[r7,#0]            ;1253  ; flagB
000472  f0200008          BIC      r0,r0,#8              ;1253
000476  6038              STR      r0,[r7,#0]            ;1253  ; flagB
000478  e62f              B        |L5.218|
;;;1256   
                          ENDP

00047a  0000              DCW      0x0000
                  |L5.1148|
                          DCD      InFlashSave
                  |L5.1152|
                          DCD      0x080e0000

                          AREA ||i.Rlow_cal||, CODE, READONLY, ALIGN=2

                  Rlow_cal PROC
;;;403    
;;;404    void Rlow_cal(u8 step)
000000  e92d4ffe          PUSH     {r1-r11,lr}
;;;405    {
;;;406        if(step == 1)
;;;407        {
;;;408            Modify_A_READ = Rmon_value;//
;;;409    		Modify_A_ACT = inputvalue;//
000004  49a8              LDR      r1,|L6.680|
000006  f8df8298          LDR      r8,|L6.672|
00000a  4ba6              LDR      r3,|L6.676|
00000c  8909              LDRH     r1,[r1,#8]
00000e  4ca7              LDR      r4,|L6.684|
000010  b289              UXTH     r1,r1
000012  2801              CMP      r0,#1                 ;406
000014  d059              BEQ      |L6.202|
;;;410        }else if(step == 2){
;;;411            vu16 var16;
;;;412            vu32 var32a;
;;;413            vu32 var32b;
;;;414            
;;;415            vu16 var16a;
;;;416            vu32 var32c;
;;;417            vu32 var32d;
;;;418            Modify_B_READ =Rmon_value;//
;;;419            flag_OverV=1;
000016  4eab              LDR      r6,|L6.708|
;;;420            Modify_B_ACT = inputvalue;//
;;;421            if(flag_OverV==1)//FLASH
;;;422            {
;;;423                var32a = Modify_B_ACT;
;;;424                var32a = var32a - Modify_A_ACT;
;;;425                var32a = var32a << 12;
;;;426                var16 = Modify_B_READ - Modify_A_READ;
;;;427                var32a = var32a / var16;
;;;428                REG_CorrectionRL = var32a;
000018  f8dfa294          LDR      r10,|L6.688|
;;;429                var32a=0;
;;;430                var32a = Modify_B_ACT;
;;;431                var32a = var32a << 12;
;;;432                var32b = Modify_B_READ;
;;;433                var32b = var32b * REG_CorrectionRL;
;;;434                if (var32a < var32b)
;;;435                {
;;;436                    var32b = var32b - var32a;
;;;437                    REG_ReadRL_Offset = var32b;
00001c  f8dfc294          LDR      r12,|L6.692|
000020  6832              LDR      r2,[r6,#0]            ;419
;;;438                    Polar15 |= 0x01;
000022  f8dfb294          LDR      r11,|L6.696|
;;;439                }
;;;440                else 
;;;441                {
;;;442                    var32a = var32a - var32b;
;;;443                    REG_ReadRL_Offset = var32a;
;;;444                    Polar15 &= ~0x01;
;;;445                }
;;;446    //---------------------------------------------------------------------------------------//
;;;447                Flash_Write_all();	//FLASH
;;;448    			Flash_Write32BitDatas(FLASH_USER_START_ADDR,43, InFlashSave);
000026  4fa5              LDR      r7,|L6.700|
;;;449                flag_OverV=0;
;;;450                Flag_DAC_OFF=0;
000028  4da5              LDR      r5,|L6.704|
00002a  f8dfe29c          LDR      lr,|L6.712|
00002e  f8df929c          LDR      r9,|L6.716|
000032  f0420202          ORR      r2,r2,#2              ;419
000036  2802              CMP      r0,#2                 ;410
000038  d04d              BEQ      |L6.214|
;;;451            }
;;;452            flag_ADJ_VH=0;//
;;;453        }else if(step == 3){
00003a  2803              CMP      r0,#3
00003c  d07e              BEQ      |L6.316|
;;;454            Modify_A_READ = Rmon_value;//
;;;455    		Modify_A_ACT = inputvalue;//
;;;456        }else if(step == 4){
00003e  2804              CMP      r0,#4
000040  d07d              BEQ      |L6.318|
;;;457            vu16 var16;
;;;458            vu32 var32a;
;;;459            vu32 var32b;
;;;460            
;;;461            vu16 var16a;
;;;462            vu32 var32c;
;;;463            vu32 var32d;
;;;464            Modify_B_READ =Rmon_value;//
;;;465            flag_OverV=1;
;;;466            Modify_B_ACT = inputvalue;//
;;;467            if(flag_OverV==1)//FLASH
;;;468            {
;;;469                var32a = Modify_B_ACT;
;;;470                var32a = var32a - Modify_A_ACT;
;;;471                var32a = var32a << 12;
;;;472                var16 = Modify_B_READ - Modify_A_READ;
;;;473                var32a = var32a / var16;
;;;474                REG_CorrectionRH = var32a;
;;;475                var32a=0;
;;;476                var32a = Modify_B_ACT;
;;;477                var32a = var32a << 12;
;;;478                var32b = Modify_B_READ;
;;;479                var32b = var32b * REG_CorrectionRH;
;;;480                if (var32a < var32b)
;;;481                {
;;;482                    var32b = var32b - var32a;
;;;483                    REG_ReadRH_Offset = var32b;
;;;484                    Polar16 |= 0x01;
;;;485                }
;;;486                else 
;;;487                {
;;;488                    var32a = var32a - var32b;
;;;489                    REG_ReadRH_Offset = var32a;
;;;490                    Polar16 &= ~0x01;
;;;491                }
;;;492    //---------------------------------------------------------------------------------------//
;;;493                Flash_Write_all();	//FLASH
;;;494    			Flash_Write32BitDatas(FLASH_USER_START_ADDR,43, InFlashSave);
;;;495                flag_OverV=0;
;;;496                Flag_DAC_OFF=0;
;;;497            }
;;;498        }else if(step == 5){
000042  2805              CMP      r0,#5
000044  d07c              BEQ      |L6.320|
;;;499            Modify_A_READ = Rmon_value;//
;;;500    		Modify_A_ACT = inputvalue;//
;;;501        }else if(step == 6){
000046  2806              CMP      r0,#6
000048  d143              BNE      |L6.210|
;;;502            vu16 var16;
;;;503            vu32 var32a;
;;;504            vu32 var32b;
;;;505            
;;;506            vu16 var16a;
;;;507            vu32 var32c;
;;;508            vu32 var32d;
;;;509            Modify_B_READ =Rmon_value;//
00004a  f8b80000          LDRH     r0,[r8,#0]  ; Rmon_value
00004e  f8ae0000          STRH     r0,[lr,#0]
;;;510            flag_OverV=1;
000052  6032              STR      r2,[r6,#0]  ; flagG
;;;511            Modify_B_ACT = inputvalue;//
000054  f8a91000          STRH     r1,[r9,#0]
;;;512            if(flag_OverV==1)//FLASH
000058  0790              LSLS     r0,r2,#30
00005a  d53a              BPL      |L6.210|
;;;513            {
;;;514                var32a = Modify_B_ACT;
00005c  f8b90000          LDRH     r0,[r9,#0]  ; Modify_B_ACT
000060  9001              STR      r0,[sp,#4]
;;;515                var32a = var32a - Modify_A_ACT;
000062  8821              LDRH     r1,[r4,#0]  ; Modify_A_ACT
000064  9801              LDR      r0,[sp,#4]
000066  1a40              SUBS     r0,r0,r1
000068  9001              STR      r0,[sp,#4]
;;;516                var32a = var32a << 12;
00006a  9801              LDR      r0,[sp,#4]
00006c  0300              LSLS     r0,r0,#12
00006e  9001              STR      r0,[sp,#4]
;;;517                var16 = Modify_B_READ - Modify_A_READ;
000070  f8be0000          LDRH     r0,[lr,#0]  ; Modify_B_READ
000074  8819              LDRH     r1,[r3,#0]  ; Modify_A_READ
000076  1a40              SUBS     r0,r0,r1
000078  9002              STR      r0,[sp,#8]
;;;518                var32a = var32a / var16;
00007a  f8bd1008          LDRH     r1,[sp,#8]
00007e  9801              LDR      r0,[sp,#4]
000080  fbb0f0f1          UDIV     r0,r0,r1
000084  9001              STR      r0,[sp,#4]
;;;519                REG_CorrectionR = var32a;
000086  9801              LDR      r0,[sp,#4]
000088  f8ca0014          STR      r0,[r10,#0x14]  ; Correct_Parametet
;;;520                var32a=0;
;;;521                var32a = Modify_B_ACT;
00008c  f8b90000          LDRH     r0,[r9,#0]  ; Modify_B_ACT
000090  9001              STR      r0,[sp,#4]
;;;522                var32a = var32a << 12;
000092  9801              LDR      r0,[sp,#4]
000094  0300              LSLS     r0,r0,#12
000096  9001              STR      r0,[sp,#4]
;;;523                var32b = Modify_B_READ;
000098  f8be0000          LDRH     r0,[lr,#0]  ; Modify_B_READ
00009c  9000              STR      r0,[sp,#0]
;;;524                var32b = var32b * REG_CorrectionR;
00009e  f8da0014          LDR      r0,[r10,#0x14]  ; Correct_Parametet
0000a2  9900              LDR      r1,[sp,#0]
0000a4  4348              MULS     r0,r1,r0
0000a6  9000              STR      r0,[sp,#0]
;;;525                if (var32a < var32b)
0000a8  e9dd2100          LDRD     r2,r1,[sp,#0]
;;;526                {
;;;527                    var32b = var32b - var32a;
;;;528                    REG_ReadR_Offset = var32b;
;;;529                    Polar3 |= 0x01;
0000ac  4888              LDR      r0,|L6.720|
0000ae  4291              CMP      r1,r2                 ;525
0000b0  d277              BCS      |L6.418|
0000b2  e9dd1200          LDRD     r1,r2,[sp,#0]         ;527
0000b6  1a89              SUBS     r1,r1,r2              ;527
0000b8  9100              STR      r1,[sp,#0]            ;527
0000ba  9900              LDR      r1,[sp,#0]            ;528
0000bc  f8cc1014          STR      r1,[r12,#0x14]        ;528  ; Correct_Strong
0000c0  78c1              LDRB     r1,[r0,#3]  ; correct_por
0000c2  f0410101          ORR      r1,r1,#1
0000c6  70c1              STRB     r1,[r0,#3]
0000c8  e0de              B        |L6.648|
                  |L6.202|
0000ca  f8b80000          LDRH     r0,[r8,#0]            ;408  ; Rmon_value
0000ce  8018              STRH     r0,[r3,#0]            ;408
0000d0  8021              STRH     r1,[r4,#0]            ;409
                  |L6.210|
;;;530                }
;;;531                else 
;;;532                {
;;;533                    var32a = var32a - var32b;
;;;534                    REG_ReadR_Offset = var32a;
;;;535                    Polar3 &= ~0x01;
;;;536                }
;;;537    //---------------------------------------------------------------------------------------//
;;;538                Flash_Write_all();	//FLASH
;;;539                flag_OverV=0;
;;;540                Flag_DAC_OFF=0;
;;;541            }
;;;542        }
;;;543    }
0000d2  e8bd8ffe          POP      {r1-r11,pc}
                  |L6.214|
0000d6  f8b80000          LDRH     r0,[r8,#0]            ;418  ; Rmon_value
0000da  f8ae0000          STRH     r0,[lr,#0]            ;418
0000de  6032              STR      r2,[r6,#0]            ;419  ; flagG
0000e0  f8a91000          STRH     r1,[r9,#0]            ;420
0000e4  0790              LSLS     r0,r2,#30             ;421
0000e6  d556              BPL      |L6.406|
0000e8  f8b90000          LDRH     r0,[r9,#0]            ;423  ; Modify_B_ACT
0000ec  9001              STR      r0,[sp,#4]            ;423
0000ee  8821              LDRH     r1,[r4,#0]            ;424  ; Modify_A_ACT
0000f0  9801              LDR      r0,[sp,#4]            ;424
0000f2  1a40              SUBS     r0,r0,r1              ;424
0000f4  9001              STR      r0,[sp,#4]            ;424
0000f6  9801              LDR      r0,[sp,#4]            ;425
0000f8  0300              LSLS     r0,r0,#12             ;425
0000fa  9001              STR      r0,[sp,#4]            ;425
0000fc  f8be0000          LDRH     r0,[lr,#0]            ;426  ; Modify_B_READ
000100  8819              LDRH     r1,[r3,#0]            ;426  ; Modify_A_READ
000102  1a40              SUBS     r0,r0,r1              ;426
000104  9002              STR      r0,[sp,#8]            ;426
000106  f8bd1008          LDRH     r1,[sp,#8]            ;427
00010a  9801              LDR      r0,[sp,#4]            ;427
00010c  fbb0f0f1          UDIV     r0,r0,r1              ;427
000110  9001              STR      r0,[sp,#4]            ;427
000112  9801              LDR      r0,[sp,#4]            ;428
000114  f8ca002c          STR      r0,[r10,#0x2c]        ;428  ; Correct_Parametet
000118  f8b90000          LDRH     r0,[r9,#0]            ;430  ; Modify_B_ACT
00011c  9001              STR      r0,[sp,#4]            ;430
00011e  9801              LDR      r0,[sp,#4]            ;431
000120  0300              LSLS     r0,r0,#12             ;431
000122  9001              STR      r0,[sp,#4]            ;431
000124  f8be0000          LDRH     r0,[lr,#0]            ;432  ; Modify_B_READ
000128  9000              STR      r0,[sp,#0]            ;432
00012a  f8da002c          LDR      r0,[r10,#0x2c]        ;433  ; Correct_Parametet
00012e  9900              LDR      r1,[sp,#0]            ;433
000130  4348              MULS     r0,r1,r0              ;433
000132  9000              STR      r0,[sp,#0]            ;433
000134  e9dd2100          LDRD     r2,r1,[sp,#0]         ;438
000138  485f              LDR      r0,|L6.696|
00013a  e002              B        |L6.322|
                  |L6.316|
00013c  e032              B        |L6.420|
                  |L6.318|
00013e  e036              B        |L6.430|
                  |L6.320|
000140  e092              B        |L6.616|
                  |L6.322|
000142  f8d00090          LDR      r0,[r0,#0x90]         ;438
000146  4291              CMP      r1,r2                 ;434
000148  d20b              BCS      |L6.354|
00014a  e9dd1200          LDRD     r1,r2,[sp,#0]         ;436
00014e  1a89              SUBS     r1,r1,r2              ;436
000150  9100              STR      r1,[sp,#0]            ;436
000152  9900              LDR      r1,[sp,#0]            ;437
000154  f8cc102c          STR      r1,[r12,#0x2c]        ;437  ; Correct_Strong
000158  f0400001          ORR      r0,r0,#1              ;438
00015c  f8cb0090          STR      r0,[r11,#0x90]        ;438  ; InFlashSave
000160  e00a              B        |L6.376|
                  |L6.354|
000162  e9dd2100          LDRD     r2,r1,[sp,#0]         ;442
000166  1a89              SUBS     r1,r1,r2              ;442
000168  9101              STR      r1,[sp,#4]            ;442
00016a  9901              LDR      r1,[sp,#4]            ;443
00016c  f8cc102c          STR      r1,[r12,#0x2c]        ;443  ; Correct_Strong
000170  f0200001          BIC      r0,r0,#1              ;444
000174  f8cb0090          STR      r0,[r11,#0x90]        ;444  ; InFlashSave
                  |L6.376|
000178  f7fffffe          BL       Flash_Write_all
00017c  4a4e              LDR      r2,|L6.696|
00017e  212b              MOVS     r1,#0x2b              ;448
000180  4638              MOV      r0,r7                 ;448
000182  f7fffffe          BL       Flash_Write32BitDatas
000186  6830              LDR      r0,[r6,#0]            ;449  ; flagG
000188  f0200002          BIC      r0,r0,#2              ;449
00018c  6030              STR      r0,[r6,#0]            ;449  ; flagG
00018e  6828              LDR      r0,[r5,#0]            ;450  ; flagB
000190  f0200008          BIC      r0,r0,#8              ;450
000194  6028              STR      r0,[r5,#0]            ;450  ; flagB
                  |L6.406|
000196  484f              LDR      r0,|L6.724|
000198  6801              LDR      r1,[r0,#0]            ;452  ; flagF
00019a  f0210108          BIC      r1,r1,#8              ;452
00019e  6001              STR      r1,[r0,#0]            ;452  ; flagF
0001a0  e797              B        |L6.210|
                  |L6.418|
0001a2  e066              B        |L6.626|
                  |L6.420|
0001a4  f8b80000          LDRH     r0,[r8,#0]            ;454  ; Rmon_value
0001a8  8018              STRH     r0,[r3,#0]            ;454
0001aa  8021              STRH     r1,[r4,#0]            ;455
0001ac  e791              B        |L6.210|
                  |L6.430|
0001ae  f8b80000          LDRH     r0,[r8,#0]            ;464  ; Rmon_value
0001b2  f8ae0000          STRH     r0,[lr,#0]            ;464
0001b6  6032              STR      r2,[r6,#0]            ;465  ; flagG
0001b8  f8a91000          STRH     r1,[r9,#0]            ;466
0001bc  0790              LSLS     r0,r2,#30             ;467
0001be  d588              BPL      |L6.210|
0001c0  f8b90000          LDRH     r0,[r9,#0]            ;469  ; Modify_B_ACT
0001c4  9001              STR      r0,[sp,#4]            ;469
0001c6  8821              LDRH     r1,[r4,#0]            ;470  ; Modify_A_ACT
0001c8  9801              LDR      r0,[sp,#4]            ;470
0001ca  1a40              SUBS     r0,r0,r1              ;470
0001cc  9001              STR      r0,[sp,#4]            ;470
0001ce  9801              LDR      r0,[sp,#4]            ;471
0001d0  0300              LSLS     r0,r0,#12             ;471
0001d2  9001              STR      r0,[sp,#4]            ;471
0001d4  f8be0000          LDRH     r0,[lr,#0]            ;472  ; Modify_B_READ
0001d8  8819              LDRH     r1,[r3,#0]            ;472  ; Modify_A_READ
0001da  1a40              SUBS     r0,r0,r1              ;472
0001dc  9002              STR      r0,[sp,#8]            ;472
0001de  f8bd1008          LDRH     r1,[sp,#8]            ;473
0001e2  9801              LDR      r0,[sp,#4]            ;473
0001e4  fbb0f0f1          UDIV     r0,r0,r1              ;473
0001e8  9001              STR      r0,[sp,#4]            ;473
0001ea  9801              LDR      r0,[sp,#4]            ;474
0001ec  f8ca0030          STR      r0,[r10,#0x30]        ;474  ; Correct_Parametet
0001f0  f8b90000          LDRH     r0,[r9,#0]            ;476  ; Modify_B_ACT
0001f4  9001              STR      r0,[sp,#4]            ;476
0001f6  9801              LDR      r0,[sp,#4]            ;477
0001f8  0300              LSLS     r0,r0,#12             ;477
0001fa  9001              STR      r0,[sp,#4]            ;477
0001fc  f8be0000          LDRH     r0,[lr,#0]            ;478  ; Modify_B_READ
000200  9000              STR      r0,[sp,#0]            ;478
000202  f8da0030          LDR      r0,[r10,#0x30]        ;479  ; Correct_Parametet
000206  9900              LDR      r1,[sp,#0]            ;479
000208  4348              MULS     r0,r1,r0              ;479
00020a  9000              STR      r0,[sp,#0]            ;479
00020c  482a              LDR      r0,|L6.696|
00020e  e9dd2100          LDRD     r2,r1,[sp,#0]         ;484
000212  f8d00094          LDR      r0,[r0,#0x94]         ;484
000216  4291              CMP      r1,r2                 ;480
000218  d20b              BCS      |L6.562|
00021a  e9dd1200          LDRD     r1,r2,[sp,#0]         ;482
00021e  1a89              SUBS     r1,r1,r2              ;482
000220  9100              STR      r1,[sp,#0]            ;482
000222  9900              LDR      r1,[sp,#0]            ;483
000224  f8cc1030          STR      r1,[r12,#0x30]        ;483  ; Correct_Strong
000228  f0400001          ORR      r0,r0,#1              ;484
00022c  f8cb0094          STR      r0,[r11,#0x94]        ;484  ; InFlashSave
000230  e00a              B        |L6.584|
                  |L6.562|
000232  e9dd2100          LDRD     r2,r1,[sp,#0]         ;488
000236  1a89              SUBS     r1,r1,r2              ;488
000238  9101              STR      r1,[sp,#4]            ;488
00023a  9901              LDR      r1,[sp,#4]            ;489
00023c  f8cc1030          STR      r1,[r12,#0x30]        ;489  ; Correct_Strong
000240  f0200001          BIC      r0,r0,#1              ;490
000244  f8cb0094          STR      r0,[r11,#0x94]        ;490  ; InFlashSave
                  |L6.584|
000248  f7fffffe          BL       Flash_Write_all
00024c  4a1a              LDR      r2,|L6.696|
00024e  212b              MOVS     r1,#0x2b              ;494
000250  4638              MOV      r0,r7                 ;494
000252  f7fffffe          BL       Flash_Write32BitDatas
000256  6830              LDR      r0,[r6,#0]            ;495  ; flagG
000258  f0200002          BIC      r0,r0,#2              ;495
00025c  6030              STR      r0,[r6,#0]            ;495  ; flagG
00025e  6828              LDR      r0,[r5,#0]            ;496  ; flagB
000260  f0200008          BIC      r0,r0,#8              ;496
000264  6028              STR      r0,[r5,#0]            ;496  ; flagB
000266  e734              B        |L6.210|
                  |L6.616|
000268  f8b80000          LDRH     r0,[r8,#0]            ;499  ; Rmon_value
00026c  8018              STRH     r0,[r3,#0]            ;499
00026e  8021              STRH     r1,[r4,#0]            ;500
000270  e72f              B        |L6.210|
                  |L6.626|
000272  e9dd2100          LDRD     r2,r1,[sp,#0]         ;533
000276  1a89              SUBS     r1,r1,r2              ;533
000278  9101              STR      r1,[sp,#4]            ;533
00027a  9901              LDR      r1,[sp,#4]            ;534
00027c  f8cc1014          STR      r1,[r12,#0x14]        ;534  ; Correct_Strong
000280  78c1              LDRB     r1,[r0,#3]            ;535  ; correct_por
000282  f0210101          BIC      r1,r1,#1              ;535
000286  70c1              STRB     r1,[r0,#3]            ;535
                  |L6.648|
000288  f7fffffe          BL       Flash_Write_all
00028c  6830              LDR      r0,[r6,#0]            ;539  ; flagG
00028e  f0200002          BIC      r0,r0,#2              ;539
000292  6030              STR      r0,[r6,#0]            ;539  ; flagG
000294  6828              LDR      r0,[r5,#0]            ;540  ; flagB
000296  f0200008          BIC      r0,r0,#8              ;540
00029a  6028              STR      r0,[r5,#0]            ;540  ; flagB
00029c  e719              B        |L6.210|
;;;544    
                          ENDP

00029e  0000              DCW      0x0000
                  |L6.672|
                          DCD      Rmon_value
                  |L6.676|
                          DCD      Modify_A_READ
                  |L6.680|
                          DCD      ||.data||
                  |L6.684|
                          DCD      Modify_A_ACT
                  |L6.688|
                          DCD      Correct_Parametet
                  |L6.692|
                          DCD      Correct_Strong
                  |L6.696|
                          DCD      InFlashSave
                  |L6.700|
                          DCD      0x080e0000
                  |L6.704|
                          DCD      flagB
                  |L6.708|
                          DCD      flagG
                  |L6.712|
                          DCD      Modify_B_READ
                  |L6.716|
                          DCD      Modify_B_ACT
                  |L6.720|
                          DCD      correct_por
                  |L6.724|
                          DCD      flagF

                          AREA ||i._cbDialog||, CODE, READONLY, ALIGN=2

                          REQUIRE _printf_percent
                          REQUIRE _printf_widthprec
                          REQUIRE _printf_f
                          REQUIRE _printf_fp_dec
                          REQUIRE _printf_pre_padding
                          REQUIRE _printf_d
                          REQUIRE _printf_int_dec
                  _cbDialog PROC
;;;61     
;;;62     static void _cbDialog(WM_MESSAGE * pMsg) {
000000  e92d5ff0          PUSH     {r4-r12,lr}
000004  4604              MOV      r4,r0
;;;63         WM_HWIN hItem;
;;;64         static char buf[5];
;;;65     
;;;66       switch (pMsg->MsgId) {
;;;67     		
;;;68     	case WM_PAINT:
;;;69             GUI_SetColor(GUI_WHITE);//??????
000006  f06f457f          MVN      r5,#0xff000000
00000a  6820              LDR      r0,[r4,#0]            ;66
00000c  280f              CMP      r0,#0xf               ;66
00000e  d00e              BEQ      |L7.46|
;;;70             GUI_FillRect(0,25,480,26);//????
;;;71             GUI_SetColor(GUI_ORANGE);
;;;72             GUI_SetFont(&GUI_Fontsymbol);
;;;73             GUI_UC_SetEncodeUTF8();
;;;74             GUI_SetTextMode(GUI_TM_TRANS);//??????????
;;;75             if(jkflag == 1)
;;;76     		{
;;;77     			GUI_DispStringAt("Jinko", 5, 1);//SET
;;;78     		}
;;;79             GUI_SetColor(GUI_WHITE);
;;;80             GUI_SetFont(&GUI_FontHZ20S);
;;;81             GUI_UC_SetEncodeUTF8();
;;;82     //        GUI_SetTextMode(GUI_TM_TRANS);//??????????
;;;83     //        GUI_DispStringAt("", 130, 3);//SET
;;;84             GUI_SetColor(GUI_WHITE);
;;;85             GUI_SetFont(&GUI_Fontset_font);
;;;86             GUI_DispStringAt("", 30, 50);
;;;87             GUI_DispStringAt("", 30, 75);
;;;88             GUI_DispStringAt("", 30, 100);
;;;89             GUI_DispStringAt("", 30, 125);
;;;90             GUI_DispStringAt("", 30, 150);
;;;91             GUI_DispStringAt("", 30, 175);
;;;92     //        GUI_DispStringAt("", 30, 150);
;;;93     //         GUI_DispStringAt("", 30, 150);
;;;94     //         GUI_SetColor(0x00BFFFFF);
;;;95     //         GUI_SetFont(&GUI_Font24_1);
;;;96     //         GUI_DispStringAt("JK5530B", 140, 50);
;;;97     //         GUI_DispStringAt("Ver:1.7", 140, 75);
;;;98     //        
;;;99     //         GUI_DispStringAt("Ver:1.2", 140, 100);
;;;100    //         GUI_DispStringAt("-", 191, 125);
;;;101    //         GUI_DispStringAt("-", 227, 125);
;;;102    //         GUI_DispStringAt("A", 164, 150);
;;;103            DrawLock();
;;;104    	break;
;;;105    	case WM_TIMER:
;;;106    	if(WM_GetTimerId(pMsg->Data.v) == ID_TimerTime8)
;;;107    	{
;;;108            lockstat2 = lockstat1;
;;;109            lockstat1 = lock;
;;;110            if(lockstat1 != lockstat2)
;;;111            {
;;;112                WM_InvalidateWindow(hWincal);
;;;113            }
;;;114            if(calmode == mode_load)
;;;115            {
;;;116                hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_137);
;;;117                GUI_UC_SetEncodeUTF8();
;;;118    			if(vflag == 0)
;;;119    			{ 
;;;120    				TEXT_SetTextColor(hItem, GUI_GREEN);
;;;121    				
;;;122    			}else{
;;;123    				TEXT_SetTextColor(hItem, GUI_RED);
;;;124    			}
;;;125            //  sprintf(buf,"%.3f",0);
;;;126                TEXT_SetText(hItem,"");
;;;127                
;;;128                hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_138);
;;;129                TEXT_SetTextColor(hItem, GUI_WHITE);//
;;;130                sprintf(buf,"%.3f",DISS_Voltage);
;;;131                TEXT_SetFont(hItem,&GUI_Font24_1);//
;;;132                GUI_UC_SetEncodeUTF8();  
;;;133                TEXT_SetText(hItem,buf);
;;;134                
;;;135                hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_139);
;;;136                TEXT_SetTextColor(hItem, GUI_WHITE);//
;;;137                sprintf(buf,"%.3f",DISS_Current);
;;;138                TEXT_SetFont(hItem,&GUI_Font24_1);//
;;;139                GUI_UC_SetEncodeUTF8();  
;;;140                TEXT_SetText(hItem,buf);
;;;141                hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_142);
;;;142                TEXT_SetBkColor(hItem,GUI_INVALID_COLOR);//
;;;143                TEXT_SetTextColor(hItem, GUI_WHITE);
;;;144            }else if(calmode == mode_pow){
;;;145                hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_137);
;;;146                GUI_UC_SetEncodeUTF8();
;;;147            //  sprintf(buf,"%.3f",0);
;;;148                TEXT_SetText(hItem,"");
;;;149                
;;;150                hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_138);
;;;151                TEXT_SetTextColor(hItem, GUI_WHITE);//
;;;152                sprintf(buf,"%.3f",DISS_POW_Voltage);
;;;153                TEXT_SetFont(hItem,&GUI_Font24_1);//
;;;154                GUI_UC_SetEncodeUTF8();  
;;;155                TEXT_SetText(hItem,buf);
;;;156                
;;;157                hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_139);
;;;158                TEXT_SetTextColor(hItem, GUI_WHITE);//
;;;159                sprintf(buf,"%.3f",DISS_POW_Current);
;;;160                TEXT_SetFont(hItem,&GUI_Font24_1);//
;;;161                GUI_UC_SetEncodeUTF8();  
;;;162                TEXT_SetText(hItem,buf);
;;;163                hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_142);
;;;164                TEXT_SetBkColor(hItem,GUI_INVALID_COLOR);//
;;;165                TEXT_SetTextColor(hItem, GUI_WHITE);
;;;166            }else if(calmode == mode_r ){
;;;167                hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_137);
;;;168                GUI_UC_SetEncodeUTF8();
;;;169            //  sprintf(buf,"%.3f",0);
;;;170                TEXT_SetText(hItem,"");
;;;171                
;;;172                hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_138);
;;;173                TEXT_SetTextColor(hItem, GUI_WHITE);//
;;;174                sprintf(buf,"%.3f",DISS_Voltage);
;;;175                TEXT_SetFont(hItem,&GUI_Font24_1);//
;;;176                GUI_UC_SetEncodeUTF8();  
;;;177                TEXT_SetText(hItem,buf);
;;;178                
;;;179                hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_139);
;;;180                TEXT_SetTextColor(hItem, GUI_WHITE);//
;;;181                sprintf(buf,"%.3f",DISS_Current);
;;;182                TEXT_SetFont(hItem,&GUI_Font24_1);//
;;;183                GUI_UC_SetEncodeUTF8();  
;;;184                TEXT_SetText(hItem,buf);
;;;185                
;;;186                hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_141);
;;;187                GUI_UC_SetEncodeUTF8();
;;;188                if(r_raly == 0)
;;;189                {
;;;190                    TEXT_SetText(hItem,"200");
;;;191                }else if(r_raly == 1){
;;;192                    TEXT_SetText(hItem,"2000");
;;;193                } 
;;;194                hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_142);
;;;195                TEXT_SetBkColor(hItem,GUI_INVALID_COLOR);//
;;;196                TEXT_SetTextColor(hItem, GUI_WHITE);
;;;197            }else if(calmode == mode_loadc)
;;;198            {
;;;199                hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_137);
;;;200                GUI_UC_SetEncodeUTF8();
;;;201            //  sprintf(buf,"%.3f",0);
;;;202                TEXT_SetText(hItem,"");
;;;203                
;;;204                hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_138);
;;;205                TEXT_SetTextColor(hItem, GUI_WHITE);//
;;;206                sprintf(buf,"%.3f",DISS_Voltage);
;;;207                TEXT_SetFont(hItem,&GUI_Font24_1);//
;;;208                GUI_UC_SetEncodeUTF8();  
;;;209                TEXT_SetText(hItem,buf);
;;;210                
;;;211                hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_139);
;;;212                TEXT_SetTextColor(hItem, GUI_WHITE);//
;;;213                sprintf(buf,"%.3f",DISS_Current);
;;;214                TEXT_SetFont(hItem,&GUI_Font24_1);//
;;;215                GUI_UC_SetEncodeUTF8();  
;;;216                TEXT_SetText(hItem,buf);
;;;217                hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_142);
;;;218                TEXT_SetBkColor(hItem,GUI_INVALID_COLOR);//
;;;219                TEXT_SetTextColor(hItem, GUI_WHITE);
;;;220            }else if(calmode == mode_powc){
;;;221                hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_137);
;;;222                GUI_UC_SetEncodeUTF8();
;;;223            //  sprintf(buf,"%.3f",0);
;;;224                TEXT_SetText(hItem,"");
;;;225                
;;;226                hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_138);
;;;227                TEXT_SetTextColor(hItem, GUI_WHITE);//
;;;228                sprintf(buf,"%.3f",DISS_POW_Voltage);
;;;229                TEXT_SetFont(hItem,&GUI_Font24_1);//
;;;230                GUI_UC_SetEncodeUTF8();  
;;;231                TEXT_SetText(hItem,buf);
;;;232                
;;;233                hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_139);
;;;234                TEXT_SetTextColor(hItem, GUI_WHITE);//
;;;235                sprintf(buf,"%.3f",DISS_POW_Current);
;;;236                TEXT_SetFont(hItem,&GUI_Font24_1);//
;;;237                GUI_UC_SetEncodeUTF8();  
;;;238                TEXT_SetText(hItem,buf);
;;;239                
;;;240                hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_142);
;;;241                TEXT_SetBkColor(hItem,GUI_INVALID_COLOR);//
;;;242                TEXT_SetTextColor(hItem, GUI_WHITE);
;;;243            }else if(calmode == input){
;;;244                hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_142);
;;;245                TEXT_SetTextColor(hItem, GUI_BLACK);//
;;;246                TEXT_SetBkColor(hItem,0x00BFFFFF);
;;;247            }
;;;248            
;;;249            
;;;250            
;;;251            
;;;252            hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_140);
;;;253            TEXT_SetTextColor(hItem, GUI_WHITE);//
;;;254            sprintf(buf,"%4d",R_VLUE);
000010  4ffd              LDR      r7,|L7.1032|
000012  f8df83f8          LDR      r8,|L7.1036|
000016  4efe              LDR      r6,|L7.1040|
000018  281d              CMP      r0,#0x1d              ;66
00001a  d07d              BEQ      |L7.280|
00001c  f5a07080          SUB      r0,r0,#0x100          ;66
000020  3813              SUBS     r0,r0,#0x13           ;66
000022  d053              BEQ      |L7.204|
;;;255            TEXT_SetFont(hItem,&GUI_Font24_1);//
;;;256            GUI_UC_SetEncodeUTF8();  
;;;257            TEXT_SetText(hItem,buf);
;;;258    		WM_RestartTimer(pMsg->Data.v,50);
;;;259            
;;;260            
;;;261    	}
;;;262    	break;
;;;263        
;;;264    		
;;;265      case WM_INIT_DIALOG:
;;;266          hItem = pMsg->hWin;
;;;267          WINDOW_SetBkColor(hItem, GUI_BLACK);
;;;268          WM_CreateTimer(hItem,ID_TimerTime8,20,0);
;;;269      
;;;270          hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_137);
;;;271          GUI_UC_SetEncodeUTF8();
;;;272    //      sprintf(buf,"%.3f",0);
;;;273          TEXT_SetText(hItem,"");
;;;274          TEXT_SetTextColor(hItem, 0x00BFFFFF);
;;;275          TEXT_SetFont(hItem, &GUI_Fontset_font);
;;;276    	
;;;277    	  hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_138);
;;;278          GUI_UC_SetEncodeUTF8();
;;;279          sprintf(buf,"%.3f",0);
;;;280          TEXT_SetText(hItem,buf);
;;;281          TEXT_SetTextColor(hItem, 0x00BFFFFF);
;;;282          TEXT_SetFont(hItem, &GUI_Font24_1);
;;;283    		
;;;284    	  hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_139);
;;;285          GUI_UC_SetEncodeUTF8();
;;;286          sprintf(buf,"%.3f",0);
;;;287          TEXT_SetText(hItem,buf);
;;;288          TEXT_SetTextColor(hItem, 0x00BFFFFF);
;;;289          TEXT_SetFont(hItem, &GUI_Font24_1);
;;;290    		
;;;291    	  hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_140);
;;;292          GUI_UC_SetEncodeUTF8();
;;;293          sprintf(buf,"%d",R_VLUE);
;;;294          TEXT_SetText(hItem,buf);
;;;295          TEXT_SetTextColor(hItem, 0x00BFFFFF);
;;;296          TEXT_SetFont(hItem, &GUI_Font24_1);
;;;297          
;;;298          hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_141);
;;;299          GUI_UC_SetEncodeUTF8();
;;;300          if(r_raly == 0)
;;;301          {
;;;302              TEXT_SetText(hItem,"200");
;;;303          }else if(r_raly == 1){
;;;304              TEXT_SetText(hItem,"2000");
;;;305          }          
;;;306          TEXT_SetTextColor(hItem, 0x00BFFFFF);
;;;307          TEXT_SetFont(hItem, &GUI_Font24_1);
;;;308    // 	
;;;309    	  hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_142);
;;;310          GUI_UC_SetEncodeUTF8();
;;;311          sprintf(buf,"%d",inputvalue);
;;;312          TEXT_SetText(hItem,buf);
;;;313          TEXT_SetTextColor(hItem, 0x00BFFFFF);
;;;314          TEXT_SetFont(hItem, &GUI_Font24_1);
;;;315    		
;;;316    
;;;317          
;;;318    
;;;319    
;;;320        // USER START (Optionally insert additional code for further widget initialization)
;;;321        // USER END
;;;322            break;
;;;323      // USER START (Optionally insert additional message handling)
;;;324      // USER END
;;;325        default:
;;;326            WM_DefaultProc(pMsg);
000024  4620              MOV      r0,r4
000026  e8bd5ff0          POP      {r4-r12,lr}
00002a  f7ffbffe          B.W      WM_DefaultProc
                  |L7.46|
00002e  4628              MOV      r0,r5                 ;69
000030  f7fffffe          BL       GUI_SetColor
000034  231a              MOVS     r3,#0x1a              ;70
000036  f44f72f0          MOV      r2,#0x1e0             ;70
00003a  2119              MOVS     r1,#0x19              ;70
00003c  2000              MOVS     r0,#0                 ;70
00003e  f7fffffe          BL       GUI_FillRect
000042  f24a50ff          MOV      r0,#0xa5ff            ;71
000046  f7fffffe          BL       GUI_SetColor
00004a  48f2              LDR      r0,|L7.1044|
00004c  f7fffffe          BL       GUI_SetFont
000050  f7fffffe          BL       GUI_UC_SetEncodeUTF8
000054  2002              MOVS     r0,#2                 ;74
000056  f7fffffe          BL       GUI_SetTextMode
00005a  49ef              LDR      r1,|L7.1048|
00005c  7809              LDRB     r1,[r1,#0]            ;75  ; jkflag
00005e  2901              CMP      r1,#1                 ;75
000060  d104              BNE      |L7.108|
000062  2201              MOVS     r2,#1                 ;77
000064  2105              MOVS     r1,#5                 ;77
000066  a0ed              ADR      r0,|L7.1052|
000068  f7fffffe          BL       GUI_DispStringAt
                  |L7.108|
00006c  4628              MOV      r0,r5                 ;79
00006e  f7fffffe          BL       GUI_SetColor
000072  48ec              LDR      r0,|L7.1060|
000074  f7fffffe          BL       GUI_SetFont
000078  f7fffffe          BL       GUI_UC_SetEncodeUTF8
00007c  4628              MOV      r0,r5                 ;84
00007e  f7fffffe          BL       GUI_SetColor
000082  48e9              LDR      r0,|L7.1064|
000084  f7fffffe          BL       GUI_SetFont
000088  2232              MOVS     r2,#0x32              ;86
00008a  211e              MOVS     r1,#0x1e              ;86
00008c  a0e7              ADR      r0,|L7.1068|
00008e  f7fffffe          BL       GUI_DispStringAt
000092  224b              MOVS     r2,#0x4b              ;87
000094  211e              MOVS     r1,#0x1e              ;87
000096  a0e7              ADR      r0,|L7.1076|
000098  f7fffffe          BL       GUI_DispStringAt
00009c  2264              MOVS     r2,#0x64              ;88
00009e  211e              MOVS     r1,#0x1e              ;88
0000a0  a0e6              ADR      r0,|L7.1084|
0000a2  f7fffffe          BL       GUI_DispStringAt
0000a6  227d              MOVS     r2,#0x7d              ;89
0000a8  211e              MOVS     r1,#0x1e              ;89
0000aa  a0e6              ADR      r0,|L7.1092|
0000ac  f7fffffe          BL       GUI_DispStringAt
0000b0  2296              MOVS     r2,#0x96              ;90
0000b2  211e              MOVS     r1,#0x1e              ;90
0000b4  a0e5              ADR      r0,|L7.1100|
0000b6  f7fffffe          BL       GUI_DispStringAt
0000ba  22af              MOVS     r2,#0xaf              ;91
0000bc  211e              MOVS     r1,#0x1e              ;91
0000be  a0e7              ADR      r0,|L7.1116|
0000c0  f7fffffe          BL       GUI_DispStringAt
0000c4  e8bd5ff0          POP      {r4-r12,lr}           ;103
0000c8  f7ffbffe          B.W      DrawLock
                  |L7.204|
0000cc  68e0              LDR      r0,[r4,#0xc]          ;106
0000ce  f7fffffe          BL       WM_GetTimerId
0000d2  2809              CMP      r0,#9                 ;106
0000d4  d17e              BNE      |L7.468|
0000d6  4ae4              LDR      r2,|L7.1128|
0000d8  49e4              LDR      r1,|L7.1132|
0000da  7810              LDRB     r0,[r2,#0]            ;108  ; lockstat1
0000dc  7008              STRB     r0,[r1,#0]            ;108
0000de  49e4              LDR      r1,|L7.1136|
0000e0  7809              LDRB     r1,[r1,#0]            ;109  ; lock
0000e2  7011              STRB     r1,[r2,#0]            ;109
0000e4  4281              CMP      r1,r0                 ;110
0000e6  d003              BEQ      |L7.240|
0000e8  f8d80004          LDR      r0,[r8,#4]            ;112  ; hWincal
0000ec  f7fffffe          BL       WM_InvalidateWindow
                  |L7.240|
0000f0  f8980000          LDRB     r0,[r8,#0]            ;114  ; calmode
0000f4  f8df937c          LDR      r9,|L7.1140|
0000f8  f8df837c          LDR      r8,|L7.1144|
0000fc  2802              CMP      r0,#2                 ;114
0000fe  d010              BEQ      |L7.290|
000100  f8dfa378          LDR      r10,|L7.1148|
000104  f8dfb378          LDR      r11,|L7.1152|
000108  2803              CMP      r0,#3                 ;144
00010a  d07f              BEQ      |L7.524|
00010c  2801              CMP      r0,#1                 ;166
00010e  d073              BEQ      |L7.504|
000110  2804              CMP      r0,#4                 ;197
000112  d072              BEQ      |L7.506|
000114  2805              CMP      r0,#5                 ;220
000116  e000              B        |L7.282|
                  |L7.280|
000118  e29e              B        |L7.1624|
                  |L7.282|
00011a  d06f              BEQ      |L7.508|
00011c  2806              CMP      r0,#6                 ;243
00011e  d06e              BEQ      |L7.510|
000120  e27b              B        |L7.1562|
                  |L7.290|
000122  f6401127          MOV      r1,#0x927             ;116
000126  6860              LDR      r0,[r4,#4]            ;116
000128  f7fffffe          BL       WM_GetDialogItem
00012c  4606              MOV      r6,r0                 ;116
00012e  f7fffffe          BL       GUI_UC_SetEncodeUTF8
000132  48d4              LDR      r0,|L7.1156|
000134  7800              LDRB     r0,[r0,#0]            ;118  ; vflag
000136  2800              CMP      r0,#0                 ;118
000138  d062              BEQ      |L7.512|
00013a  21ff              MOVS     r1,#0xff              ;123
00013c  4630              MOV      r0,r6                 ;123
00013e  f7fffffe          BL       TEXT_SetTextColor
                  |L7.322|
000142  a1d1              ADR      r1,|L7.1160|
000144  4630              MOV      r0,r6                 ;126
000146  f7fffffe          BL       TEXT_SetText
00014a  f6401128          MOV      r1,#0x928             ;128
00014e  6860              LDR      r0,[r4,#4]            ;128
000150  f7fffffe          BL       WM_GetDialogItem
000154  4606              MOV      r6,r0                 ;128
000156  4629              MOV      r1,r5                 ;129
000158  4630              MOV      r0,r6                 ;129
00015a  f7fffffe          BL       TEXT_SetTextColor
00015e  f8d90000          LDR      r0,[r9,#0]            ;130  ; DISS_Voltage
000162  f7fffffe          BL       __aeabi_f2d
000166  ec410b10          VMOV     d0,r0,r1              ;130
00016a  48a8              LDR      r0,|L7.1036|
00016c  ec532b10          VMOV     r2,r3,d0              ;130
000170  a1c9              ADR      r1,|L7.1176|
000172  300c              ADDS     r0,r0,#0xc            ;130
000174  f7fffffe          BL       __2sprintf
000178  49c9              LDR      r1,|L7.1184|
00017a  4630              MOV      r0,r6                 ;131
00017c  f7fffffe          BL       TEXT_SetFont
000180  f7fffffe          BL       GUI_UC_SetEncodeUTF8
000184  49a1              LDR      r1,|L7.1036|
000186  4630              MOV      r0,r6                 ;133
000188  310c              ADDS     r1,r1,#0xc            ;133
00018a  f7fffffe          BL       TEXT_SetText
00018e  f6401129          MOV      r1,#0x929             ;135
000192  6860              LDR      r0,[r4,#4]            ;135
000194  f7fffffe          BL       WM_GetDialogItem
000198  4606              MOV      r6,r0                 ;135
00019a  4629              MOV      r1,r5                 ;136
00019c  4630              MOV      r0,r6                 ;136
00019e  f7fffffe          BL       TEXT_SetTextColor
0001a2  f8d80000          LDR      r0,[r8,#0]            ;137  ; DISS_Current
0001a6  f7fffffe          BL       __aeabi_f2d
0001aa  ec410b10          VMOV     d0,r0,r1              ;137
0001ae  4897              LDR      r0,|L7.1036|
0001b0  ec532b10          VMOV     r2,r3,d0              ;137
0001b4  a1b8              ADR      r1,|L7.1176|
0001b6  300c              ADDS     r0,r0,#0xc            ;137
0001b8  f7fffffe          BL       __2sprintf
0001bc  49b8              LDR      r1,|L7.1184|
0001be  4630              MOV      r0,r6                 ;138
0001c0  f7fffffe          BL       TEXT_SetFont
0001c4  f7fffffe          BL       GUI_UC_SetEncodeUTF8
0001c8  4990              LDR      r1,|L7.1036|
0001ca  4630              MOV      r0,r6                 ;140
0001cc  310c              ADDS     r1,r1,#0xc            ;140
0001ce  f7fffffe          BL       TEXT_SetText
0001d2  e000              B        |L7.470|
                  |L7.468|
0001d4  e2ea              B        |L7.1964|
                  |L7.470|
0001d6  f640112c          MOV      r1,#0x92c             ;141
0001da  6860              LDR      r0,[r4,#4]            ;141
0001dc  f7fffffe          BL       WM_GetDialogItem
0001e0  4606              MOV      r6,r0                 ;141
0001e2  f06f4170          MVN      r1,#0xf0000000        ;142
0001e6  4630              MOV      r0,r6                 ;142
0001e8  f7fffffe          BL       TEXT_SetBkColor
0001ec  4629              MOV      r1,r5                 ;143
0001ee  4630              MOV      r0,r6                 ;143
0001f0  f7fffffe          BL       TEXT_SetTextColor
0001f4  e211              B        |L7.1562|
0001f6  e009              B        |L7.524|
                  |L7.504|
0001f8  e068              B        |L7.716|
                  |L7.506|
0001fa  e0de              B        |L7.954|
                  |L7.508|
0001fc  e1a1              B        |L7.1346|
                  |L7.510|
0001fe  e1fe              B        |L7.1534|
                  |L7.512|
000200  f44f417f          MOV      r1,#0xff00            ;120
000204  4630              MOV      r0,r6                 ;120
000206  f7fffffe          BL       TEXT_SetTextColor
00020a  e79a              B        |L7.322|
                  |L7.524|
00020c  f6401127          MOV      r1,#0x927             ;145
000210  6860              LDR      r0,[r4,#4]            ;145
000212  f7fffffe          BL       WM_GetDialogItem
000216  4606              MOV      r6,r0                 ;145
000218  f7fffffe          BL       GUI_UC_SetEncodeUTF8
00021c  a1a1              ADR      r1,|L7.1188|
00021e  4630              MOV      r0,r6                 ;148
000220  f7fffffe          BL       TEXT_SetText
000224  f6401128          MOV      r1,#0x928             ;150
000228  6860              LDR      r0,[r4,#4]            ;150
00022a  f7fffffe          BL       WM_GetDialogItem
00022e  4606              MOV      r6,r0                 ;150
000230  4629              MOV      r1,r5                 ;151
000232  4630              MOV      r0,r6                 ;151
000234  f7fffffe          BL       TEXT_SetTextColor
000238  f8da0000          LDR      r0,[r10,#0]           ;152  ; DISS_POW_Voltage
00023c  f7fffffe          BL       __aeabi_f2d
000240  ec410b10          VMOV     d0,r0,r1              ;152
000244  4871              LDR      r0,|L7.1036|
000246  ec532b10          VMOV     r2,r3,d0              ;152
00024a  a193              ADR      r1,|L7.1176|
00024c  300c              ADDS     r0,r0,#0xc            ;152
00024e  f7fffffe          BL       __2sprintf
000252  4993              LDR      r1,|L7.1184|
000254  4630              MOV      r0,r6                 ;153
000256  f7fffffe          BL       TEXT_SetFont
00025a  f7fffffe          BL       GUI_UC_SetEncodeUTF8
00025e  496b              LDR      r1,|L7.1036|
000260  4630              MOV      r0,r6                 ;155
000262  310c              ADDS     r1,r1,#0xc            ;155
000264  f7fffffe          BL       TEXT_SetText
000268  f6401129          MOV      r1,#0x929             ;157
00026c  6860              LDR      r0,[r4,#4]            ;157
00026e  f7fffffe          BL       WM_GetDialogItem
000272  4606              MOV      r6,r0                 ;157
000274  4629              MOV      r1,r5                 ;158
000276  4630              MOV      r0,r6                 ;158
000278  f7fffffe          BL       TEXT_SetTextColor
00027c  f8db0000          LDR      r0,[r11,#0]           ;159  ; DISS_POW_Current
000280  f7fffffe          BL       __aeabi_f2d
000284  ec410b10          VMOV     d0,r0,r1              ;159
000288  4860              LDR      r0,|L7.1036|
00028a  ec532b10          VMOV     r2,r3,d0              ;159
00028e  a182              ADR      r1,|L7.1176|
000290  300c              ADDS     r0,r0,#0xc            ;159
000292  f7fffffe          BL       __2sprintf
000296  4982              LDR      r1,|L7.1184|
000298  4630              MOV      r0,r6                 ;160
00029a  f7fffffe          BL       TEXT_SetFont
00029e  f7fffffe          BL       GUI_UC_SetEncodeUTF8
0002a2  495a              LDR      r1,|L7.1036|
0002a4  4630              MOV      r0,r6                 ;162
0002a6  310c              ADDS     r1,r1,#0xc            ;162
0002a8  f7fffffe          BL       TEXT_SetText
0002ac  f640112c          MOV      r1,#0x92c             ;163
0002b0  6860              LDR      r0,[r4,#4]            ;163
0002b2  f7fffffe          BL       WM_GetDialogItem
0002b6  4606              MOV      r6,r0                 ;163
0002b8  f06f4170          MVN      r1,#0xf0000000        ;164
0002bc  4630              MOV      r0,r6                 ;164
0002be  f7fffffe          BL       TEXT_SetBkColor
0002c2  4629              MOV      r1,r5                 ;165
0002c4  4630              MOV      r0,r6                 ;165
0002c6  f7fffffe          BL       TEXT_SetTextColor
0002ca  e1a6              B        |L7.1562|
                  |L7.716|
0002cc  f6401127          MOV      r1,#0x927             ;167
0002d0  6860              LDR      r0,[r4,#4]            ;167
0002d2  f7fffffe          BL       WM_GetDialogItem
0002d6  4682              MOV      r10,r0                ;167
0002d8  f7fffffe          BL       GUI_UC_SetEncodeUTF8
0002dc  a159              ADR      r1,|L7.1092|
0002de  4650              MOV      r0,r10                ;170
0002e0  f7fffffe          BL       TEXT_SetText
0002e4  f6401128          MOV      r1,#0x928             ;172
0002e8  6860              LDR      r0,[r4,#4]            ;172
0002ea  f7fffffe          BL       WM_GetDialogItem
0002ee  4682              MOV      r10,r0                ;172
0002f0  4629              MOV      r1,r5                 ;173
0002f2  4650              MOV      r0,r10                ;173
0002f4  f7fffffe          BL       TEXT_SetTextColor
0002f8  f8d90000          LDR      r0,[r9,#0]            ;174  ; DISS_Voltage
0002fc  f7fffffe          BL       __aeabi_f2d
000300  ec410b10          VMOV     d0,r0,r1              ;174
000304  4841              LDR      r0,|L7.1036|
000306  ec532b10          VMOV     r2,r3,d0              ;174
00030a  a163              ADR      r1,|L7.1176|
00030c  300c              ADDS     r0,r0,#0xc            ;174
00030e  f7fffffe          BL       __2sprintf
000312  4963              LDR      r1,|L7.1184|
000314  4650              MOV      r0,r10                ;175
000316  f7fffffe          BL       TEXT_SetFont
00031a  f7fffffe          BL       GUI_UC_SetEncodeUTF8
00031e  493b              LDR      r1,|L7.1036|
000320  4650              MOV      r0,r10                ;177
000322  310c              ADDS     r1,r1,#0xc            ;177
000324  f7fffffe          BL       TEXT_SetText
000328  f6401129          MOV      r1,#0x929             ;179
00032c  6860              LDR      r0,[r4,#4]            ;179
00032e  f7fffffe          BL       WM_GetDialogItem
000332  4681              MOV      r9,r0                 ;179
000334  4629              MOV      r1,r5                 ;180
000336  4648              MOV      r0,r9                 ;180
000338  f7fffffe          BL       TEXT_SetTextColor
00033c  f8d80000          LDR      r0,[r8,#0]            ;181  ; DISS_Current
000340  f7fffffe          BL       __aeabi_f2d
000344  ec410b10          VMOV     d0,r0,r1              ;181
000348  4830              LDR      r0,|L7.1036|
00034a  ec532b10          VMOV     r2,r3,d0              ;181
00034e  a152              ADR      r1,|L7.1176|
000350  300c              ADDS     r0,r0,#0xc            ;181
000352  f7fffffe          BL       __2sprintf
000356  4952              LDR      r1,|L7.1184|
000358  4648              MOV      r0,r9                 ;182
00035a  f7fffffe          BL       TEXT_SetFont
00035e  f7fffffe          BL       GUI_UC_SetEncodeUTF8
000362  492a              LDR      r1,|L7.1036|
000364  4648              MOV      r0,r9                 ;184
000366  310c              ADDS     r1,r1,#0xc            ;184
000368  f7fffffe          BL       TEXT_SetText
00036c  f640112b          MOV      r1,#0x92b             ;186
000370  6860              LDR      r0,[r4,#4]            ;186
000372  f7fffffe          BL       WM_GetDialogItem
000376  4680              MOV      r8,r0                 ;186
000378  f7fffffe          BL       GUI_UC_SetEncodeUTF8
00037c  7830              LDRB     r0,[r6,#0]            ;188  ; r_raly
00037e  b118              CBZ      r0,|L7.904|
000380  7830              LDRB     r0,[r6,#0]            ;191  ; r_raly
000382  2801              CMP      r0,#1                 ;191
000384  d005              BEQ      |L7.914|
000386  e008              B        |L7.922|
                  |L7.904|
000388  a14a              ADR      r1,|L7.1204|
00038a  4640              MOV      r0,r8                 ;190
00038c  f7fffffe          BL       TEXT_SetText
000390  e003              B        |L7.922|
                  |L7.914|
000392  a149              ADR      r1,|L7.1208|
000394  4640              MOV      r0,r8                 ;192
000396  f7fffffe          BL       TEXT_SetText
                  |L7.922|
00039a  f640112c          MOV      r1,#0x92c             ;194
00039e  6860              LDR      r0,[r4,#4]            ;194
0003a0  f7fffffe          BL       WM_GetDialogItem
0003a4  4606              MOV      r6,r0                 ;194
0003a6  f06f4170          MVN      r1,#0xf0000000        ;195
0003aa  4630              MOV      r0,r6                 ;195
0003ac  f7fffffe          BL       TEXT_SetBkColor
0003b0  4629              MOV      r1,r5                 ;196
0003b2  4630              MOV      r0,r6                 ;196
0003b4  f7fffffe          BL       TEXT_SetTextColor
0003b8  e12f              B        |L7.1562|
                  |L7.954|
0003ba  f6401127          MOV      r1,#0x927             ;199
0003be  6860              LDR      r0,[r4,#4]            ;199
0003c0  f7fffffe          BL       WM_GetDialogItem
0003c4  4606              MOV      r6,r0                 ;199
0003c6  f7fffffe          BL       GUI_UC_SetEncodeUTF8
0003ca  a13d              ADR      r1,|L7.1216|
0003cc  4630              MOV      r0,r6                 ;202
0003ce  f7fffffe          BL       TEXT_SetText
0003d2  f6401128          MOV      r1,#0x928             ;204
0003d6  6860              LDR      r0,[r4,#4]            ;204
0003d8  f7fffffe          BL       WM_GetDialogItem
0003dc  4606              MOV      r6,r0                 ;204
0003de  4629              MOV      r1,r5                 ;205
0003e0  4630              MOV      r0,r6                 ;205
0003e2  f7fffffe          BL       TEXT_SetTextColor
0003e6  f8d90000          LDR      r0,[r9,#0]            ;206  ; DISS_Voltage
0003ea  f7fffffe          BL       __aeabi_f2d
0003ee  ec410b10          VMOV     d0,r0,r1              ;206
0003f2  4806              LDR      r0,|L7.1036|
0003f4  ec532b10          VMOV     r2,r3,d0              ;206
0003f8  a127              ADR      r1,|L7.1176|
0003fa  300c              ADDS     r0,r0,#0xc            ;206
0003fc  f7fffffe          BL       __2sprintf
000400  4927              LDR      r1,|L7.1184|
000402  4630              MOV      r0,r6                 ;207
000404  e064              B        |L7.1232|
000406  0000              DCW      0x0000
                  |L7.1032|
                          DCD      Run_Control
                  |L7.1036|
                          DCD      ||.data||
                  |L7.1040|
                          DCD      r_raly
                  |L7.1044|
                          DCD      GUI_Fontsymbol
                  |L7.1048|
                          DCD      jkflag
                  |L7.1052|
00041c  4a696e6b          DCB      "Jinko",0
000420  6f00    
000422  00                DCB      0
000423  00                DCB      0
                  |L7.1060|
                          DCD      GUI_FontHZ20S
                  |L7.1064|
                          DCD      GUI_Fontset_font
                  |L7.1068|
00042c  e6a8a1e5          DCB      230,168,161,229,188,143,0
000430  bc8f00  
000433  00                DCB      0
                  |L7.1076|
000434  e794b5e5          DCB      231,148,181,229,142,139,0
000438  8e8b00  
00043b  00                DCB      0
                  |L7.1084|
00043c  e794b5e6          DCB      231,148,181,230,181,129,0
000440  b58100  
000443  00                DCB      0
                  |L7.1092|
000444  e58685e9          DCB      229,134,133,233,152,187,0
000448  98bb00  
00044b  00                DCB      0
                  |L7.1100|
00044c  e58685e9          DCB      229,134,133,233,152,187,233,135,143,231,168,139,0
000450  98bbe987
000454  8fe7a88b
000458  00      
000459  00                DCB      0
00045a  00                DCB      0
00045b  00                DCB      0
                  |L7.1116|
00045c  e8be93e5          DCB      232,190,147,229,133,165,229,128,188,0
000460  85a5e580
000464  bc00    
000466  00                DCB      0
000467  00                DCB      0
                  |L7.1128|
                          DCD      lockstat1
                  |L7.1132|
                          DCD      lockstat2
                  |L7.1136|
                          DCD      lock
                  |L7.1140|
                          DCD      DISS_Voltage
                  |L7.1144|
                          DCD      DISS_Current
                  |L7.1148|
                          DCD      DISS_POW_Voltage
                  |L7.1152|
                          DCD      DISS_POW_Current
                  |L7.1156|
                          DCD      vflag
                  |L7.1160|
000488  e8b49fe8          DCB      232,180,159,232,189,189,231,148,181,229,142,139,0
00048c  bdbde794
000490  b5e58e8b
000494  00      
000495  00                DCB      0
000496  00                DCB      0
000497  00                DCB      0
                  |L7.1176|
000498  252e3366          DCB      "%.3f",0
00049c  00      
00049d  00                DCB      0
00049e  00                DCB      0
00049f  00                DCB      0
                  |L7.1184|
                          DCD      GUI_Font24_1
                  |L7.1188|
0004a4  e58585e7          DCB      229,133,133,231,148,181,231,148,181,229,142,139,0
0004a8  94b5e794
0004ac  b5e58e8b
0004b0  00      
0004b1  00                DCB      0
0004b2  00                DCB      0
0004b3  00                DCB      0
                  |L7.1204|
0004b4  32303000          DCB      "200",0
                  |L7.1208|
0004b8  32303030          DCB      "2000",0
0004bc  00      
0004bd  00                DCB      0
0004be  00                DCB      0
0004bf  00                DCB      0
                  |L7.1216|
0004c0  e8b49fe8          DCB      232,180,159,232,189,189,231,148,181,230,181,129,0
0004c4  bdbde794
0004c8  b5e6b581
0004cc  00      
0004cd  00                DCB      0
0004ce  00                DCB      0
0004cf  00                DCB      0
                  |L7.1232|
0004d0  f7fffffe          BL       TEXT_SetFont
0004d4  f7fffffe          BL       GUI_UC_SetEncodeUTF8
0004d8  49b5              LDR      r1,|L7.1968|
0004da  4630              MOV      r0,r6                 ;209
0004dc  f7fffffe          BL       TEXT_SetText
0004e0  f6401129          MOV      r1,#0x929             ;211
0004e4  6860              LDR      r0,[r4,#4]            ;211
0004e6  f7fffffe          BL       WM_GetDialogItem
0004ea  4606              MOV      r6,r0                 ;211
0004ec  4629              MOV      r1,r5                 ;212
0004ee  4630              MOV      r0,r6                 ;212
0004f0  f7fffffe          BL       TEXT_SetTextColor
0004f4  f8d80000          LDR      r0,[r8,#0]            ;213  ; DISS_Current
0004f8  f7fffffe          BL       __aeabi_f2d
0004fc  ec410b10          VMOV     d0,r0,r1              ;213
000500  ec532b10          VMOV     r2,r3,d0              ;213
000504  f2af0170          ADR      r1,|L7.1176|
000508  48a9              LDR      r0,|L7.1968|
00050a  f7fffffe          BL       __2sprintf
00050e  49a9              LDR      r1,|L7.1972|
000510  4630              MOV      r0,r6                 ;214
000512  f7fffffe          BL       TEXT_SetFont
000516  f7fffffe          BL       GUI_UC_SetEncodeUTF8
00051a  49a5              LDR      r1,|L7.1968|
00051c  4630              MOV      r0,r6                 ;216
00051e  f7fffffe          BL       TEXT_SetText
000522  f640112c          MOV      r1,#0x92c             ;217
000526  6860              LDR      r0,[r4,#4]            ;217
000528  f7fffffe          BL       WM_GetDialogItem
00052c  4606              MOV      r6,r0                 ;217
00052e  f06f4170          MVN      r1,#0xf0000000        ;218
000532  4630              MOV      r0,r6                 ;218
000534  f7fffffe          BL       TEXT_SetBkColor
000538  4629              MOV      r1,r5                 ;219
00053a  4630              MOV      r0,r6                 ;219
00053c  f7fffffe          BL       TEXT_SetTextColor
000540  e06b              B        |L7.1562|
                  |L7.1346|
000542  f6401127          MOV      r1,#0x927             ;221
000546  6860              LDR      r0,[r4,#4]            ;221
000548  f7fffffe          BL       WM_GetDialogItem
00054c  4606              MOV      r6,r0                 ;221
00054e  f7fffffe          BL       GUI_UC_SetEncodeUTF8
000552  a199              ADR      r1,|L7.1976|
000554  4630              MOV      r0,r6                 ;224
000556  f7fffffe          BL       TEXT_SetText
00055a  f6401128          MOV      r1,#0x928             ;226
00055e  6860              LDR      r0,[r4,#4]            ;226
000560  f7fffffe          BL       WM_GetDialogItem
000564  4606              MOV      r6,r0                 ;226
000566  4629              MOV      r1,r5                 ;227
000568  4630              MOV      r0,r6                 ;227
00056a  f7fffffe          BL       TEXT_SetTextColor
00056e  f8da0000          LDR      r0,[r10,#0]           ;228  ; DISS_POW_Voltage
000572  f7fffffe          BL       __aeabi_f2d
000576  ec410b10          VMOV     d0,r0,r1              ;228
00057a  ec532b10          VMOV     r2,r3,d0              ;228
00057e  f2af01e8          ADR      r1,|L7.1176|
000582  488b              LDR      r0,|L7.1968|
000584  f7fffffe          BL       __2sprintf
000588  498a              LDR      r1,|L7.1972|
00058a  4630              MOV      r0,r6                 ;229
00058c  f7fffffe          BL       TEXT_SetFont
000590  f7fffffe          BL       GUI_UC_SetEncodeUTF8
000594  4986              LDR      r1,|L7.1968|
000596  4630              MOV      r0,r6                 ;231
000598  f7fffffe          BL       TEXT_SetText
00059c  f6401129          MOV      r1,#0x929             ;233
0005a0  6860              LDR      r0,[r4,#4]            ;233
0005a2  f7fffffe          BL       WM_GetDialogItem
0005a6  4606              MOV      r6,r0                 ;233
0005a8  4629              MOV      r1,r5                 ;234
0005aa  4630              MOV      r0,r6                 ;234
0005ac  f7fffffe          BL       TEXT_SetTextColor
0005b0  f8db0000          LDR      r0,[r11,#0]           ;235  ; DISS_POW_Current
0005b4  f7fffffe          BL       __aeabi_f2d
0005b8  ec410b10          VMOV     d0,r0,r1              ;235
0005bc  ec532b10          VMOV     r2,r3,d0              ;235
0005c0  f2af112c          ADR      r1,|L7.1176|
0005c4  487a              LDR      r0,|L7.1968|
0005c6  f7fffffe          BL       __2sprintf
0005ca  497a              LDR      r1,|L7.1972|
0005cc  4630              MOV      r0,r6                 ;236
0005ce  f7fffffe          BL       TEXT_SetFont
0005d2  f7fffffe          BL       GUI_UC_SetEncodeUTF8
0005d6  4976              LDR      r1,|L7.1968|
0005d8  4630              MOV      r0,r6                 ;238
0005da  f7fffffe          BL       TEXT_SetText
0005de  f640112c          MOV      r1,#0x92c             ;240
0005e2  6860              LDR      r0,[r4,#4]            ;240
0005e4  f7fffffe          BL       WM_GetDialogItem
0005e8  4606              MOV      r6,r0                 ;240
0005ea  f06f4170          MVN      r1,#0xf0000000        ;241
0005ee  4630              MOV      r0,r6                 ;241
0005f0  f7fffffe          BL       TEXT_SetBkColor
0005f4  4629              MOV      r1,r5                 ;242
0005f6  4630              MOV      r0,r6                 ;242
0005f8  f7fffffe          BL       TEXT_SetTextColor
0005fc  e00d              B        |L7.1562|
                  |L7.1534|
0005fe  f640112c          MOV      r1,#0x92c             ;244
000602  6860              LDR      r0,[r4,#4]            ;244
000604  f7fffffe          BL       WM_GetDialogItem
000608  4606              MOV      r6,r0                 ;244
00060a  2100              MOVS     r1,#0                 ;245
00060c  4630              MOV      r0,r6                 ;245
00060e  f7fffffe          BL       TEXT_SetTextColor
000612  496d              LDR      r1,|L7.1992|
000614  4630              MOV      r0,r6                 ;246
000616  f7fffffe          BL       TEXT_SetBkColor
                  |L7.1562|
00061a  f640112a          MOV      r1,#0x92a             ;252
00061e  6860              LDR      r0,[r4,#4]            ;252
000620  f7fffffe          BL       WM_GetDialogItem
000624  4606              MOV      r6,r0                 ;252
000626  4629              MOV      r1,r5                 ;253
000628  4630              MOV      r0,r6                 ;253
00062a  f7fffffe          BL       TEXT_SetTextColor
00062e  6b7a              LDR      r2,[r7,#0x34]         ;254  ; Run_Control
000630  a166              ADR      r1,|L7.1996|
000632  485f              LDR      r0,|L7.1968|
000634  f7fffffe          BL       __2sprintf
000638  495e              LDR      r1,|L7.1972|
00063a  4630              MOV      r0,r6                 ;255
00063c  f7fffffe          BL       TEXT_SetFont
000640  f7fffffe          BL       GUI_UC_SetEncodeUTF8
000644  495a              LDR      r1,|L7.1968|
000646  4630              MOV      r0,r6                 ;257
000648  f7fffffe          BL       TEXT_SetText
00064c  68e0              LDR      r0,[r4,#0xc]          ;258
00064e  e8bd5ff0          POP      {r4-r12,lr}           ;258
000652  2132              MOVS     r1,#0x32              ;258
000654  f7ffbffe          B.W      WM_RestartTimer
                  |L7.1624|
000658  6865              LDR      r5,[r4,#4]            ;266
00065a  2100              MOVS     r1,#0                 ;267
00065c  4628              MOV      r0,r5                 ;267
00065e  f7fffffe          BL       WINDOW_SetBkColor
000662  2300              MOVS     r3,#0                 ;268
000664  2214              MOVS     r2,#0x14              ;268
000666  2109              MOVS     r1,#9                 ;268
000668  4628              MOV      r0,r5                 ;268
00066a  f7fffffe          BL       WM_CreateTimer
00066e  f6401127          MOV      r1,#0x927             ;270
000672  6860              LDR      r0,[r4,#4]            ;270
000674  f7fffffe          BL       WM_GetDialogItem
000678  4681              MOV      r9,r0                 ;270
00067a  f7fffffe          BL       GUI_UC_SetEncodeUTF8
00067e  a154              ADR      r1,|L7.2000|
000680  4648              MOV      r0,r9                 ;273
000682  f7fffffe          BL       TEXT_SetText
000686  4d50              LDR      r5,|L7.1992|
000688  4648              MOV      r0,r9                 ;274
00068a  4629              MOV      r1,r5                 ;274
00068c  f7fffffe          BL       TEXT_SetTextColor
000690  4951              LDR      r1,|L7.2008|
000692  4648              MOV      r0,r9                 ;275
000694  f7fffffe          BL       TEXT_SetFont
000698  f6401128          MOV      r1,#0x928             ;277
00069c  6860              LDR      r0,[r4,#4]            ;277
00069e  f7fffffe          BL       WM_GetDialogItem
0006a2  4681              MOV      r9,r0                 ;277
0006a4  f7fffffe          BL       GUI_UC_SetEncodeUTF8
0006a8  2200              MOVS     r2,#0                 ;279
0006aa  f2af2114          ADR      r1,|L7.1176|
0006ae  4840              LDR      r0,|L7.1968|
0006b0  f7fffffe          BL       __2sprintf
0006b4  493e              LDR      r1,|L7.1968|
0006b6  4648              MOV      r0,r9                 ;280
0006b8  f7fffffe          BL       TEXT_SetText
0006bc  4629              MOV      r1,r5                 ;281
0006be  4648              MOV      r0,r9                 ;281
0006c0  f7fffffe          BL       TEXT_SetTextColor
0006c4  493b              LDR      r1,|L7.1972|
0006c6  4648              MOV      r0,r9                 ;282
0006c8  f7fffffe          BL       TEXT_SetFont
0006cc  f6401129          MOV      r1,#0x929             ;284
0006d0  6860              LDR      r0,[r4,#4]            ;284
0006d2  f7fffffe          BL       WM_GetDialogItem
0006d6  4681              MOV      r9,r0                 ;284
0006d8  f7fffffe          BL       GUI_UC_SetEncodeUTF8
0006dc  2200              MOVS     r2,#0                 ;286
0006de  f2af2148          ADR      r1,|L7.1176|
0006e2  4833              LDR      r0,|L7.1968|
0006e4  f7fffffe          BL       __2sprintf
0006e8  4931              LDR      r1,|L7.1968|
0006ea  4648              MOV      r0,r9                 ;287
0006ec  f7fffffe          BL       TEXT_SetText
0006f0  4629              MOV      r1,r5                 ;288
0006f2  4648              MOV      r0,r9                 ;288
0006f4  f7fffffe          BL       TEXT_SetTextColor
0006f8  492e              LDR      r1,|L7.1972|
0006fa  4648              MOV      r0,r9                 ;289
0006fc  f7fffffe          BL       TEXT_SetFont
000700  f640112a          MOV      r1,#0x92a             ;291
000704  6860              LDR      r0,[r4,#4]            ;291
000706  f7fffffe          BL       WM_GetDialogItem
00070a  4681              MOV      r9,r0                 ;291
00070c  f7fffffe          BL       GUI_UC_SetEncodeUTF8
000710  6b7a              LDR      r2,[r7,#0x34]         ;293  ; Run_Control
000712  a132              ADR      r1,|L7.2012|
000714  4826              LDR      r0,|L7.1968|
000716  f7fffffe          BL       __2sprintf
00071a  4925              LDR      r1,|L7.1968|
00071c  4648              MOV      r0,r9                 ;294
00071e  f7fffffe          BL       TEXT_SetText
000722  4629              MOV      r1,r5                 ;295
000724  4648              MOV      r0,r9                 ;295
000726  f7fffffe          BL       TEXT_SetTextColor
00072a  4922              LDR      r1,|L7.1972|
00072c  4648              MOV      r0,r9                 ;296
00072e  f7fffffe          BL       TEXT_SetFont
000732  f640112b          MOV      r1,#0x92b             ;298
000736  6860              LDR      r0,[r4,#4]            ;298
000738  f7fffffe          BL       WM_GetDialogItem
00073c  4607              MOV      r7,r0                 ;298
00073e  f7fffffe          BL       GUI_UC_SetEncodeUTF8
000742  7830              LDRB     r0,[r6,#0]            ;300  ; r_raly
000744  b118              CBZ      r0,|L7.1870|
000746  7830              LDRB     r0,[r6,#0]            ;303  ; r_raly
000748  2801              CMP      r0,#1                 ;303
00074a  d006              BEQ      |L7.1882|
00074c  e00a              B        |L7.1892|
                  |L7.1870|
00074e  f2af219c          ADR      r1,|L7.1204|
000752  4638              MOV      r0,r7                 ;302
000754  f7fffffe          BL       TEXT_SetText
000758  e004              B        |L7.1892|
                  |L7.1882|
00075a  f2af21a4          ADR      r1,|L7.1208|
00075e  4638              MOV      r0,r7                 ;304
000760  f7fffffe          BL       TEXT_SetText
                  |L7.1892|
000764  4629              MOV      r1,r5                 ;306
000766  4638              MOV      r0,r7                 ;306
000768  f7fffffe          BL       TEXT_SetTextColor
00076c  4911              LDR      r1,|L7.1972|
00076e  4638              MOV      r0,r7                 ;307
000770  f7fffffe          BL       TEXT_SetFont
000774  f640112c          MOV      r1,#0x92c             ;309
000778  6860              LDR      r0,[r4,#4]            ;309
00077a  f7fffffe          BL       WM_GetDialogItem
00077e  4604              MOV      r4,r0                 ;309
000780  f7fffffe          BL       GUI_UC_SetEncodeUTF8
000784  a115              ADR      r1,|L7.2012|
000786  480a              LDR      r0,|L7.1968|
000788  f8d82008          LDR      r2,[r8,#8]            ;311  ; inputvalue
00078c  f7fffffe          BL       __2sprintf
000790  4907              LDR      r1,|L7.1968|
000792  4620              MOV      r0,r4                 ;312
000794  f7fffffe          BL       TEXT_SetText
000798  4629              MOV      r1,r5                 ;313
00079a  4620              MOV      r0,r4                 ;313
00079c  f7fffffe          BL       TEXT_SetTextColor
0007a0  4620              MOV      r0,r4                 ;314
0007a2  e8bd5ff0          POP      {r4-r12,lr}           ;314
0007a6  4903              LDR      r1,|L7.1972|
0007a8  f7ffbffe          B.W      TEXT_SetFont
                  |L7.1964|
;;;327            break;
;;;328      }
;;;329    }
0007ac  e8bd9ff0          POP      {r4-r12,pc}
;;;330    
                          ENDP

                  |L7.1968|
                          DCD      ||.data||+0xc
                  |L7.1972|
                          DCD      GUI_Font24_1
                  |L7.1976|
0007b8  e58585e7          DCB      229,133,133,231,148,181,231,148,181,230,181,129,0
0007bc  94b5e794
0007c0  b5e6b581
0007c4  00      
0007c5  00                DCB      0
0007c6  00                DCB      0
0007c7  00                DCB      0
                  |L7.1992|
                          DCD      0x00bfffff
                  |L7.1996|
0007cc  25346400          DCB      "%4d",0
                  |L7.2000|
0007d0  e8b49fe8          DCB      232,180,159,232,189,189,0
0007d4  bdbd00  
0007d7  00                DCB      0
                  |L7.2008|
                          DCD      GUI_Fontset_font
                  |L7.2012|
0007dc  256400            DCB      "%d",0
0007df  00                DCB      0

                          AREA ||i.confirmcal||, CODE, READONLY, ALIGN=2

                  confirmcal PROC
;;;397    
;;;398    void confirmcal(void)
000000  4803              LDR      r0,|L8.16|
;;;399    {
;;;400        calmode = oldcal;
000002  7800              LDRB     r0,[r0,#0]  ; oldcal
000004  4903              LDR      r1,|L8.20|
000006  7008              STRB     r0,[r1,#0]
;;;401        bit = 1;  
000008  4903              LDR      r1,|L8.24|
00000a  2001              MOVS     r0,#1
00000c  7008              STRB     r0,[r1,#0]
;;;402    }
00000e  4770              BX       lr
;;;403    
                          ENDP

                  |L8.16|
                          DCD      oldcal
                  |L8.20|
                          DCD      ||.data||
                  |L8.24|
                          DCD      bit

                          AREA ||i.inputcal||, CODE, READONLY, ALIGN=2

                  inputcal PROC
;;;338    
;;;339    void inputcal(char* num)
000000  e92d41f0          PUSH     {r4-r8,lr}
;;;340    {
000004  4607              MOV      r7,r0
;;;341        
;;;342        WM_HWIN hItem;
;;;343    //            WM_InvalidateWindow(hWinset);
;;;344        hItem = WM_GetDialogItem(hWincal, ID_TEXT_142);
000006  4c45              LDR      r4,|L9.284|
000008  f640112c          MOV      r1,#0x92c
00000c  6860              LDR      r0,[r4,#4]  ; hWincal
00000e  f7fffffe          BL       WM_GetDialogItem
000012  4606              MOV      r6,r0
;;;345        
;;;346        switch(bit){
000014  4d42              LDR      r5,|L9.288|
000016  7828              LDRB     r0,[r5,#0]  ; bit
000018  2807              CMP      r0,#7
00001a  d213              BCS      |L9.68|
00001c  e8dff000          TBB      [pc,r0]
000020  12041429          DCB      0x12,0x04,0x14,0x29
000024  3e536800          DCB      0x3e,0x53,0x68,0x00
;;;347            case 1:
;;;348            {
;;;349                inputvalue = atoi(num);
000028  4638              MOV      r0,r7
00002a  f7fffffe          BL       atoi
00002e  60a0              STR      r0,[r4,#8]  ; inputvalue
;;;350                strcat(inputv,num);            
000030  4639              MOV      r1,r7
000032  483c              LDR      r0,|L9.292|
000034  f7fffffe          BL       strcat
;;;351                TEXT_SetText(hItem,inputv);
000038  493a              LDR      r1,|L9.292|
00003a  4630              MOV      r0,r6
00003c  f7fffffe          BL       TEXT_SetText
;;;352                bit = 2;
000040  2002              MOVS     r0,#2
000042  7028              STRB     r0,[r5,#0]
                  |L9.68|
;;;353                break; 
;;;354            }
;;;355            case 2:
;;;356            {
;;;357                inputvalue = inputvalue * 10 + atoi(num);
;;;358                strcat(inputv,num);            
;;;359                TEXT_SetText(hItem,inputv);
;;;360                bit = 3;
;;;361                break; 
;;;362            }
;;;363            case 3:
;;;364            {
;;;365                inputvalue = inputvalue * 10 + atoi(num);
;;;366                strcat(inputv,num);            
;;;367                TEXT_SetText(hItem,inputv);
;;;368                bit = 4;
;;;369                break; 
;;;370            }
;;;371            case 4:
;;;372            {
;;;373                inputvalue = inputvalue * 10 + atoi(num);
;;;374                strcat(inputv,num);            
;;;375                TEXT_SetText(hItem,inputv);
;;;376                bit = 5;
;;;377                break; 
;;;378            }
;;;379            case 5:
;;;380            {
;;;381                inputvalue = inputvalue * 10 + atoi(num);
;;;382                strcat(inputv,num);            
;;;383                TEXT_SetText(hItem,inputv);
;;;384                bit = 6;
;;;385                break; 
;;;386            }
;;;387            case 6:
;;;388            {
;;;389                inputvalue = inputvalue * 10 + atoi(num);
;;;390                strcat(inputv,num);            
;;;391                TEXT_SetText(hItem,inputv);
;;;392                bit = 1;
;;;393                break; 
;;;394            }
;;;395        }
;;;396    }
000044  e8bd81f0          POP      {r4-r8,pc}
000048  4638              MOV      r0,r7                 ;357
00004a  f7fffffe          BL       atoi
00004e  4601              MOV      r1,r0                 ;357
000050  68a0              LDR      r0,[r4,#8]            ;357  ; inputvalue
000052  eb000080          ADD      r0,r0,r0,LSL #2       ;357
000056  eb010040          ADD      r0,r1,r0,LSL #1       ;357
00005a  60a0              STR      r0,[r4,#8]            ;357  ; inputvalue
00005c  4639              MOV      r1,r7                 ;358
00005e  4831              LDR      r0,|L9.292|
000060  f7fffffe          BL       strcat
000064  492f              LDR      r1,|L9.292|
000066  4630              MOV      r0,r6                 ;359
000068  f7fffffe          BL       TEXT_SetText
00006c  2003              MOVS     r0,#3                 ;360
00006e  7028              STRB     r0,[r5,#0]            ;360
000070  e7e8              B        |L9.68|
000072  4638              MOV      r0,r7                 ;365
000074  f7fffffe          BL       atoi
000078  4601              MOV      r1,r0                 ;365
00007a  68a0              LDR      r0,[r4,#8]            ;365  ; inputvalue
00007c  eb000080          ADD      r0,r0,r0,LSL #2       ;365
000080  eb010040          ADD      r0,r1,r0,LSL #1       ;365
000084  60a0              STR      r0,[r4,#8]            ;365  ; inputvalue
000086  4639              MOV      r1,r7                 ;366
000088  4826              LDR      r0,|L9.292|
00008a  f7fffffe          BL       strcat
00008e  4925              LDR      r1,|L9.292|
000090  4630              MOV      r0,r6                 ;367
000092  f7fffffe          BL       TEXT_SetText
000096  2004              MOVS     r0,#4                 ;368
000098  7028              STRB     r0,[r5,#0]            ;368
00009a  e7d3              B        |L9.68|
00009c  4638              MOV      r0,r7                 ;373
00009e  f7fffffe          BL       atoi
0000a2  4601              MOV      r1,r0                 ;373
0000a4  68a0              LDR      r0,[r4,#8]            ;373  ; inputvalue
0000a6  eb000080          ADD      r0,r0,r0,LSL #2       ;373
0000aa  eb010040          ADD      r0,r1,r0,LSL #1       ;373
0000ae  60a0              STR      r0,[r4,#8]            ;373  ; inputvalue
0000b0  4639              MOV      r1,r7                 ;374
0000b2  481c              LDR      r0,|L9.292|
0000b4  f7fffffe          BL       strcat
0000b8  491a              LDR      r1,|L9.292|
0000ba  4630              MOV      r0,r6                 ;375
0000bc  f7fffffe          BL       TEXT_SetText
0000c0  2005              MOVS     r0,#5                 ;376
0000c2  7028              STRB     r0,[r5,#0]            ;376
0000c4  e7be              B        |L9.68|
0000c6  4638              MOV      r0,r7                 ;381
0000c8  f7fffffe          BL       atoi
0000cc  4601              MOV      r1,r0                 ;381
0000ce  68a0              LDR      r0,[r4,#8]            ;381  ; inputvalue
0000d0  eb000080          ADD      r0,r0,r0,LSL #2       ;381
0000d4  eb010040          ADD      r0,r1,r0,LSL #1       ;381
0000d8  60a0              STR      r0,[r4,#8]            ;381  ; inputvalue
0000da  4639              MOV      r1,r7                 ;382
0000dc  4811              LDR      r0,|L9.292|
0000de  f7fffffe          BL       strcat
0000e2  4910              LDR      r1,|L9.292|
0000e4  4630              MOV      r0,r6                 ;383
0000e6  f7fffffe          BL       TEXT_SetText
0000ea  2006              MOVS     r0,#6                 ;384
0000ec  7028              STRB     r0,[r5,#0]            ;384
0000ee  e7a9              B        |L9.68|
0000f0  4638              MOV      r0,r7                 ;389
0000f2  f7fffffe          BL       atoi
0000f6  4601              MOV      r1,r0                 ;389
0000f8  68a0              LDR      r0,[r4,#8]            ;389  ; inputvalue
0000fa  eb000080          ADD      r0,r0,r0,LSL #2       ;389
0000fe  eb010040          ADD      r0,r1,r0,LSL #1       ;389
000102  60a0              STR      r0,[r4,#8]            ;389  ; inputvalue
000104  4639              MOV      r1,r7                 ;390
000106  4807              LDR      r0,|L9.292|
000108  f7fffffe          BL       strcat
00010c  4905              LDR      r1,|L9.292|
00010e  4630              MOV      r0,r6                 ;391
000110  f7fffffe          BL       TEXT_SetText
000114  2001              MOVS     r0,#1                 ;392
000116  7028              STRB     r0,[r5,#0]            ;392
000118  e794              B        |L9.68|
;;;397    
                          ENDP

00011a  0000              DCW      0x0000
                  |L9.284|
                          DCD      ||.data||
                  |L9.288|
                          DCD      bit
                  |L9.292|
                          DCD      ||.bss||

                          AREA ||.bss||, DATA, NOINIT, ALIGN=0

                  inputv
                          %        10

                          AREA ||.constdata||, DATA, READONLY, ALIGN=2

                  _aDialogCreate8
                          DCD      WINDOW_CreateIndirect
                          DCD      ||.conststring||
000008  09260000          DCW      0x0926,0x0000
00000c  000001e0          DCW      0x0000,0x01e0
000010  01100000          DCW      0x0110,0x0000
                          DCD      0x00000000
                          DCD      0x00000000
                          DCD      TEXT_CreateIndirect
                          DCD      ||.conststring||+0x4
000024  0927008c          DCW      0x0927,0x008c
000028  00320050          DCW      0x0032,0x0050
00002c  00140000          DCW      0x0014,0x0000
                          DCD      0x00000000
                          DCD      0x00000000
                          DCD      TEXT_CreateIndirect
                          DCD      ||.conststring||+0x4
000040  0928008c          DCW      0x0928,0x008c
000044  004b0050          DCW      0x004b,0x0050
000048  00140000          DCW      0x0014,0x0000
                          DCD      0x00000000
                          DCD      0x00000000
                          DCD      TEXT_CreateIndirect
                          DCD      ||.conststring||+0x4
00005c  0929008c          DCW      0x0929,0x008c
000060  00640050          DCW      0x0064,0x0050
000064  00140000          DCW      0x0014,0x0000
                          DCD      0x00000000
                          DCD      0x00000000
                          DCD      TEXT_CreateIndirect
                          DCD      ||.conststring||+0x4
000078  092a008c          DCW      0x092a,0x008c
00007c  007d0050          DCW      0x007d,0x0050
000080  00140000          DCW      0x0014,0x0000
                          DCD      0x00000000
                          DCD      0x00000000
                          DCD      TEXT_CreateIndirect
                          DCD      ||.conststring||+0x4
000094  092b008c          DCW      0x092b,0x008c
000098  00960050          DCW      0x0096,0x0050
00009c  00140000          DCW      0x0014,0x0000
                          DCD      0x00000000
                          DCD      0x00000000
                          DCD      TEXT_CreateIndirect
                          DCD      ||.conststring||+0x4
0000b0  092c008c          DCW      0x092c,0x008c
0000b4  00af0078          DCW      0x00af,0x0078
0000b8  00140000          DCW      0x0014,0x0000
                          DCD      0x00000000
                          DCD      0x00000000

                          AREA ||.conststring||, DATA, READONLY, MERGE=1, STRINGS, ALIGN=2

000000  43414c00          DCB      "CAL",0
000004  54657874          DCB      "Text",0
000008  00      

                          AREA ||.data||, DATA, ALIGN=2

                  calmode
000000  02000000          DCB      0x02,0x00,0x00,0x00
                  hWincal
                          DCD      0x00000000
                  inputvalue
                          DCD      0x00000000
                  buf
                          DCD      0x00000000
000010  00                DCB      0x00

;*** Start embedded assembler ***

#line 1 "..\\APP\\cal.c"
	AREA ||.rev16_text||, CODE
	THUMB
	EXPORT |__asm___5_cal_c_calmode____REV16|
#line 129 "C:\\Keil_v5\\ARM\\CMSIS\\Include\\core_cmInstr.h"
|__asm___5_cal_c_calmode____REV16| PROC
#line 130

 rev16 r0, r0
 bx lr
	ENDP
	AREA ||.revsh_text||, CODE
	THUMB
	EXPORT |__asm___5_cal_c_calmode____REVSH|
#line 144
|__asm___5_cal_c_calmode____REVSH| PROC
#line 145

 revsh r0, r0
 bx lr
	ENDP

;*** End   embedded assembler ***
