; generated by Component: ARM Compiler 5.06 update 6 (build 750) Tool: ArmCC [4d3637]
; commandline ArmCC [--list --split_sections --debug -c --asm --interleave -o..\output\tim6.o --asm_dir=..\Listing\ --list_dir=..\Listing\ --depend=..\output\tim6.d --cpu=Cortex-M4.fp --apcs=interwork -O1 --diag_suppress=9931,870 -I..\APP -I..\drive -I..\Include -I..\Libraries\CMSIS\inc -I..\Libraries\CMSIS\src -I..\Libraries\FWlib\inc -I..\Libraries\FWlib\src -I..\Listing -I..\Output -I..\Project -I..\STemWinLibrary522\Config -I..\STemWinLibrary522\emWinTask -I..\STemWinLibrary522\GUILib -I..\STemWinLibrary522\inc -I..\User -I..\USB\STM32_USB_HOST_Library\Class\HID\inc -I..\USB\STM32_USB_HOST_Library\Class\MSC\src -I..\USB\STM32_USB_HOST_Library\Core\src -I..\USB\USB_APP -I..\USB\STM32_USB_HOST_Library\Class\HID\src -I..\USB\STM32_USB_HOST_Library\Class\MSC\inc -I..\USB\STM32_USB_HOST_Library\Core\inc -I..\USB\STM32_USB_OTG_Driver\inc -I..\FATFS\exfuns -I..\FATFS\src\option -I..\FATFS\src -I..\MALLOC -I..\FATFS -I..\IAP -ID:\Keil_v5\ARM\RV31\INC -ID:\Keil_v5\ARM\CMSIS\Include -ID:\Keil_v5\ARM\INC\ST\STM32F4xx -D__UVISION_VERSION=525 -DUSE_STDPERIPH_DRIVER -DSTM32F40XX -DUSE_USB_OTG_FS -DUSE_EMBEDDED_PHY -DUSE_USB_OTG_HS -DSTM32F40XX --omf_browse=..\output\tim6.crf --no_multibyte_chars ..\drive\TIM6.c]
                          THUMB

                          AREA ||i.MODS_Poll||, CODE, READONLY, ALIGN=2

                  MODS_Poll PROC
;;;628    
;;;629    void MODS_Poll(void)
000000  b510              PUSH     {r4,lr}
;;;630    {
;;;631    	uint16_t addr;
;;;632    	static uint16_t crc1;
;;;633        static u32 testi;
;;;634    	/* è¶…è¿‡3.5ä¸ªå­—ç¬¦æ—¶é—´åŽæ‰§è¡ŒMODH_RxTimeOut()å‡½æ•°ã€‚å…¨å±€å˜é‡ g_rtu_timeout = 1; é€šçŸ¥ä¸»ç¨‹åºå¼€å§‹è§£ç ?*/
;;;635    //	if (g_mods_timeout == 0)	
;;;636    //	{
;;;637    //		return;								/* æ²¡æœ‰è¶…æ—¶ï¼Œç»§ç»­æŽ¥æ”¶ã€‚ä¸è¦æ¸…é›?g_tModS.RxCount */
;;;638    //	}
;;;639    
;;;640        testi=g_tModS.RxCount;
000002  4c13              LDR      r4,|L1.80|
000004  4a13              LDR      r2,|L1.84|
000006  f894009e          LDRB     r0,[r4,#0x9e]  ; g_tModS
00000a  6250              STR      r0,[r2,#0x24]  ; testi
;;;641        testi=g_tModS.RxCount;
;;;642        testi=g_tModS.RxCount;
;;;643    	if(testi>7)				/* ½ÓÊÕµ½µÄÊý¾ÝÐ¡ÓÚ4¸ö×Ö½Ú¾ÍÈÏÎª´íÎó */
;;;644    	{
;;;645    		testi=testi;
;;;646    	}
;;;647    	testi=g_tModS.RxCount;
;;;648        if(testi==8)				/* ½ÓÊÕµ½µÄÊý¾ÝÐ¡ÓÚ4¸ö×Ö½Ú¾ÍÈÏÎª´íÎó */
00000c  2808              CMP      r0,#8
00000e  d101              BNE      |L1.20|
;;;649    	{
;;;650    		testi=testi+1;
000010  2109              MOVS     r1,#9
000012  6251              STR      r1,[r2,#0x24]  ; testi
                  |L1.20|
;;;651    	}
;;;652    	//ÅÐ¶ÏÍ¨Ñ¶½ÓÊÕÊÇ·ñ³¬Ê±
;;;653    	if(OldTick!=Tick_10ms)
000014  6b53              LDR      r3,[r2,#0x34]  ; OldTick
000016  6911              LDR      r1,[r2,#0x10]  ; Tick_10ms
000018  428b              CMP      r3,r1
00001a  d014              BEQ      |L1.70|
;;;654      	{  
;;;655    	  OldTick=Tick_10ms;
00001c  6351              STR      r1,[r2,#0x34]  ; OldTick
;;;656    	   if(g_mods_timeout>0)
00001e  4a0e              LDR      r2,|L1.88|
000020  7811              LDRB     r1,[r2,#0]  ; g_mods_timeout
000022  b109              CBZ      r1,|L1.40|
;;;657          { 
;;;658    	    g_mods_timeout--;
000024  1e49              SUBS     r1,r1,#1
000026  7011              STRB     r1,[r2,#0]
                  |L1.40|
;;;659          }
;;;660    	  if(g_mods_timeout==0 && g_tModS.RxCount>0)   //ÓÐÊýµ«³¬Ê±ÁË
000028  7811              LDRB     r1,[r2,#0]  ; g_mods_timeout
00002a  2900              CMP      r1,#0
00002c  d10b              BNE      |L1.70|
00002e  2800              CMP      r0,#0
000030  d009              BEQ      |L1.70|
;;;661          { 
;;;662    		// goto err_ret;
;;;663    	
;;;664          }
;;;665          else if(g_mods_timeout==0 && g_tModS.RxCount==0) //Ã»Êý³¬Ê±ÁË
;;;666             return;
;;;667          else //Ã»³¬Ê±ÁË£¬¼ÌÐøÊÕ
;;;668             return;
;;;669    	}
;;;670    	else   //Ã»ÓÐµ½10ms£¬²»½øÈë½âÎö
;;;671    		return;
;;;672    	//g_mods_timeout = 0;	 					/* Çå±êÖ¾ */
;;;673    
;;;674    	if (g_tModS.RxCount < 4)				/* ½ÓÊÕµ½µÄÊý¾ÝÐ¡ÓÚ4¸ö×Ö½Ú¾ÍÈÏÎª´íÎó */
000032  2804              CMP      r0,#4
000034  d304              BCC      |L1.64|
;;;675    	{
;;;676    		goto err_ret;
;;;677    	}
;;;678    
;;;679    	/* ¼ÆËãCRCÐ£ÑéºÍ */
;;;680    // 	crc1 = CRC16(g_tModS.RxBuf, g_tModS.RxCount);
;;;681    // 	if (crc1 != 0)
;;;682    // 	{
;;;683    // 		goto err_ret;
;;;684    // 	}
;;;685    
;;;686    // 	/* Õ¾µØÖ· (1×Ö½Ú£© */
;;;687    // 	addr = g_tModS.RxBuf[0];				/* µÚ1×Ö½Ú Õ¾ºÅ */
;;;688    // 	if (addr != SADDR485)		 			/* ÅÐ¶ÏÖ÷»ú·¢ËÍµÄÃüÁîµØÖ·ÊÇ·ñ·ûºÏ */
;;;689    // 	{
;;;690    // 		goto err_ret;
;;;691    // 	}
;;;692    
;;;693    	/* åˆ†æžåº”ç”¨å±‚åè®?*/
;;;694        if(g_tModS.RxBuf[2] == 0xA5)
000036  78a0              LDRB     r0,[r4,#2]  ; g_tModS
000038  28a5              CMP      r0,#0xa5
00003a  d005              BEQ      |L1.72|
;;;695        {
;;;696            UART_Action();
;;;697        }else{
;;;698    //        usartocflag = 1;
;;;699            RecHandle();
00003c  f7fffffe          BL       RecHandle
                  |L1.64|
;;;700        }
;;;701    							
;;;702    	
;;;703    err_ret:
;;;704    #if 0										/* æ­¤éƒ¨åˆ†ä¸ºäº†ä¸²å£æ‰“å°ç»“æž?å®žé™…è¿ç”¨ä¸­å¯ä¸è¦ */
;;;705    	g_tPrint.Rxlen = g_tModS.RxCount;
;;;706    	memcpy(g_tPrint.RxBuf, g_tModS.RxBuf, g_tModS.RxCount);
;;;707    #endif
;;;708    	
;;;709     	g_tModS.RxCount = 0;					/* å¿…é¡»æ¸…é›¶è®¡æ•°å™¨ï¼Œæ–¹ä¾¿ä¸‹æ¬¡å¸§åŒæ­?*/
000040  2000              MOVS     r0,#0
000042  f884009e          STRB     r0,[r4,#0x9e]
                  |L1.70|
;;;710    }
000046  bd10              POP      {r4,pc}
                  |L1.72|
000048  f7fffffe          BL       UART_Action
00004c  e7f8              B        |L1.64|
;;;711    
                          ENDP

00004e  0000              DCW      0x0000
                  |L1.80|
                          DCD      g_tModS
                  |L1.84|
                          DCD      ||.data||
                  |L1.88|
                          DCD      g_mods_timeout

                          AREA ||i.TIM3_IRQHandler||, CODE, READONLY, ALIGN=2

                  TIM3_IRQHandler PROC
;;;445    //??? 3 ??????
;;;446    void TIM3_IRQHandler(void)
000000  e92d47f0          PUSH     {r4-r10,lr}
;;;447    {
000004  ed2d8b02          VPUSH    {d8}
;;;448        static vu8 calert = 0;
;;;449        static vu16 resetcount;
;;;450        static vu8 read1963;
;;;451        static vu16 scancount;
;;;452        static vu32 ctime,dctime;
;;;453        
;;;454        if(TIM_GetITStatus(TIM3,TIM_IT_Update)==SET) //????
000008  2101              MOVS     r1,#1
00000a  4c92              LDR      r4,|L2.596|
00000c  4620              MOV      r0,r4
00000e  f7fffffe          BL       TIM_GetITStatus
000012  2801              CMP      r0,#1
000014  d123              BNE      |L2.94|
;;;455        {
;;;456            TIM_ClearITPendingBit(TIM3,TIM_IT_Update); //??????¦Ë
000016  2101              MOVS     r1,#1
000018  4620              MOV      r0,r4
00001a  f7fffffe          BL       TIM_ClearITPendingBit
;;;457    //         if(page_sw != face_starter)
;;;458    //         {
;;;459    //              if(resetflag == 1)
;;;460    //              {
;;;461    //                  if(resetcount == 1)
;;;462    //                  {
;;;463    //                      LCD_Initializtion();
;;;464    //                      sLCD_WR_REG(0xf1);
;;;465    //                      GUI_Init();
;;;466    //                      if(page_sw == face_menu)
;;;467    //                      {
;;;468    //                          ResetPow();
;;;469    //                      }else if(page_sw == face_cdc){
;;;470    //                          ResetCDC();
;;;471    //                      }else if(page_sw == face_r){
;;;472    //                          ResetR();
;;;473    //                      }else if(page_sw == face_load){
;;;474    //                          ResetLoad();
;;;475    //                      }else if(page_sw == face_graph){
;;;476    //                          ResetG();
;;;477    //                      }else if(page_sw == face_set){
;;;478    //                          ResetSET();
;;;479    //                      }
;;;480    //                      resdone = 1;
;;;481    // //                     resetflag = 0;
;;;482    //                      resetcount = 0;
;;;483    //                  }else{
;;;484    //                      resetcount++;
;;;485    //                  }                
;;;486    //              }
;;;487    //          }
;;;488            switch(page_sw)
00001e  488e              LDR      r0,|L2.600|
000020  f890c000          LDRB     r12,[r0,#0]  ; page_sw
000024  2600              MOVS     r6,#0
;;;489            {
;;;490                case face_menu:
;;;491                {
;;;492                    if(pow_sw == pow_on)
000026  4a8d              LDR      r2,|L2.604|
;;;493                    {
;;;494                        bc_raw += DISS_POW_Current * 1000 * 1/3600;
000028  4b8d              LDR      r3,|L2.608|
;;;495                    }else{
;;;496                        bc_raw = 0;
;;;497                    }
;;;498                }break;
;;;499                case face_cdc:
;;;500                {
;;;501                    if(mode_sw == mode_pow && cdc_sw == cdc_on)
;;;502                    {
;;;503                        ctime++;
;;;504                        second = ctime%60;//ç§’
;;;505                        minute = (ctime/60)%60;//åˆ†
;;;506                        hour   = ctime/3600;//æ—¶
;;;507                        cbc_raw += DISS_POW_Current * 1000 * 1/3600;
;;;508                        bc_raw = 0;
;;;509    //                    bc_raw += DISS_POW_Current * 1000 * 1/3600;
;;;510                    }else if(mode_sw == mode_load && cdc_sw == cdc_on){
;;;511                        dctime++;
;;;512                        second1 = dctime%60;//ç§’
;;;513                        minute1 = (dctime/60)%60;//åˆ†
;;;514                        hour1   = dctime/3600;//æ—¶
;;;515                        bc_raw += DISS_Current * 1000 * 1/3600;
00002a  4d8e              LDR      r5,|L2.612|
;;;516    //                    c_sum += DISS_Current * 1000 * 1/3600;
;;;517                        cbc_raw = 0;
;;;518                    }else if(cdc_sw == cdc_off){
;;;519                        bc_raw = 0;
;;;520                        cbc_raw = 0;
;;;521                        c_sum = 0;
;;;522                        ctime=0;
;;;523                        dctime=0;
;;;524                    }
;;;525                }break;
;;;526                case face_load:
;;;527                {
;;;528                    if(load_sw == load_on)
;;;529                    {
;;;530                        if(alert_flag == 1)
00002c  488e              LDR      r0,|L2.616|
00002e  498f              LDR      r1,|L2.620|
000030  f8df823c          LDR      r8,|L2.624|
000034  4f8f              LDR      r7,|L2.628|
000036  ed9f8a90          VLDR     s16,|L2.632|
00003a  eddf8a90          VLDR     s17,|L2.636|
00003e  ed9f0a90          VLDR     s0,|L2.640|
000042  4c90              LDR      r4,|L2.644|
000044  f1bc0f05          CMP      r12,#5                ;488
000048  d209              BCS      |L2.94|
00004a  e8dff00c          TBB      [pc,r12]              ;488
00004e  af19              DCB      0xaf,0x19
000050  03f08700          DCB      0x03,0xf0,0x87,0x00
000054  7810              LDRB     r0,[r2,#0]            ;492  ; pow_sw
000056  2801              CMP      r0,#1                 ;492
000058  d005              BEQ      |L2.102|
00005a  ed840a0a          VSTR     s0,[r4,#0x28]         ;496
                  |L2.94|
;;;531                        {
;;;532                            calert ++;
;;;533                            if(calert == 3)
;;;534                            {
;;;535                                t_onoff = 0;
;;;536                                GPIO_SetBits(GPIOA,GPIO_Pin_15);//????OFF
;;;537                                mode_sw = 0;
;;;538                                load_sw = load_off;
;;;539                                calert = 0;                                
;;;540                            }
;;;541                        }
;;;542                        bc_raw += DISS_Current * 1000 * 1/3600;
;;;543                    }else{
;;;544                        bc_raw = 0;
;;;545                    }
;;;546                }break;
;;;547                case face_graph:
;;;548                {
;;;549                    if(mode_sw == mode_pow)
;;;550                    {
;;;551                        if(pow_sw == pow_on)
;;;552                        {
;;;553                            bc_raw += DISS_POW_Current * 1000 * 1/3600;
;;;554                        }else if(mode_sw == mode_pow && cdc_sw == cdc_on)
;;;555                        {
;;;556                            bc_raw += DISS_POW_Current * 1000 * 1/3600;
;;;557                        }
;;;558                        else{
;;;559                            bc_raw = 0;
;;;560                        }
;;;561                    }               
;;;562                    
;;;563                    if(mode_sw == mode_load)
;;;564                    {
;;;565                        if(load_sw == load_on)
;;;566                        {
;;;567                            bc_raw += DISS_Current * 1000 * 1/3600;
;;;568                        }else{
;;;569                            bc_raw = 0;
;;;570                        }
;;;571                    }
;;;572                }break;
;;;573                case face_r:
;;;574                {
;;;575                    if(oct_sw == oct_on)
;;;576                    {
;;;577                        if(alert_flag == 1)
;;;578                        {
;;;579                            calert ++;
;;;580                            if(calert == 3)
;;;581                            {
;;;582                                ocstop = 1;
;;;583                                calert = 0;
;;;584                            }
;;;585                        }
;;;586                    }
;;;587                }break;
;;;588            }
;;;589    //         GPIO_ResetBits(GPIOD,GPIO_Pin_12);
;;;590    //         TM1650_SET_LED(0x48,0x71);
;;;591    //         TM1650_SET_LED(0x68,0xF2);//PASS?
;;;592        }    
;;;593        
;;;594    }
00005e  ecbd8b02          VPOP     {d8}
000062  e8bd87f0          POP      {r4-r10,pc}
                  |L2.102|
000066  ed930a00          VLDR     s0,[r3,#0]            ;494
00006a  ee200a08          VMUL.F32 s0,s0,s16             ;494
00006e  eec00a28          VDIV.F32 s1,s0,s17             ;494
000072  ed940a0a          VLDR     s0,[r4,#0x28]         ;494
000076  ee300a80          VADD.F32 s0,s1,s0              ;494
00007a  ed840a0a          VSTR     s0,[r4,#0x28]         ;494
00007e  e7ee              B        |L2.94|
000080  f897c000          LDRB     r12,[r7,#0]           ;501  ; mode_sw
000084  203c              MOVS     r0,#0x3c              ;504
000086  f44f6261          MOV      r2,#0xe10             ;506
00008a  f1bc0f03          CMP      r12,#3                ;501
00008e  d104              BNE      |L2.154|
000090  f891c000          LDRB     r12,[r1,#0]           ;501  ; cdc_sw
000094  f1bc0f01          CMP      r12,#1                ;501
000098  d003              BEQ      |L2.162|
                  |L2.154|
00009a  783b              LDRB     r3,[r7,#0]            ;510  ; mode_sw
00009c  2b02              CMP      r3,#2                 ;510
00009e  d027              BEQ      |L2.240|
0000a0  e029              B        |L2.246|
                  |L2.162|
0000a2  69e1              LDR      r1,[r4,#0x1c]         ;503  ; ctime
0000a4  1c49              ADDS     r1,r1,#1              ;503
0000a6  61e1              STR      r1,[r4,#0x1c]         ;503  ; ctime
0000a8  69e1              LDR      r1,[r4,#0x1c]         ;504  ; ctime
0000aa  fbb1f5f0          UDIV     r5,r1,r0              ;504
0000ae  fb001115          MLS      r1,r0,r5,r1           ;504
0000b2  4d75              LDR      r5,|L2.648|
0000b4  7029              STRB     r1,[r5,#0]            ;504
0000b6  69e1              LDR      r1,[r4,#0x1c]         ;505  ; ctime
0000b8  fbb1f1f0          UDIV     r1,r1,r0              ;505
0000bc  fbb1f5f0          UDIV     r5,r1,r0              ;505
0000c0  fb001015          MLS      r0,r0,r5,r1           ;505
0000c4  4971              LDR      r1,|L2.652|
0000c6  7008              STRB     r0,[r1,#0]            ;505
0000c8  69e0              LDR      r0,[r4,#0x1c]         ;506  ; ctime
0000ca  4971              LDR      r1,|L2.656|
0000cc  fbb0f0f2          UDIV     r0,r0,r2              ;506
0000d0  7008              STRB     r0,[r1,#0]            ;506
0000d2  edd30a00          VLDR     s1,[r3,#0]            ;507
0000d6  ee600a88          VMUL.F32 s1,s1,s16             ;507
0000da  ee801aa8          VDIV.F32 s2,s1,s17             ;507
0000de  edd40a0b          VLDR     s1,[r4,#0x2c]         ;507
0000e2  ee710a20          VADD.F32 s1,s2,s1              ;507
0000e6  edc40a0b          VSTR     s1,[r4,#0x2c]         ;507
0000ea  ed840a0a          VSTR     s0,[r4,#0x28]         ;508
0000ee  e7b6              B        |L2.94|
                  |L2.240|
0000f0  780b              LDRB     r3,[r1,#0]            ;510  ; cdc_sw
0000f2  2b01              CMP      r3,#1                 ;510
0000f4  d00b              BEQ      |L2.270|
                  |L2.246|
0000f6  7808              LDRB     r0,[r1,#0]            ;518  ; cdc_sw
0000f8  2800              CMP      r0,#0                 ;518
0000fa  d1b0              BNE      |L2.94|
0000fc  ed840a0a          VSTR     s0,[r4,#0x28]         ;519
000100  ed840a0b          VSTR     s0,[r4,#0x2c]         ;520
000104  ed840a0c          VSTR     s0,[r4,#0x30]         ;521
000108  61e6              STR      r6,[r4,#0x1c]         ;522  ; ctime
00010a  6226              STR      r6,[r4,#0x20]         ;523  ; dctime
                  |L2.268|
00010c  e7a7              B        |L2.94|
                  |L2.270|
00010e  6a21              LDR      r1,[r4,#0x20]         ;511  ; dctime
000110  1c49              ADDS     r1,r1,#1              ;511
000112  6221              STR      r1,[r4,#0x20]         ;511  ; dctime
000114  6a21              LDR      r1,[r4,#0x20]         ;512  ; dctime
000116  fbb1f3f0          UDIV     r3,r1,r0              ;512
00011a  fb001113          MLS      r1,r0,r3,r1           ;512
00011e  4b5d              LDR      r3,|L2.660|
000120  7019              STRB     r1,[r3,#0]            ;512
000122  6a21              LDR      r1,[r4,#0x20]         ;513  ; dctime
000124  fbb1f1f0          UDIV     r1,r1,r0              ;513
000128  fbb1f3f0          UDIV     r3,r1,r0              ;513
00012c  fb001013          MLS      r0,r0,r3,r1           ;513
000130  4959              LDR      r1,|L2.664|
000132  7008              STRB     r0,[r1,#0]            ;513
000134  6a20              LDR      r0,[r4,#0x20]         ;514  ; dctime
000136  4959              LDR      r1,|L2.668|
000138  fbb0f0f2          UDIV     r0,r0,r2              ;514
00013c  7008              STRB     r0,[r1,#0]            ;514
00013e  edd50a00          VLDR     s1,[r5,#0]            ;515
000142  ee600a88          VMUL.F32 s1,s1,s16             ;515
000146  ee801aa8          VDIV.F32 s2,s1,s17             ;515
00014a  edd40a0a          VLDR     s1,[r4,#0x28]         ;515
00014e  ee710a20          VADD.F32 s1,s2,s1              ;515
000152  edc40a0a          VSTR     s1,[r4,#0x28]         ;515
000156  ed840a0b          VSTR     s0,[r4,#0x2c]         ;517
                  |L2.346|
00015a  e780              B        |L2.94|
00015c  f8981000          LDRB     r1,[r8,#0]            ;528  ; load_sw
000160  2901              CMP      r1,#1                 ;528
000162  d002              BEQ      |L2.362|
000164  ed840a0a          VSTR     s0,[r4,#0x28]         ;544
000168  e779              B        |L2.94|
                  |L2.362|
00016a  7800              LDRB     r0,[r0,#0]            ;530  ; alert_flag
00016c  2801              CMP      r0,#1                 ;530
00016e  d110              BNE      |L2.402|
000170  78a0              LDRB     r0,[r4,#2]            ;532  ; calert
000172  1c40              ADDS     r0,r0,#1              ;532
000174  70a0              STRB     r0,[r4,#2]            ;532
000176  78a0              LDRB     r0,[r4,#2]            ;533  ; calert
000178  2803              CMP      r0,#3                 ;533
00017a  d10a              BNE      |L2.402|
00017c  4848              LDR      r0,|L2.672|
00017e  7006              STRB     r6,[r0,#0]            ;535
000180  f44f4100          MOV      r1,#0x8000            ;536
000184  4847              LDR      r0,|L2.676|
000186  f7fffffe          BL       GPIO_SetBits
00018a  703e              STRB     r6,[r7,#0]            ;537
00018c  f8886000          STRB     r6,[r8,#0]            ;538
000190  70a6              STRB     r6,[r4,#2]            ;539
                  |L2.402|
000192  ed950a00          VLDR     s0,[r5,#0]            ;542
000196  ee200a08          VMUL.F32 s0,s0,s16             ;542
00019a  eec00a28          VDIV.F32 s1,s0,s17             ;542
00019e  ed940a0a          VLDR     s0,[r4,#0x28]         ;542
0001a2  ee300a80          VADD.F32 s0,s1,s0              ;542
0001a6  ed840a0a          VSTR     s0,[r4,#0x28]         ;542
0001aa  e758              B        |L2.94|
0001ac  7838              LDRB     r0,[r7,#0]            ;549  ; mode_sw
0001ae  2803              CMP      r0,#3                 ;549
0001b0  d118              BNE      |L2.484|
0001b2  7810              LDRB     r0,[r2,#0]            ;551  ; pow_sw
0001b4  2801              CMP      r0,#1                 ;551
0001b6  d003              BEQ      |L2.448|
0001b8  7838              LDRB     r0,[r7,#0]            ;554  ; mode_sw
0001ba  2803              CMP      r0,#3                 ;554
0001bc  d00d              BEQ      |L2.474|
0001be  e00f              B        |L2.480|
                  |L2.448|
0001c0  edd30a00          VLDR     s1,[r3,#0]            ;553
0001c4  ee201a88          VMUL.F32 s2,s1,s16             ;553
0001c8  eec10a28          VDIV.F32 s1,s2,s17             ;553
0001cc  ed941a0a          VLDR     s2,[r4,#0x28]         ;553
0001d0  ee700a81          VADD.F32 s1,s1,s2              ;553
0001d4  edc40a0a          VSTR     s1,[r4,#0x28]         ;553
0001d8  e004              B        |L2.484|
                  |L2.474|
0001da  7808              LDRB     r0,[r1,#0]            ;554  ; cdc_sw
0001dc  2801              CMP      r0,#1                 ;554
0001de  d00b              BEQ      |L2.504|
                  |L2.480|
0001e0  ed840a0a          VSTR     s0,[r4,#0x28]         ;559
                  |L2.484|
0001e4  7838              LDRB     r0,[r7,#0]            ;563  ; mode_sw
0001e6  2802              CMP      r0,#2                 ;563
0001e8  d190              BNE      |L2.268|
0001ea  f8980000          LDRB     r0,[r8,#0]            ;565  ; load_sw
0001ee  2801              CMP      r0,#1                 ;565
0001f0  d00f              BEQ      |L2.530|
0001f2  ed840a0a          VSTR     s0,[r4,#0x28]         ;569
0001f6  e732              B        |L2.94|
                  |L2.504|
0001f8  edd30a00          VLDR     s1,[r3,#0]            ;556
0001fc  ee600a88          VMUL.F32 s1,s1,s16             ;556
000200  ee801aa8          VDIV.F32 s2,s1,s17             ;556
000204  edd40a0a          VLDR     s1,[r4,#0x28]         ;556
000208  ee710a20          VADD.F32 s1,s2,s1              ;556
00020c  edc40a0a          VSTR     s1,[r4,#0x28]         ;556
000210  e7e8              B        |L2.484|
                  |L2.530|
000212  ed950a00          VLDR     s0,[r5,#0]            ;567
000216  ee200a08          VMUL.F32 s0,s0,s16             ;567
00021a  eec00a28          VDIV.F32 s1,s0,s17             ;567
00021e  ed940a0a          VLDR     s0,[r4,#0x28]         ;567
000222  ee300a80          VADD.F32 s0,s1,s0              ;567
000226  ed840a0a          VSTR     s0,[r4,#0x28]         ;567
00022a  e718              B        |L2.94|
00022c  e7ff              B        |L2.558|
                  |L2.558|
00022e  491e              LDR      r1,|L2.680|
000230  7809              LDRB     r1,[r1,#0]            ;575  ; oct_sw
000232  2901              CMP      r1,#1                 ;575
000234  d191              BNE      |L2.346|
000236  7800              LDRB     r0,[r0,#0]            ;577  ; alert_flag
000238  2801              CMP      r0,#1                 ;577
00023a  d18e              BNE      |L2.346|
00023c  78a0              LDRB     r0,[r4,#2]            ;579  ; calert
00023e  1c40              ADDS     r0,r0,#1              ;579
000240  70a0              STRB     r0,[r4,#2]            ;579
000242  78a0              LDRB     r0,[r4,#2]            ;580  ; calert
000244  2803              CMP      r0,#3                 ;580
000246  d188              BNE      |L2.346|
000248  4918              LDR      r1,|L2.684|
00024a  2001              MOVS     r0,#1                 ;582
00024c  7008              STRB     r0,[r1,#0]            ;582
00024e  70a6              STRB     r6,[r4,#2]            ;583
000250  e705              B        |L2.94|
;;;595    
                          ENDP

000252  0000              DCW      0x0000
                  |L2.596|
                          DCD      0x40000400
                  |L2.600|
                          DCD      page_sw
                  |L2.604|
                          DCD      pow_sw
                  |L2.608|
                          DCD      DISS_POW_Current
                  |L2.612|
                          DCD      DISS_Current
                  |L2.616|
                          DCD      alert_flag
                  |L2.620|
                          DCD      cdc_sw
                  |L2.624|
                          DCD      load_sw
                  |L2.628|
                          DCD      mode_sw
                  |L2.632|
000278  447a0000          DCFS     0x447a0000 ; 1000
                  |L2.636|
00027c  45610000          DCFS     0x45610000 ; 3600
                  |L2.640|
000280  00000000          DCFS     0x00000000 ; 0
                  |L2.644|
                          DCD      ||.data||
                  |L2.648|
                          DCD      second
                  |L2.652|
                          DCD      minute
                  |L2.656|
                          DCD      hour
                  |L2.660|
                          DCD      second1
                  |L2.664|
                          DCD      minute1
                  |L2.668|
                          DCD      hour1
                  |L2.672|
                          DCD      t_onoff
                  |L2.676|
                          DCD      0x40020000
                  |L2.680|
                          DCD      oct_sw
                  |L2.684|
                          DCD      ocstop

                          AREA ||i.TIM3_Int_Init||, CODE, READONLY, ALIGN=2

                  TIM3_Int_Init PROC
;;;425    //?o???¡¦??? 3!
;;;426    void TIM3_Int_Init(u16 arr,u16 psc)
000000  b57f              PUSH     {r0-r6,lr}
;;;427    {
000002  4604              MOV      r4,r0
000004  460d              MOV      r5,r1
;;;428        TIM_TimeBaseInitTypeDef TIM_TimeBaseInitStructure;
;;;429        NVIC_InitTypeDef NVIC_InitStructure;
;;;430        
;;;431        RCC_APB1PeriphClockCmd(RCC_APB1Periph_TIM3,ENABLE); //¨´?? TIM3 ??
000006  2101              MOVS     r1,#1
000008  2002              MOVS     r0,#2
00000a  f7fffffe          BL       RCC_APB1PeriphClockCmd
;;;432        TIM_TimeBaseInitStructure.TIM_Period = arr; //??????
00000e  9402              STR      r4,[sp,#8]
;;;433        TIM_TimeBaseInitStructure.TIM_Prescaler=psc; //?????
000010  f8ad5004          STRH     r5,[sp,#4]
;;;434        TIM_TimeBaseInitStructure.TIM_CounterMode=TIM_CounterMode_Up; //§Ó?????
000014  2000              MOVS     r0,#0
000016  f8ad0006          STRH     r0,[sp,#6]
;;;435        TIM_TimeBaseInitStructure.TIM_ClockDivision=TIM_CKD_DIV1;
00001a  f8ad000c          STRH     r0,[sp,#0xc]
;;;436        TIM_TimeBaseInit(TIM3,&TIM_TimeBaseInitStructure);// ¨²?????? TIM3
00001e  4c0e              LDR      r4,|L3.88|
000020  a901              ADD      r1,sp,#4
000022  4620              MOV      r0,r4
000024  f7fffffe          BL       TIM_TimeBaseInit
;;;437        TIM_ITConfig(TIM3,TIM_IT_Update,ENABLE); //?????? 3 ?§ä??
000028  2201              MOVS     r2,#1
00002a  4611              MOV      r1,r2
00002c  4620              MOV      r0,r4
00002e  f7fffffe          BL       TIM_ITConfig
;;;438        NVIC_InitStructure.NVIC_IRQChannel=TIM3_IRQn; //??? 3 ??
000032  211d              MOVS     r1,#0x1d
000034  f88d1000          STRB     r1,[sp,#0]
;;;439        NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority=0x01; //????? 1
000038  2101              MOVS     r1,#1
00003a  f88d1001          STRB     r1,[sp,#1]
;;;440        NVIC_InitStructure.NVIC_IRQChannelSubPriority=0x03; //§¾???? 3
00003e  2203              MOVS     r2,#3
000040  f88d2002          STRB     r2,[sp,#2]
;;;441        NVIC_InitStructure.NVIC_IRQChannelCmd=ENABLE;
000044  f88d1003          STRB     r1,[sp,#3]
;;;442        NVIC_Init(&NVIC_InitStructure);// ¨¹??? NVIC
000048  4668              MOV      r0,sp
00004a  f7fffffe          BL       NVIC_Init
;;;443        TIM_Cmd(TIM3,ENABLE); //Y????? 3
00004e  2101              MOVS     r1,#1
000050  4620              MOV      r0,r4
000052  f7fffffe          BL       TIM_Cmd
;;;444    }
000056  bd7f              POP      {r0-r6,pc}
;;;445    //??? 3 ??????
                          ENDP

                  |L3.88|
                          DCD      0x40000400

                          AREA ||i.TIM4_IRQHandler||, CODE, READONLY, ALIGN=2

                  TIM4_IRQHandler PROC
;;;95     //??? 3 ??????
;;;96     void TIM4_IRQHandler(void)
000000  e92d5ff0          PUSH     {r4-r12,lr}
;;;97     {
000004  ed2d8b06          VPUSH    {d8-d10}
;;;98         static vu16 resetcount;
;;;99         static vu8 read1963;
;;;100        static vu16 scancount;
;;;101        static vu16 uocount;
;;;102        static vu16 powcount;
;;;103        static vu16 powflag;
;;;104        static vu16 finishflag;
;;;105        static float crec1,crec2;
;;;106        u8 crec[6];
;;;107        u8 *csend;
;;;108        static u8 *sendbuf;
;;;109        u8 sendlen;
;;;110        static u16 recrc;
;;;111        static u16 scrc;
;;;112    	static vu8 staticloadflag,staticpowflag;
;;;113        u8 i;
;;;114    //     static float crec1,crec2;
;;;115        
;;;116        if(TIM_GetITStatus(TIM4,TIM_IT_Update)==SET) //????
000008  2101              MOVS     r1,#1
00000a  4cfe              LDR      r4,|L4.1028|
00000c  4620              MOV      r0,r4
00000e  f7fffffe          BL       TIM_GetITStatus
000012  2801              CMP      r0,#1
000014  d16f              BNE      |L4.246|
;;;117        {
;;;118            TIM_ClearITPendingBit(TIM4,TIM_IT_Update); //Çå³ýÖÐ¶Ï±êÖ¾Î»
000016  2101              MOVS     r1,#1
000018  4620              MOV      r0,r4
00001a  f7fffffe          BL       TIM_ClearITPendingBit
;;;119            
;;;120            if(page_sw != face_starter)
00001e  4dfa              LDR      r5,|L4.1032|
000020  7828              LDRB     r0,[r5,#0]  ; page_sw
;;;121            {
;;;122                 if(resetflag == 1)
;;;123                 {
;;;124                     if(resetcount == 3000)
000022  2400              MOVS     r4,#0
000024  4ff9              LDR      r7,|L4.1036|
000026  f64038b8          MOV      r8,#0xbb8
00002a  2806              CMP      r0,#6                 ;120
00002c  d031              BEQ      |L4.146|
00002e  78f8              LDRB     r0,[r7,#3]            ;122  ; resetflag
000030  2801              CMP      r0,#1                 ;122
000032  d12e              BNE      |L4.146|
000034  88b8              LDRH     r0,[r7,#4]  ; resetcount
000036  4540              CMP      r0,r8
000038  d128              BNE      |L4.140|
;;;125                     {
;;;126    //                     sLCD_GPIO_Config();
;;;127                         sLCD_Init();
00003a  f7fffffe          BL       sLCD_Init
;;;128    //                     sLCD_WR_REG(0xf1);
;;;129                         GUI_Init();
00003e  f7fffffe          BL       GUI_Init
;;;130                         if(page_sw == face_menu)
000042  7828              LDRB     r0,[r5,#0]  ; page_sw
000044  2802              CMP      r0,#2
000046  d00e              BEQ      |L4.102|
;;;131                         {
;;;132                             ResetPow();
;;;133                         }else if(page_sw == face_cdc){
000048  7828              LDRB     r0,[r5,#0]  ; page_sw
00004a  2801              CMP      r0,#1
00004c  d00e              BEQ      |L4.108|
;;;134                             ResetCDC();
;;;135                         }else if(page_sw == face_r){
00004e  7828              LDRB     r0,[r5,#0]  ; page_sw
000050  2803              CMP      r0,#3
000052  d00e              BEQ      |L4.114|
;;;136                             ResetR();
;;;137                         }else if(page_sw == face_load){
000054  7828              LDRB     r0,[r5,#0]  ; page_sw
000056  2804              CMP      r0,#4
000058  d00e              BEQ      |L4.120|
;;;138                             ResetLoad();
;;;139                         }else if(page_sw == face_graph){
00005a  7828              LDRB     r0,[r5,#0]  ; page_sw
00005c  b178              CBZ      r0,|L4.126|
;;;140                             ResetG();
;;;141                         }else if(page_sw == face_set){
00005e  7828              LDRB     r0,[r5,#0]  ; page_sw
000060  2805              CMP      r0,#5
000062  d00f              BEQ      |L4.132|
000064  e010              B        |L4.136|
                  |L4.102|
000066  f7fffffe          BL       ResetPow
00006a  e00d              B        |L4.136|
                  |L4.108|
00006c  f7fffffe          BL       ResetCDC
000070  e00a              B        |L4.136|
                  |L4.114|
000072  f7fffffe          BL       ResetR
000076  e007              B        |L4.136|
                  |L4.120|
000078  f7fffffe          BL       ResetLoad
00007c  e004              B        |L4.136|
                  |L4.126|
00007e  f7fffffe          BL       ResetG
000082  e001              B        |L4.136|
                  |L4.132|
;;;142                             ResetSET();
000084  f7fffffe          BL       ResetSET
                  |L4.136|
;;;143                         }
;;;144    //                     resdone = 1;
;;;145    //                     resetflag = 0;
;;;146                         resetcount = 0;
000088  80bc              STRH     r4,[r7,#4]
00008a  e002              B        |L4.146|
                  |L4.140|
;;;147                     }else{
;;;148                         resetcount++;
00008c  88b8              LDRH     r0,[r7,#4]  ; resetcount
00008e  1c40              ADDS     r0,r0,#1
000090  80b8              STRH     r0,[r7,#4]
                  |L4.146|
;;;149                     }                
;;;150                 }
;;;151             }
;;;152             if(page_sw == face_r)
000092  7828              LDRB     r0,[r5,#0]  ; page_sw
;;;153    		 {
;;;154    			 if(step == 1)
;;;155    			 {
;;;156    				if(powcount < 10000)
;;;157    				{
;;;158    					SET_Current_Laod = set_static_lc;
;;;159    					flag_Load_CC = 1;
;;;160    					GPIO_ResetBits(GPIOC,GPIO_Pin_10);//CC
;;;161    					GPIO_ResetBits(GPIOA,GPIO_Pin_15);//Ö§Ø“ØºÕ˜On
;;;162    					static_lv = DISS_Voltage;
;;;163    					powcount++;																		
;;;164    				}else{
;;;165    					powcount = 0;
;;;166    					
;;;167    					IO_OFF();
;;;168    					step = 2;
;;;169    				}
;;;170    			 }else if(step == 2){
;;;171    				if(powcount < 10000)
;;;172    				{
;;;173    					SET_Voltage = set_static_pv;
;;;174    					SET_Current = set_static_pc;
;;;175    					GPIO_SetBits(GPIOA,GPIO_Pin_15);//Ö§Ø“ØºÕ˜OFF
;;;176    					GPIO_ResetBits(GPIOC,GPIO_Pin_13);//Õ²ßªÖ§Ô´Ë¤Ô¶ÝŒÖ§Ç·
;;;177    					GPIO_SetBits(GPIOC,GPIO_Pin_1);//Õ²ßªÖ§Ô´Ë¤Ô¶
;;;178    					powcount++;
;;;179    					static_pc = DISS_POW_Current;
;;;180    				}else{
;;;181    					GPIO_ResetBits(GPIOC,GPIO_Pin_1);//¹Ø±ÕµçÔ´Êä³ö
;;;182    					Delay_ms(500);
;;;183    				    GPIO_SetBits(GPIOC,GPIO_Pin_13);//¹Ø±ÕµçÔ´Êä³ö¼ÌµçÆ÷				
;;;184    					powcount = 0;
;;;185    					step = 3;
;;;186    //					IO_OFF();		
;;;187    					
;;;188    				}
;;;189    			 }else if(step == 3){
;;;190    				if(powcount < 5000)
;;;191    				{
;;;192    					powcount++;
;;;193    				}else{
;;;194    					
;;;195    					powcount = 0;	
;;;196    					sendload = 200;				
;;;197    					SET_Current_Laod = set_init_c;
;;;198    					GPIO_ResetBits(GPIOA,GPIO_Pin_15);//æ‰“å¼€è´Ÿè½½
;;;199    					step = 4;
;;;200    				}
;;;201    			 }else if(step == 4){
;;;202    				OC_CHECK();
;;;203    				stepcount ++;
;;;204    				if(stepcount == steptime*10)
;;;205    				{
;;;206    					OC_ADD();
;;;207    					stepcount = 0;
;;;208    				}
;;;209    			 }else if(step == 5){
;;;210    				if(powcount < 1000)
;;;211    				{
;;;212    					SET_Voltage = 3000;
;;;213    					SET_Current = 1000;
;;;214    					GPIO_SetBits(GPIOA,GPIO_Pin_15);//Ö§Ø“ØºÕ˜OFF
;;;215    					GPIO_ResetBits(GPIOC,GPIO_Pin_13);//Õ²ßªÖ§Ô´Ë¤Ô¶ÝŒÖ§Ç·
;;;216    					GPIO_SetBits(GPIOC,GPIO_Pin_1);//Õ²ßªÖ§Ô´Ë¤Ô¶
;;;217    					powcount++;
;;;218    				}else{
;;;219    					GPIO_ResetBits(GPIOC,GPIO_Pin_1);//¹Ø±ÕµçÔ´Êä³ö
;;;220    					Delay_ms(500);
;;;221    				    GPIO_SetBits(GPIOC,GPIO_Pin_13);//¹Ø±ÕµçÔ´Êä³ö¼ÌµçÆ÷				
;;;222    					powcount = 0;
;;;223    					step = 6;
;;;224    //					IO_OFF();
;;;225    				}
;;;226    			 }else if(step == 6){
;;;227    				if(flag_Load_CC == 1)
;;;228    				{
;;;229    					SET_Current_Laod = (int)(oc_data*1000)+8000; 
;;;230    					GPIO_ResetBits(GPIOC,GPIO_Pin_10);//CC
;;;231    					flag_Load_CC = 1;                              
;;;232    					GPIO_ResetBits(GPIOC,GPIO_Pin_10);//CC
;;;233    					GPIO_ResetBits(GPIOA,GPIO_Pin_15);//Ö§Ø“ØºÕ˜On
;;;234    				}else if(flag_Load_CC == 0){
;;;235    					SET_Voltage_Laod = 0;
;;;236    					GPIO_SetBits(GPIOC,GPIO_Pin_10);//CV
;;;237    					flag_Load_CC = 0;
;;;238    					GPIO_ResetBits(GPIOA,GPIO_Pin_15);//Ö§Ø“ØºÕ˜On
;;;239    				}
;;;240    				if(((v - DISS_Voltage) > v*0.6) || (DISS_Current < 0.05))
000094  ed9f9bde          VLDR     d9,|L4.1040|
000098  ed9faadf          VLDR     s20,|L4.1048|
00009c  f8df937c          LDR      r9,|L4.1052|
0000a0  4ddf              LDR      r5,|L4.1056|
0000a2  4ee0              LDR      r6,|L4.1060|
0000a4  f44f7a7a          MOV      r10,#0x3e8            ;210
0000a8  2803              CMP      r0,#3                 ;152
0000aa  d123              BNE      |L4.244|
0000ac  f8dfb378          LDR      r11,|L4.1064|
0000b0  f89b1000          LDRB     r1,[r11,#0]           ;154  ; step
0000b4  f2427010          MOV      r0,#0x2710            ;156
0000b8  2901              CMP      r1,#1                 ;154
0000ba  d01d              BEQ      |L4.248|
0000bc  f89b1000          LDRB     r1,[r11,#0]           ;170  ; step
0000c0  2902              CMP      r1,#2                 ;170
0000c2  d040              BEQ      |L4.326|
0000c4  f89b0000          LDRB     r0,[r11,#0]           ;189  ; step
0000c8  2803              CMP      r0,#3                 ;189
0000ca  d072              BEQ      |L4.434|
0000cc  f89b0000          LDRB     r0,[r11,#0]           ;201  ; step
0000d0  2804              CMP      r0,#4                 ;201
0000d2  d06c              BEQ      |L4.430|
0000d4  f89b0000          LDRB     r0,[r11,#0]           ;209  ; step
0000d8  2805              CMP      r0,#5                 ;209
0000da  d069              BEQ      |L4.432|
0000dc  f89b0000          LDRB     r0,[r11,#0]           ;226  ; step
0000e0  2806              CMP      r0,#6                 ;226
0000e2  d06f              BEQ      |L4.452|
;;;241    				{
;;;242    					IO_OFF();
;;;243    					step = 7;
;;;244    				}else{
;;;245    					short_time++;                
;;;246    				}
;;;247    			 }else if(step == 7){
0000e4  f89b0000          LDRB     r0,[r11,#0]  ; step
0000e8  2807              CMP      r0,#7
0000ea  d06c              BEQ      |L4.454|
;;;248    				 if(powcount < 4000)
;;;249    				{
;;;250    					SET_Voltage =3000;
;;;251    					SET_Current = 1000;
;;;252    					GPIO_ResetBits(GPIOC,GPIO_Pin_13);//Õ²ßªÖ§Ô´Ë¤Ô¶ÝŒÖ§Ç·
;;;253    					GPIO_SetBits(GPIOC,GPIO_Pin_1);//Õ²ßªÖ§Ô´Ë¤Ô¶
;;;254    					powcount++;
;;;255    	//                 shortv = DISS_Voltage;
;;;256    				}else{
;;;257    					GPIO_ResetBits(GPIOC,GPIO_Pin_1);//¹Ø±ÕµçÔ´Êä³ö
;;;258    					Delay_ms(500);
;;;259    				    GPIO_SetBits(GPIOC,GPIO_Pin_13);//¹Ø±ÕµçÔ´Êä³ö¼ÌµçÆ
;;;260    					powcount = 0;
;;;261    					step = 0;
;;;262    //					IO_OFF();                
;;;263    				}
;;;264    			 }else if(step == 0)
0000ec  f89b0000          LDRB     r0,[r11,#0]  ; step
0000f0  2800              CMP      r0,#0
0000f2  d069              BEQ      |L4.456|
                  |L4.244|
0000f4  e145              B        |L4.898|
                  |L4.246|
0000f6  e29a              B        |L4.1582|
                  |L4.248|
0000f8  8939              LDRH     r1,[r7,#8]            ;156  ; powcount
0000fa  4281              CMP      r1,r0                 ;156
0000fc  d21c              BCS      |L4.312|
0000fe  f8d500b0          LDR      r0,[r5,#0xb0]         ;158  ; Run_Control
000102  6128              STR      r0,[r5,#0x10]         ;158  ; Run_Control
000104  f8d90000          LDR      r0,[r9,#0]            ;159  ; flagD
000108  f0400080          ORR      r0,r0,#0x80           ;159
00010c  f8c90000          STR      r0,[r9,#0]            ;159  ; flagD
000110  f44f6180          MOV      r1,#0x400             ;160
000114  4630              MOV      r0,r6                 ;160
000116  f7fffffe          BL       GPIO_ResetBits
00011a  f44f4100          MOV      r1,#0x8000            ;161
00011e  48c3              LDR      r0,|L4.1068|
000120  f7fffffe          BL       GPIO_ResetBits
000124  48c2              LDR      r0,|L4.1072|
000126  ed900a00          VLDR     s0,[r0,#0]            ;162
00012a  48c2              LDR      r0,|L4.1076|
00012c  ed800a00          VSTR     s0,[r0,#0]            ;162
000130  8938              LDRH     r0,[r7,#8]            ;163  ; powcount
000132  1c40              ADDS     r0,r0,#1              ;163
000134  8138              STRH     r0,[r7,#8]            ;163
000136  e124              B        |L4.898|
                  |L4.312|
000138  813c              STRH     r4,[r7,#8]            ;165
00013a  f7fffffe          BL       IO_OFF
00013e  2002              MOVS     r0,#2                 ;168
000140  f88b0000          STRB     r0,[r11,#0]           ;168
000144  e11d              B        |L4.898|
                  |L4.326|
000146  8939              LDRH     r1,[r7,#8]            ;171  ; powcount
000148  4281              CMP      r1,r0                 ;171
00014a  d21d              BCS      |L4.392|
00014c  f8d500a8          LDR      r0,[r5,#0xa8]         ;173  ; Run_Control
000150  6068              STR      r0,[r5,#4]            ;173  ; Run_Control
000152  f8d500ac          LDR      r0,[r5,#0xac]         ;174  ; Run_Control
000156  60a8              STR      r0,[r5,#8]            ;174  ; Run_Control
000158  f44f4100          MOV      r1,#0x8000            ;175
00015c  48b3              LDR      r0,|L4.1068|
00015e  f7fffffe          BL       GPIO_SetBits
000162  f44f5100          MOV      r1,#0x2000            ;176
000166  4630              MOV      r0,r6                 ;176
000168  f7fffffe          BL       GPIO_ResetBits
00016c  2102              MOVS     r1,#2                 ;177
00016e  4630              MOV      r0,r6                 ;177
000170  f7fffffe          BL       GPIO_SetBits
000174  8938              LDRH     r0,[r7,#8]            ;178  ; powcount
000176  1c40              ADDS     r0,r0,#1              ;178
000178  8138              STRH     r0,[r7,#8]            ;178
00017a  48af              LDR      r0,|L4.1080|
00017c  ed900a00          VLDR     s0,[r0,#0]            ;179
000180  48ae              LDR      r0,|L4.1084|
000182  ed800a00          VSTR     s0,[r0,#0]            ;179
000186  e0fc              B        |L4.898|
                  |L4.392|
000188  2102              MOVS     r1,#2                 ;181
00018a  4630              MOV      r0,r6                 ;181
00018c  f7fffffe          BL       GPIO_ResetBits
000190  f44f70fa          MOV      r0,#0x1f4             ;182
000194  f7fffffe          BL       Delay_ms
000198  f44f5100          MOV      r1,#0x2000            ;183
00019c  4630              MOV      r0,r6                 ;183
00019e  f7fffffe          BL       GPIO_SetBits
0001a2  813c              STRH     r4,[r7,#8]            ;184
0001a4  2003              MOVS     r0,#3                 ;185
0001a6  f88b0000          STRB     r0,[r11,#0]           ;185
0001aa  e0ea              B        |L4.898|
0001ac  e001              B        |L4.434|
                  |L4.430|
0001ae  e01b              B        |L4.488|
                  |L4.432|
0001b0  e031              B        |L4.534|
                  |L4.434|
0001b2  8939              LDRH     r1,[r7,#8]            ;190  ; powcount
0001b4  f2413088          MOV      r0,#0x1388            ;190
0001b8  4281              CMP      r1,r0                 ;190
0001ba  d206              BCS      |L4.458|
0001bc  8938              LDRH     r0,[r7,#8]            ;192  ; powcount
0001be  1c40              ADDS     r0,r0,#1              ;192
0001c0  8138              STRH     r0,[r7,#8]            ;192
0001c2  e0de              B        |L4.898|
                  |L4.452|
0001c4  e052              B        |L4.620|
                  |L4.454|
0001c6  e0b3              B        |L4.816|
                  |L4.456|
0001c8  e0d8              B        |L4.892|
                  |L4.458|
0001ca  813c              STRH     r4,[r7,#8]            ;195
0001cc  499c              LDR      r1,|L4.1088|
0001ce  20c8              MOVS     r0,#0xc8              ;196
0001d0  8008              STRH     r0,[r1,#0]            ;196
0001d2  6da8              LDR      r0,[r5,#0x58]         ;197  ; Run_Control
0001d4  6128              STR      r0,[r5,#0x10]         ;197  ; Run_Control
0001d6  f44f4100          MOV      r1,#0x8000            ;198
0001da  4894              LDR      r0,|L4.1068|
0001dc  f7fffffe          BL       GPIO_ResetBits
0001e0  2004              MOVS     r0,#4                 ;199
0001e2  f88b0000          STRB     r0,[r11,#0]           ;199
0001e6  e0cc              B        |L4.898|
                  |L4.488|
0001e8  f7fffffe          BL       OC_CHECK
0001ec  f8dfb254          LDR      r11,|L4.1092|
0001f0  f8bb0000          LDRH     r0,[r11,#0]           ;203  ; stepcount
0001f4  1c40              ADDS     r0,r0,#1              ;203
0001f6  f8ab0000          STRH     r0,[r11,#0]           ;203
0001fa  4893              LDR      r0,|L4.1096|
0001fc  8800              LDRH     r0,[r0,#0]            ;204  ; steptime
0001fe  f8bb1000          LDRH     r1,[r11,#0]           ;204  ; stepcount
000202  eb000080          ADD      r0,r0,r0,LSL #2       ;204
000206  ebb10f40          CMP      r1,r0,LSL #1          ;204
00020a  d103              BNE      |L4.532|
00020c  f7fffffe          BL       OC_ADD
000210  f8ab4000          STRH     r4,[r11,#0]           ;207
                  |L4.532|
000214  e0b5              B        |L4.898|
                  |L4.534|
000216  8938              LDRH     r0,[r7,#8]            ;210  ; powcount
000218  4550              CMP      r0,r10                ;210
00021a  d215              BCS      |L4.584|
00021c  f8c58004          STR      r8,[r5,#4]            ;212  ; Run_Control
000220  f8c5a008          STR      r10,[r5,#8]           ;213  ; Run_Control
000224  f44f4100          MOV      r1,#0x8000            ;214
000228  4880              LDR      r0,|L4.1068|
00022a  f7fffffe          BL       GPIO_SetBits
00022e  f44f5100          MOV      r1,#0x2000            ;215
000232  4630              MOV      r0,r6                 ;215
000234  f7fffffe          BL       GPIO_ResetBits
000238  2102              MOVS     r1,#2                 ;216
00023a  4630              MOV      r0,r6                 ;216
00023c  f7fffffe          BL       GPIO_SetBits
000240  8938              LDRH     r0,[r7,#8]            ;217  ; powcount
000242  1c40              ADDS     r0,r0,#1              ;217
000244  8138              STRH     r0,[r7,#8]            ;217
000246  e09c              B        |L4.898|
                  |L4.584|
000248  2102              MOVS     r1,#2                 ;219
00024a  4630              MOV      r0,r6                 ;219
00024c  f7fffffe          BL       GPIO_ResetBits
000250  f44f70fa          MOV      r0,#0x1f4             ;220
000254  f7fffffe          BL       Delay_ms
000258  f44f5100          MOV      r1,#0x2000            ;221
00025c  4630              MOV      r0,r6                 ;221
00025e  f7fffffe          BL       GPIO_SetBits
000262  813c              STRH     r4,[r7,#8]            ;222
000264  2006              MOVS     r0,#6                 ;223
000266  f88b0000          STRB     r0,[r11,#0]           ;223
00026a  e08a              B        |L4.898|
                  |L4.620|
00026c  f8990000          LDRB     r0,[r9,#0]            ;227  ; flagD
000270  0600              LSLS     r0,r0,#24             ;227
000272  d521              BPL      |L4.696|
000274  4875              LDR      r0,|L4.1100|
000276  ed900a00          VLDR     s0,[r0,#0]            ;229
00027a  ee200a0a          VMUL.F32 s0,s0,s20             ;229
00027e  eebd0ac0          VCVT.S32.F32 s0,s0                 ;229
000282  ee100a10          VMOV     r0,s0                 ;229
000286  f50050fa          ADD      r0,r0,#0x1f40         ;229
00028a  6128              STR      r0,[r5,#0x10]         ;229  ; Run_Control
00028c  f44f6180          MOV      r1,#0x400             ;230
000290  4630              MOV      r0,r6                 ;230
000292  f7fffffe          BL       GPIO_ResetBits
000296  f8d90000          LDR      r0,[r9,#0]            ;231  ; flagD
00029a  f0400080          ORR      r0,r0,#0x80           ;231
00029e  f8c90000          STR      r0,[r9,#0]            ;231  ; flagD
0002a2  f44f6180          MOV      r1,#0x400             ;232
0002a6  4630              MOV      r0,r6                 ;232
0002a8  f7fffffe          BL       GPIO_ResetBits
0002ac  f44f4100          MOV      r1,#0x8000            ;233
0002b0  485e              LDR      r0,|L4.1068|
0002b2  f7fffffe          BL       GPIO_ResetBits
0002b6  e010              B        |L4.730|
                  |L4.696|
0002b8  60ec              STR      r4,[r5,#0xc]          ;235  ; Run_Control
0002ba  f44f6180          MOV      r1,#0x400             ;236
0002be  4630              MOV      r0,r6                 ;236
0002c0  f7fffffe          BL       GPIO_SetBits
0002c4  f8d90000          LDR      r0,[r9,#0]            ;237  ; flagD
0002c8  f0200080          BIC      r0,r0,#0x80           ;237
0002cc  f8c90000          STR      r0,[r9,#0]            ;237  ; flagD
0002d0  f44f4100          MOV      r1,#0x8000            ;238
0002d4  4855              LDR      r0,|L4.1068|
0002d6  f7fffffe          BL       GPIO_ResetBits
                  |L4.730|
0002da  485d              LDR      r0,|L4.1104|
0002dc  edd0aa00          VLDR     s21,[r0,#0]           ;240
0002e0  ee1a0a90          VMOV     r0,s21                ;240
0002e4  f7fffffe          BL       __aeabi_f2d
0002e8  ec532b19          VMOV     r2,r3,d9              ;240
0002ec  f7fffffe          BL       __aeabi_dmul
0002f0  ec410b18          VMOV     d8,r0,r1              ;240
0002f4  484e              LDR      r0,|L4.1072|
0002f6  ed900a00          VLDR     s0,[r0,#0]            ;240
0002fa  ee3a0ac0          VSUB.F32 s0,s21,s0             ;240
0002fe  ee100a10          VMOV     r0,s0                 ;240
000302  f7fffffe          BL       __aeabi_f2d
000306  ec532b18          VMOV     r2,r3,d8              ;240
00030a  f7fffffe          BL       __aeabi_cdrcmple
00030e  d304              BCC      |L4.794|
000310  4850              LDR      r0,|L4.1108|
000312  6800              LDR      r0,[r0,#0]            ;240  ; DISS_Current
000314  4950              LDR      r1,|L4.1112|
000316  4288              CMP      r0,r1                 ;240
000318  da05              BGE      |L4.806|
                  |L4.794|
00031a  f7fffffe          BL       IO_OFF
00031e  2007              MOVS     r0,#7                 ;243
000320  f88b0000          STRB     r0,[r11,#0]           ;243
000324  e02d              B        |L4.898|
                  |L4.806|
000326  484d              LDR      r0,|L4.1116|
000328  8801              LDRH     r1,[r0,#0]            ;245  ; short_time
00032a  1c49              ADDS     r1,r1,#1              ;245
00032c  8001              STRH     r1,[r0,#0]            ;245
00032e  e028              B        |L4.898|
                  |L4.816|
000330  8938              LDRH     r0,[r7,#8]            ;248  ; powcount
000332  f5b06f7a          CMP      r0,#0xfa0             ;248
000336  d210              BCS      |L4.858|
000338  f8c58004          STR      r8,[r5,#4]            ;250  ; Run_Control
00033c  f8c5a008          STR      r10,[r5,#8]           ;251  ; Run_Control
000340  f44f5100          MOV      r1,#0x2000            ;252
000344  4630              MOV      r0,r6                 ;252
000346  f7fffffe          BL       GPIO_ResetBits
00034a  2102              MOVS     r1,#2                 ;253
00034c  4630              MOV      r0,r6                 ;253
00034e  f7fffffe          BL       GPIO_SetBits
000352  8938              LDRH     r0,[r7,#8]            ;254  ; powcount
000354  1c40              ADDS     r0,r0,#1              ;254
000356  8138              STRH     r0,[r7,#8]            ;254
000358  e013              B        |L4.898|
                  |L4.858|
00035a  2102              MOVS     r1,#2                 ;257
00035c  4630              MOV      r0,r6                 ;257
00035e  f7fffffe          BL       GPIO_ResetBits
000362  f44f70fa          MOV      r0,#0x1f4             ;258
000366  f7fffffe          BL       Delay_ms
00036a  f44f5100          MOV      r1,#0x2000            ;259
00036e  4630              MOV      r0,r6                 ;259
000370  f7fffffe          BL       GPIO_SetBits
000374  813c              STRH     r4,[r7,#8]            ;260
000376  f88b4000          STRB     r4,[r11,#0]           ;261
00037a  e002              B        |L4.898|
                  |L4.892|
;;;265    			 {
;;;266    				 powcount = 0;
00037c  813c              STRH     r4,[r7,#8]
;;;267    				 IO_OFF();
00037e  f7fffffe          BL       IO_OFF
                  |L4.898|
;;;268    			 }
;;;269    		}
;;;270            
;;;271    		
;;;272            if(usartocflag == 1)
000382  7838              LDRB     r0,[r7,#0]  ; usartocflag
000384  f04f0b01          MOV      r11,#1                ;116
000388  2801              CMP      r0,#1
00038a  d13a              BNE      |L4.1026|
;;;273            {
;;;274    
;;;275                if(flag_Load_CC == 1)
00038c  f8990000          LDRB     r0,[r9,#0]  ; flagD
000390  0600              LSLS     r0,r0,#24
000392  d50a              BPL      |L4.938|
;;;276                {   
;;;277    //				load_sw = load_on;
;;;278                    GPIO_ResetBits(GPIOC,GPIO_Pin_10);//CC
000394  f44f6180          MOV      r1,#0x400
000398  4630              MOV      r0,r6
00039a  f7fffffe          BL       GPIO_ResetBits
;;;279                    GPIO_ResetBits(GPIOA,GPIO_Pin_15);//µç×Ó¸ºÔØOn
00039e  f44f4100          MOV      r1,#0x8000
0003a2  4822              LDR      r0,|L4.1068|
0003a4  f7fffffe          BL       GPIO_ResetBits
0003a8  e010              B        |L4.972|
                  |L4.938|
;;;280                }else if(flag_Load_CC == 0){
;;;281                    SET_Voltage_Laod = 0;
0003aa  60ec              STR      r4,[r5,#0xc]  ; Run_Control
;;;282                    GPIO_SetBits(GPIOC,GPIO_Pin_10);//CV
0003ac  f44f6180          MOV      r1,#0x400
0003b0  4630              MOV      r0,r6
0003b2  f7fffffe          BL       GPIO_SetBits
;;;283                    flag_Load_CC = 0;
0003b6  f8d90000          LDR      r0,[r9,#0]  ; flagD
0003ba  f0200080          BIC      r0,r0,#0x80
0003be  f8c90000          STR      r0,[r9,#0]  ; flagD
;;;284                    GPIO_ResetBits(GPIOA,GPIO_Pin_15);//µç×Ó¸ºÔØOn
0003c2  f44f4100          MOV      r1,#0x8000
0003c6  4819              LDR      r0,|L4.1068|
0003c8  f7fffffe          BL       GPIO_ResetBits
                  |L4.972|
;;;285                }
;;;286                crec2 = crec1;
0003cc  ed970a05          VLDR     s0,[r7,#0x14]
0003d0  ed870a06          VSTR     s0,[r7,#0x18]
;;;287                crec1 = DISS_Current;
0003d4  481f              LDR      r0,|L4.1108|
0003d6  edd00a00          VLDR     s1,[r0,#0]
0003da  edc70a05          VSTR     s1,[r7,#0x14]
;;;288                if(crec1 < crec2 && crec2 > 0.3)
0003de  eef40ac0          VCMPE.F32 s1,s0
0003e2  eef1fa10          VMRS     APSR_nzcv,FPSCR
0003e6  d258              BCS      |L4.1178|
0003e8  ee100a10          VMOV     r0,s0
0003ec  491c              LDR      r1,|L4.1120|
0003ee  4288              CMP      r0,r1
0003f0  db53              BLT      |L4.1178|
;;;289                {     
;;;290                    oc_data = crec2;
0003f2  4816              LDR      r0,|L4.1100|
0003f4  ed800a00          VSTR     s0,[r0,#0]
;;;291                    g_tModS.TxBuf[13] = (int)(oc_data*1000)>>8;
0003f8  ee200a0a          VMUL.F32 s0,s0,s20
0003fc  eebd0ac0          VCVT.S32.F32 s0,s0
000400  e030              B        |L4.1124|
                  |L4.1026|
000402  e054              B        |L4.1198|
                  |L4.1028|
                          DCD      0x40000800
                  |L4.1032|
                          DCD      page_sw
                  |L4.1036|
                          DCD      ||.data||
                  |L4.1040|
000410  33333333          DCFD     0x3fe3333333333333 ; 0.59999999999999998
000414  3fe33333
                  |L4.1048|
000418  447a0000          DCFS     0x447a0000 ; 1000
                  |L4.1052|
                          DCD      flagD
                  |L4.1056|
                          DCD      Run_Control
                  |L4.1060|
                          DCD      0x40020800
                  |L4.1064|
                          DCD      step
                  |L4.1068|
                          DCD      0x40020000
                  |L4.1072|
                          DCD      DISS_Voltage
                  |L4.1076|
                          DCD      static_lv
                  |L4.1080|
                          DCD      DISS_POW_Current
                  |L4.1084|
                          DCD      static_pc
                  |L4.1088|
                          DCD      sendload
                  |L4.1092|
                          DCD      stepcount
                  |L4.1096|
                          DCD      steptime
                  |L4.1100|
                          DCD      oc_data
                  |L4.1104|
                          DCD      v
                  |L4.1108|
                          DCD      DISS_Current
                  |L4.1112|
                          DCD      0x3d4ccccd
                  |L4.1116|
                          DCD      short_time
                  |L4.1120|
                          DCD      0x3e99999a
                  |L4.1124|
000464  ee100a10          VMOV     r0,s0
000468  4978              LDR      r1,|L4.1612|
00046a  0a00              LSRS     r0,r0,#8
00046c  7008              STRB     r0,[r1,#0]
;;;292                    g_tModS.TxBuf[14] = (int)(oc_data*1000);
00046e  ee100a10          VMOV     r0,s0
000472  7048              STRB     r0,[r1,#1]
;;;293                    SET_Current_Laod = set_init_c;
000474  6da8              LDR      r0,[r5,#0x58]  ; Run_Control
000476  6128              STR      r0,[r5,#0x10]  ; Run_Control
;;;294                    GPIO_SetBits(GPIOA,GPIO_Pin_15);//å…³é—­è´Ÿè½½ 
000478  f44f4100          MOV      r1,#0x8000
00047c  4874              LDR      r0,|L4.1616|
00047e  f7fffffe          BL       GPIO_SetBits
;;;295    //                MODS_SendWithCRC(g_tModS.TxBuf, g_tModS.TxCount);
;;;296                    t_onoff = 0;
000482  4874              LDR      r0,|L4.1620|
000484  7004              STRB     r4,[r0,#0]
;;;297                    usartocflag = 0;
000486  703c              STRB     r4,[r7,#0]
;;;298                    crec1 = 0;
000488  ed9f0a73          VLDR     s0,|L4.1624|
00048c  ed870a05          VSTR     s0,[r7,#0x14]
;;;299                    crec2 = 0;
000490  ed870a06          VSTR     s0,[r7,#0x18]
;;;300                    powflag = 1;
000494  f8a7b00a          STRH     r11,[r7,#0xa]
000498  e009              B        |L4.1198|
                  |L4.1178|
;;;301                    
;;;302                }else{
;;;303                    if(flag_Load_CC == 1)
00049a  f8990000          LDRB     r0,[r9,#0]  ; flagD
00049e  0600              LSLS     r0,r0,#24
0004a0  d505              BPL      |L4.1198|
;;;304                    {
;;;305                        if(uocount == 20)
0004a2  88f8              LDRH     r0,[r7,#6]  ; uocount
0004a4  2814              CMP      r0,#0x14
0004a6  d006              BEQ      |L4.1206|
;;;306                        {
;;;307                            SET_Current_Laod = SET_Current_Laod + 10;
;;;308                            uocount = 0;
;;;309                        }else{
;;;310                            uocount++;
0004a8  88f8              LDRH     r0,[r7,#6]  ; uocount
0004aa  1c40              ADDS     r0,r0,#1
0004ac  80f8              STRH     r0,[r7,#6]
                  |L4.1198|
;;;311                        }
;;;312                    }                    
;;;313                }
;;;314            }
;;;315            if(powflag == 1)
0004ae  8978              LDRH     r0,[r7,#0xa]  ; powflag
0004b0  2801              CMP      r0,#1
0004b2  d005              BEQ      |L4.1216|
0004b4  e02a              B        |L4.1292|
                  |L4.1206|
0004b6  6928              LDR      r0,[r5,#0x10]         ;307  ; Run_Control
0004b8  300a              ADDS     r0,r0,#0xa            ;307
0004ba  6128              STR      r0,[r5,#0x10]         ;307  ; Run_Control
0004bc  80fc              STRH     r4,[r7,#6]            ;308
0004be  e7f6              B        |L4.1198|
                  |L4.1216|
;;;316            {
;;;317                if(powcount < 1000)
0004c0  8938              LDRH     r0,[r7,#8]  ; powcount
0004c2  4550              CMP      r0,r10
0004c4  d215              BCS      |L4.1266|
;;;318                {
;;;319                    SET_Voltage =3000;
0004c6  f8c58004          STR      r8,[r5,#4]  ; Run_Control
;;;320                    SET_Current = 1000;
0004ca  f8c5a008          STR      r10,[r5,#8]  ; Run_Control
;;;321                    GPIO_SetBits(GPIOA,GPIO_Pin_15);//µç×Ó¸ºÔØOFF
0004ce  f44f4100          MOV      r1,#0x8000
0004d2  485f              LDR      r0,|L4.1616|
0004d4  f7fffffe          BL       GPIO_SetBits
;;;322                    GPIO_ResetBits(GPIOC,GPIO_Pin_13);//´ò¿ªµçÔ´Êä³ö¼ÌµçÆ÷
0004d8  f44f5100          MOV      r1,#0x2000
0004dc  4630              MOV      r0,r6
0004de  f7fffffe          BL       GPIO_ResetBits
;;;323                    GPIO_SetBits(GPIOC,GPIO_Pin_1);//´ò¿ªµçÔ´Êä³ö
0004e2  2102              MOVS     r1,#2
0004e4  4630              MOV      r0,r6
0004e6  f7fffffe          BL       GPIO_SetBits
;;;324                    powcount++;
0004ea  8938              LDRH     r0,[r7,#8]  ; powcount
0004ec  1c40              ADDS     r0,r0,#1
0004ee  8138              STRH     r0,[r7,#8]
0004f0  e00c              B        |L4.1292|
                  |L4.1266|
;;;325    //                 shortv = DISS_Voltage;
;;;326                }else{
;;;327                    powcount = 0;
0004f2  813c              STRH     r4,[r7,#8]
;;;328                    powflag = 0;
0004f4  817c              STRH     r4,[r7,#0xa]
;;;329                    GPIO_ResetBits(GPIOC,GPIO_Pin_1);//¹Ø±ÕµçÔ´Êä³ö
0004f6  2102              MOVS     r1,#2
0004f8  4630              MOV      r0,r6
0004fa  f7fffffe          BL       GPIO_ResetBits
;;;330                    GPIO_SetBits(GPIOC,GPIO_Pin_13);//¹Ø±ÕµçÔ´Êä³ö¼ÌµçÆ÷ 
0004fe  f44f5100          MOV      r1,#0x2000
000502  4630              MOV      r0,r6
000504  f7fffffe          BL       GPIO_SetBits
;;;331                    usartshortflag = 1;
000508  f887b001          STRB     r11,[r7,#1]
                  |L4.1292|
;;;332                    
;;;333                }
;;;334            }
;;;335            if(usartshortflag == 1)
00050c  7878              LDRB     r0,[r7,#1]  ; usartshortflag
00050e  2801              CMP      r0,#1
000510  d177              BNE      |L4.1538|
;;;336            {
;;;337                if(flag_Load_CC == 1)
000512  f8990000          LDRB     r0,[r9,#0]  ; flagD
000516  0600              LSLS     r0,r0,#24
000518  d522              BPL      |L4.1376|
;;;338                {
;;;339                    SET_Current_Laod = (int)(oc_data*1000)+5000; 
00051a  4850              LDR      r0,|L4.1628|
00051c  f2413188          MOV      r1,#0x1388
000520  ed900a00          VLDR     s0,[r0,#0]
000524  ee200a0a          VMUL.F32 s0,s0,s20
000528  eebd0ac0          VCVT.S32.F32 s0,s0
00052c  ee100a10          VMOV     r0,s0
000530  4408              ADD      r0,r0,r1
000532  6128              STR      r0,[r5,#0x10]  ; Run_Control
;;;340                    GPIO_ResetBits(GPIOC,GPIO_Pin_10);//CC
000534  f44f6180          MOV      r1,#0x400
000538  4630              MOV      r0,r6
00053a  f7fffffe          BL       GPIO_ResetBits
;;;341                    flag_Load_CC = 1;                              
00053e  f8d90000          LDR      r0,[r9,#0]  ; flagD
000542  f0400080          ORR      r0,r0,#0x80
000546  f8c90000          STR      r0,[r9,#0]  ; flagD
;;;342                    GPIO_ResetBits(GPIOC,GPIO_Pin_10);//CC
00054a  f44f6180          MOV      r1,#0x400
00054e  4630              MOV      r0,r6
000550  f7fffffe          BL       GPIO_ResetBits
;;;343                    GPIO_ResetBits(GPIOA,GPIO_Pin_15);//µç×Ó¸ºÔØOn
000554  f44f4100          MOV      r1,#0x8000
000558  483d              LDR      r0,|L4.1616|
00055a  f7fffffe          BL       GPIO_ResetBits
00055e  e010              B        |L4.1410|
                  |L4.1376|
;;;344                }else if(flag_Load_CC == 0){
;;;345                    SET_Voltage_Laod = 0;
000560  60ec              STR      r4,[r5,#0xc]  ; Run_Control
;;;346                    GPIO_SetBits(GPIOC,GPIO_Pin_10);//CV
000562  f44f6180          MOV      r1,#0x400
000566  4630              MOV      r0,r6
000568  f7fffffe          BL       GPIO_SetBits
;;;347                    flag_Load_CC = 0;
00056c  f8d90000          LDR      r0,[r9,#0]  ; flagD
000570  f0200080          BIC      r0,r0,#0x80
000574  f8c90000          STR      r0,[r9,#0]  ; flagD
;;;348                    GPIO_ResetBits(GPIOA,GPIO_Pin_15);//µç×Ó¸ºÔØOn
000578  f44f4100          MOV      r1,#0x8000
00057c  4834              LDR      r0,|L4.1616|
00057e  f7fffffe          BL       GPIO_ResetBits
                  |L4.1410|
;;;349                }
;;;350                if(((shortv - DISS_Voltage) > shortv*0.6) || (DISS_Current < 0.05))
000582  ed97aa0e          VLDR     s20,[r7,#0x38]
000586  ee1a0a10          VMOV     r0,s20
00058a  f7fffffe          BL       __aeabi_f2d
00058e  ec532b19          VMOV     r2,r3,d9
000592  f7fffffe          BL       __aeabi_dmul
000596  ec410b18          VMOV     d8,r0,r1
00059a  4831              LDR      r0,|L4.1632|
00059c  ed900a00          VLDR     s0,[r0,#0]
0005a0  ee3a0a40          VSUB.F32 s0,s20,s0
0005a4  ee100a10          VMOV     r0,s0
0005a8  f7fffffe          BL       __aeabi_f2d
0005ac  ec532b18          VMOV     r2,r3,d8
0005b0  f7fffffe          BL       __aeabi_cdrcmple
0005b4  d304              BCC      |L4.1472|
0005b6  482b              LDR      r0,|L4.1636|
0005b8  6800              LDR      r0,[r0,#0]  ; DISS_Current
0005ba  492b              LDR      r1,|L4.1640|
0005bc  4288              CMP      r0,r1
0005be  da1c              BGE      |L4.1530|
                  |L4.1472|
;;;351                {
;;;352                    IO_OFF();
0005c0  f7fffffe          BL       IO_OFF
;;;353                    usartshortflag = 0;               
0005c4  707c              STRB     r4,[r7,#1]
;;;354                    g_tModS.TxBuf[17] = (short_time/10)>>8;
0005c6  f8df90a4          LDR      r9,|L4.1644|
0005ca  f8b90000          LDRH     r0,[r9,#0]  ; short_time
0005ce  210a              MOVS     r1,#0xa
0005d0  fbb0f0f1          UDIV     r0,r0,r1
0005d4  0a02              LSRS     r2,r0,#8
0005d6  481d              LDR      r0,|L4.1612|
0005d8  1d00              ADDS     r0,r0,#4
0005da  7002              STRB     r2,[r0,#0]
;;;355                    g_tModS.TxBuf[18] = (short_time/10);
0005dc  f8b92000          LDRH     r2,[r9,#0]  ; short_time
0005e0  fbb2f1f1          UDIV     r1,r2,r1
0005e4  7041              STRB     r1,[r0,#1]
;;;356                    MODS_SendWithCRC(g_tModS.TxBuf, g_tModS.TxCount);
0005e6  f8901073          LDRB     r1,[r0,#0x73]  ; g_tModS
0005ea  3811              SUBS     r0,r0,#0x11
0005ec  f7fffffe          BL       MODS_SendWithCRC
;;;357                    finishflag=1;
0005f0  f8a7b00c          STRH     r11,[r7,#0xc]
;;;358                    short_time = 0;
0005f4  f8a94000          STRH     r4,[r9,#0]
0005f8  e003              B        |L4.1538|
                  |L4.1530|
;;;359                }else{
;;;360                    short_time++;                
0005fa  481c              LDR      r0,|L4.1644|
0005fc  8801              LDRH     r1,[r0,#0]  ; short_time
0005fe  1c49              ADDS     r1,r1,#1
000600  8001              STRH     r1,[r0,#0]
                  |L4.1538|
;;;361                }
;;;362            }
;;;363            if(finishflag == 1)
000602  89b8              LDRH     r0,[r7,#0xc]  ; finishflag
000604  2801              CMP      r0,#1
000606  d112              BNE      |L4.1582|
;;;364            {
;;;365                if(powcount < 1000)
000608  8938              LDRH     r0,[r7,#8]  ; powcount
00060a  4550              CMP      r0,r10
00060c  d213              BCS      |L4.1590|
;;;366                {
;;;367                    SET_Voltage =3000;
00060e  f8c58004          STR      r8,[r5,#4]  ; Run_Control
;;;368                    SET_Current = 1000;
000612  f8c5a008          STR      r10,[r5,#8]  ; Run_Control
;;;369                    GPIO_ResetBits(GPIOC,GPIO_Pin_13);//´ò¿ªµçÔ´Êä³ö¼ÌµçÆ÷
000616  f44f5100          MOV      r1,#0x2000
00061a  4630              MOV      r0,r6
00061c  f7fffffe          BL       GPIO_ResetBits
;;;370                    GPIO_SetBits(GPIOC,GPIO_Pin_1);//´ò¿ªµçÔ´Êä³ö
000620  2102              MOVS     r1,#2
000622  4630              MOV      r0,r6
000624  f7fffffe          BL       GPIO_SetBits
;;;371                    powcount++;
000628  8938              LDRH     r0,[r7,#8]  ; powcount
00062a  1c40              ADDS     r0,r0,#1
00062c  8138              STRH     r0,[r7,#8]
                  |L4.1582|
;;;372    //                 shortv = DISS_Voltage;
;;;373                }else{
;;;374                    SET_Current_Laod = 1000;
;;;375                    powcount = 0;
;;;376                    finishflag = 0;
;;;377                    IO_OFF();                
;;;378                }
;;;379            }
;;;380        }    
;;;381    }
00062e  ecbd8b06          VPOP     {d8-d10}
000632  e8bd9ff0          POP      {r4-r12,pc}
                  |L4.1590|
000636  f8c5a010          STR      r10,[r5,#0x10]        ;374  ; Run_Control
00063a  813c              STRH     r4,[r7,#8]            ;375
00063c  81bc              STRH     r4,[r7,#0xc]          ;376
00063e  ecbd8b06          VPOP     {d8-d10}              ;377
000642  e8bd5ff0          POP      {r4-r12,lr}           ;377
000646  f7ffbffe          B.W      IO_OFF
;;;382    
                          ENDP

00064a  0000              DCW      0x0000
                  |L4.1612|
                          DCD      g_tModS+0x2b
                  |L4.1616|
                          DCD      0x40020000
                  |L4.1620|
                          DCD      t_onoff
                  |L4.1624|
000658  00000000          DCFS     0x00000000 ; 0
                  |L4.1628|
                          DCD      oc_data
                  |L4.1632|
                          DCD      DISS_Voltage
                  |L4.1636|
                          DCD      DISS_Current
                  |L4.1640|
                          DCD      0x3d4ccccd
                  |L4.1644|
                          DCD      short_time

                          AREA ||i.TIM4_Int_Init||, CODE, READONLY, ALIGN=2

                  TIM4_Int_Init PROC
;;;75     //?o???¡¦??? 3!
;;;76     void TIM4_Int_Init(u16 arr,u16 psc)
000000  b57f              PUSH     {r0-r6,lr}
;;;77     {
000002  4604              MOV      r4,r0
000004  460d              MOV      r5,r1
;;;78         TIM_TimeBaseInitTypeDef TIM_TimeBaseInitStructure;
;;;79         NVIC_InitTypeDef NVIC_InitStructure;
;;;80         
;;;81         RCC_APB1PeriphClockCmd(RCC_APB1Periph_TIM4,ENABLE); //¨´?? TIM3 ??
000006  2101              MOVS     r1,#1
000008  2004              MOVS     r0,#4
00000a  f7fffffe          BL       RCC_APB1PeriphClockCmd
;;;82         TIM_TimeBaseInitStructure.TIM_Period = arr; //??????
00000e  9402              STR      r4,[sp,#8]
;;;83         TIM_TimeBaseInitStructure.TIM_Prescaler=psc; //?????
000010  f8ad5004          STRH     r5,[sp,#4]
;;;84         TIM_TimeBaseInitStructure.TIM_CounterMode=TIM_CounterMode_Up; //§Ó?????
000014  2000              MOVS     r0,#0
000016  f8ad0006          STRH     r0,[sp,#6]
;;;85         TIM_TimeBaseInitStructure.TIM_ClockDivision=TIM_CKD_DIV1;
00001a  f8ad000c          STRH     r0,[sp,#0xc]
;;;86         TIM_TimeBaseInit(TIM4,&TIM_TimeBaseInitStructure);// ¨²?????? TIM3
00001e  4c0e              LDR      r4,|L5.88|
000020  a901              ADD      r1,sp,#4
000022  4620              MOV      r0,r4
000024  f7fffffe          BL       TIM_TimeBaseInit
;;;87         TIM_ITConfig(TIM4,TIM_IT_Update,ENABLE); //?????? 3 ?§ä??
000028  2201              MOVS     r2,#1
00002a  4611              MOV      r1,r2
00002c  4620              MOV      r0,r4
00002e  f7fffffe          BL       TIM_ITConfig
;;;88         NVIC_InitStructure.NVIC_IRQChannel=TIM4_IRQn; //??? 3 ??
000032  211e              MOVS     r1,#0x1e
000034  f88d1000          STRB     r1,[sp,#0]
;;;89         NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority=0x01; //????? 1
000038  2101              MOVS     r1,#1
00003a  f88d1001          STRB     r1,[sp,#1]
;;;90         NVIC_InitStructure.NVIC_IRQChannelSubPriority=0x03; //§¾???? 3
00003e  2203              MOVS     r2,#3
000040  f88d2002          STRB     r2,[sp,#2]
;;;91         NVIC_InitStructure.NVIC_IRQChannelCmd=ENABLE;
000044  f88d1003          STRB     r1,[sp,#3]
;;;92         NVIC_Init(&NVIC_InitStructure);// ¨¹??? NVIC
000048  4668              MOV      r0,sp
00004a  f7fffffe          BL       NVIC_Init
;;;93         TIM_Cmd(TIM4,ENABLE); //Y????? 3
00004e  2101              MOVS     r1,#1
000050  4620              MOV      r0,r4
000052  f7fffffe          BL       TIM_Cmd
;;;94     }
000056  bd7f              POP      {r0-r6,pc}
;;;95     //??? 3 ??????
                          ENDP

                  |L5.88|
                          DCD      0x40000800

                          AREA ||i.TIM5_IRQHandler||, CODE, READONLY, ALIGN=2

                  TIM5_IRQHandler PROC
;;;616    
;;;617    void TIM5_IRQHandler(void)
000000  b510              PUSH     {r4,lr}
;;;618    {
;;;619        
;;;620        if(TIM_GetITStatus(TIM5,TIM_IT_Update)==SET) //Ó§Ô¶××
000002  4c0a              LDR      r4,|L6.44|
000004  2101              MOVS     r1,#1
000006  4620              MOV      r0,r4
000008  f7fffffe          BL       TIM_GetITStatus
00000c  2801              CMP      r0,#1
00000e  d10b              BNE      |L6.40|
;;;621        {
;;;622            TIM_ClearITPendingBit(TIM5,TIM_IT_Update); //æ¸…é™¤ä¸­æ–­æ ‡å¿—ä½?
000010  2101              MOVS     r1,#1
000012  4620              MOV      r0,r4
000014  f7fffffe          BL       TIM_ClearITPendingBit
;;;623            Tick_10ms ++;
000018  4805              LDR      r0,|L6.48|
00001a  6901              LDR      r1,[r0,#0x10]  ; Tick_10ms
00001c  1c49              ADDS     r1,r1,#1
00001e  6101              STR      r1,[r0,#0x10]  ; Tick_10ms
;;;624            MODS_Poll();
000020  e8bd4010          POP      {r4,lr}
000024  f7ffbffe          B.W      MODS_Poll
                  |L6.40|
;;;625        }
;;;626    }
000028  bd10              POP      {r4,pc}
;;;627    
                          ENDP

00002a  0000              DCW      0x0000
                  |L6.44|
                          DCD      0x40000c00
                  |L6.48|
                          DCD      ||.data||

                          AREA ||i.TIM5_Int_Init||, CODE, READONLY, ALIGN=2

                  TIM5_Int_Init PROC
;;;595    
;;;596    void TIM5_Int_Init(u16 arr,u16 psc)
000000  b57f              PUSH     {r0-r6,lr}
;;;597    {
000002  4604              MOV      r4,r0
000004  460d              MOV      r5,r1
;;;598        TIM_TimeBaseInitTypeDef TIM_TimeBaseInitStructure;
;;;599        NVIC_InitTypeDef NVIC_InitStructure;
;;;600        
;;;601        RCC_APB1PeriphClockCmd(RCC_APB1Periph_TIM5,ENABLE); //Ã™Ê¹Åœ TIM3 Ê±×“
000006  2101              MOVS     r1,#1
000008  2008              MOVS     r0,#8
00000a  f7fffffe          BL       RCC_APB1PeriphClockCmd
;;;602        TIM_TimeBaseInitStructure.TIM_Period = arr; //Ø”Ö¯×˜×°Õ˜Öµ
00000e  9402              STR      r4,[sp,#8]
;;;603        TIM_TimeBaseInitStructure.TIM_Prescaler=psc; //Ö¨Ê±Ç·Ø–Æµ
000010  f8ad5004          STRH     r5,[sp,#4]
;;;604        TIM_TimeBaseInitStructure.TIM_CounterMode=TIM_CounterMode_Up; //Ð²ÊÝ†Ë½Ä£Ê½
000014  2000              MOVS     r0,#0
000016  f8ad0006          STRH     r0,[sp,#6]
;;;605        TIM_TimeBaseInitStructure.TIM_ClockDivision=TIM_CKD_DIV1;
00001a  f8ad000c          STRH     r0,[sp,#0xc]
;;;606        TIM_TimeBaseInit(TIM5,&TIM_TimeBaseInitStructure);// ÃšÔµÊ¼Û¯Ö¨Ê±Ç· TIM3
00001e  4c0e              LDR      r4,|L7.88|
000020  a901              ADD      r1,sp,#4
000022  4620              MOV      r0,r4
000024  f7fffffe          BL       TIM_TimeBaseInit
;;;607        TIM_ITConfig(TIM5,TIM_IT_Update,ENABLE); //Ã›ÕŠÑ­Ö¨Ê±Ç· 3 Ù¼Ñ‚××
000028  2201              MOVS     r2,#1
00002a  4611              MOV      r1,r2
00002c  4620              MOV      r0,r4
00002e  f7fffffe          BL       TIM_ITConfig
;;;608        NVIC_InitStructure.NVIC_IRQChannel=TIM5_IRQn; //Ö¨Ê±Ç· 3 ××
000032  2132              MOVS     r1,#0x32
000034  f88d1000          STRB     r1,[sp,#0]
;;;609        NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority=0x01; //È€Õ¼Ô…ÐˆÜ¶ 1
000038  2101              MOVS     r1,#1
00003a  f88d1001          STRB     r1,[sp,#1]
;;;610        NVIC_InitStructure.NVIC_IRQChannelSubPriority=0x02; //Ð¬Ó¦Ô…ÐˆÜ¶ 3
00003e  2202              MOVS     r2,#2
000040  f88d2002          STRB     r2,[sp,#2]
;;;611        NVIC_InitStructure.NVIC_IRQChannelCmd=ENABLE;
000044  f88d1003          STRB     r1,[sp,#3]
;;;612        NVIC_Init(&NVIC_InitStructure);// ÃœÔµÊ¼Û¯ NVIC
000048  4668              MOV      r0,sp
00004a  f7fffffe          BL       NVIC_Init
;;;613        TIM_Cmd(TIM5,ENABLE); //ÃÊ¹ÅœÖ¨Ê±Ç· 3
00004e  2101              MOVS     r1,#1
000050  4620              MOV      r0,r4
000052  f7fffffe          BL       TIM_Cmd
;;;614    }
000056  bd7f              POP      {r0-r6,pc}
;;;615    
                          ENDP

                  |L7.88|
                          DCD      0x40000c00

                          AREA ||i.TIM6_Config||, CODE, READONLY, ALIGN=2

                  TIM6_Config PROC
;;;382    
;;;383    void TIM6_Config(void)
000000  b53e              PUSH     {r1-r5,lr}
;;;384    {
;;;385    	TIM_TimeBaseInitTypeDef  TIM_TimeBaseStructure;
;;;386    	/* TIM3 ??? ---------------------------------------------------
;;;387       TIM3 ????(TIM3CLK) ??? APB2 ?? (PCLK2)    
;;;388        => TIM3CLK = PCLK2 = SystemCoreClock
;;;389       TIM3CLK = SystemCoreClock, Prescaler = 0, TIM3 counter clock = SystemCoreClock
;;;390       SystemCoreClock ?48 MHz */
;;;391      /* TIM16 ???? */
;;;392      RCC_APB1PeriphClockCmd(RCC_APB1Periph_TIM6,ENABLE);
000002  2101              MOVS     r1,#1
000004  2010              MOVS     r0,#0x10
000006  f7fffffe          BL       RCC_APB1PeriphClockCmd
;;;393    	
;;;394      /* Time ??????*/
;;;395      TIM_TimeBaseStructure.TIM_Prescaler = 4800-1;//?????
00000a  f24120bf          MOV      r0,#0x12bf
00000e  f8ad0000          STRH     r0,[sp,#0]
;;;396      TIM_TimeBaseStructure.TIM_CounterMode = TIM_CounterMode_Up;  /* Time ????????????*/
000012  2000              MOVS     r0,#0
000014  f8ad0002          STRH     r0,[sp,#2]
;;;397      TIM_TimeBaseStructure.TIM_Period = 5000;
000018  f2413188          MOV      r1,#0x1388
00001c  9101              STR      r1,[sp,#4]
;;;398      TIM_TimeBaseStructure.TIM_ClockDivision = TIM_CKD_DIV1;
00001e  f8ad0008          STRH     r0,[sp,#8]
;;;399    //  TIM_TimeBaseStructure.TIM_RepetitionCounter = 0;
;;;400    
;;;401      TIM_TimeBaseInit(TIM6,&TIM_TimeBaseStructure);
000022  4c0a              LDR      r4,|L8.76|
000024  4669              MOV      r1,sp
000026  4620              MOV      r0,r4
000028  f7fffffe          BL       TIM_TimeBaseInit
;;;402    	TIM_ITConfig(TIM6,TIM_IT_Update,ENABLE);//??????§ä??
00002c  2201              MOVS     r2,#1
00002e  4611              MOV      r1,r2
000030  4620              MOV      r0,r4
000032  f7fffffe          BL       TIM_ITConfig
;;;403    	TIM_SetAutoreload(TIM6, 0xFF);//??PWM??¨º
000036  21ff              MOVS     r1,#0xff
000038  4620              MOV      r0,r4
00003a  f7fffffe          BL       TIM_SetAutoreload
;;;404    	TIM6_NVIC_Config();
00003e  f7fffffe          BL       TIM6_NVIC_Config
;;;405      /* TIM3 ?????*/
;;;406      TIM_Cmd(TIM6, ENABLE);
000042  2101              MOVS     r1,#1
000044  4620              MOV      r0,r4
000046  f7fffffe          BL       TIM_Cmd
;;;407    }
00004a  bd3e              POP      {r1-r5,pc}
;;;408    /***********************************************************************/
                          ENDP

                  |L8.76|
                          DCD      0x40001000

                          AREA ||i.TIM6_NVIC_Config||, CODE, READONLY, ALIGN=1

                  TIM6_NVIC_Config PROC
;;;408    /***********************************************************************/
;;;409    static void TIM6_NVIC_Config(void)
000000  b508              PUSH     {r3,lr}
;;;410    {
;;;411    	NVIC_InitTypeDef NVIC_InitStructure; 
;;;412    	
;;;413    	/* Enable the USART1 Interrupt */
;;;414    	NVIC_InitStructure.NVIC_IRQChannel = TIM6_DAC_IRQn;	 
000002  2036              MOVS     r0,#0x36
000004  f88d0000          STRB     r0,[sp,#0]
;;;415    	NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0x01;
000008  2001              MOVS     r0,#1
00000a  f88d0001          STRB     r0,[sp,#1]
;;;416    	NVIC_InitStructure.NVIC_IRQChannelSubPriority = 0x03;
00000e  2103              MOVS     r1,#3
000010  f88d1002          STRB     r1,[sp,#2]
;;;417    	NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
000014  f88d0003          STRB     r0,[sp,#3]
;;;418    	NVIC_Init(&NVIC_InitStructure);
000018  4668              MOV      r0,sp
00001a  f7fffffe          BL       NVIC_Init
;;;419    }
00001e  bd08              POP      {r3,pc}
;;;420    
                          ENDP


                          AREA ||.data||, DATA, ALIGN=2

                  usartocflag
000000  00                DCB      0x00
                  usartshortflag
000001  00                DCB      0x00
                  calert
000002  00                DCB      0x00
                  resetflag
000003  00                DCB      0x00
                  resetcount
000004  0000              DCB      0x00,0x00
                  uocount
000006  0000              DCB      0x00,0x00
                  powcount
000008  0000              DCB      0x00,0x00
                  powflag
00000a  0000              DCB      0x00,0x00
                  finishflag
00000c  00000000          DCB      0x00,0x00,0x00,0x00
                  Tick_10ms
                          DCD      0x00000000
                  crec1
                          DCD      0x00000000
                  crec2
                          DCD      0x00000000
                  ctime
                          DCD      0x00000000
                  dctime
                          DCD      0x00000000
                  testi
                          DCD      0x00000000
                  bc_raw
                          DCD      0x00000000
                  cbc_raw
                          DCD      0x00000000
                  c_sum
                          DCD      0x00000000
                  OldTick
                          DCD      0x00000000
                  shortv
                          DCD      0x00000000

                          AREA ||area_number.13||, DATA, ALIGN=1

                          EXPORTAS ||area_number.13||, ||.data||
                  battery_c
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.14||, DATA, ALIGN=0

                          EXPORTAS ||area_number.14||, ||.data||
                  resdone
000000  00                DCB      0x00

                          AREA ||area_number.15||, DATA, ALIGN=2

                          EXPORTAS ||area_number.15||, ||.data||
                  watch
                          DCD      0x00000000

;*** Start embedded assembler ***

#line 1 "..\\drive\\TIM6.c"
	AREA ||.rev16_text||, CODE
	THUMB
	EXPORT |__asm___6_TIM6_c_119e0187____REV16|
#line 129 "D:\\Keil_v5\\ARM\\CMSIS\\Include\\core_cmInstr.h"
|__asm___6_TIM6_c_119e0187____REV16| PROC
#line 130

 rev16 r0, r0
 bx lr
	ENDP
	AREA ||.revsh_text||, CODE
	THUMB
	EXPORT |__asm___6_TIM6_c_119e0187____REVSH|
#line 144
|__asm___6_TIM6_c_119e0187____REVSH| PROC
#line 145

 revsh r0, r0
 bx lr
	ENDP

;*** End   embedded assembler ***
