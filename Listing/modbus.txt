; generated by Component: ARM Compiler 5.06 update 6 (build 750) Tool: ArmCC [4d3637]
; commandline ArmCC [--list --split_sections --debug -c --asm --interleave -o..\output\modbus.o --asm_dir=..\Listing\ --list_dir=..\Listing\ --depend=..\output\modbus.d --cpu=Cortex-M4.fp --apcs=interwork -O1 --diag_suppress=9931,870 -I..\APP -I..\drive -I..\Include -I..\Libraries\CMSIS\inc -I..\Libraries\CMSIS\src -I..\Libraries\FWlib\inc -I..\Libraries\FWlib\src -I..\Listing -I..\Output -I..\Project -I..\STemWinLibrary522\Config -I..\STemWinLibrary522\emWinTask -I..\STemWinLibrary522\GUILib -I..\STemWinLibrary522\inc -I..\User -I..\USB\STM32_USB_HOST_Library\Class\HID\inc -I..\USB\STM32_USB_HOST_Library\Class\MSC\src -I..\USB\STM32_USB_HOST_Library\Core\src -I..\USB\USB_APP -I..\USB\STM32_USB_HOST_Library\Class\HID\src -I..\USB\STM32_USB_HOST_Library\Class\MSC\inc -I..\USB\STM32_USB_HOST_Library\Core\inc -I..\USB\STM32_USB_OTG_Driver\inc -I..\FATFS\exfuns -I..\FATFS\src\option -I..\FATFS\src -I..\MALLOC -I..\FATFS -I..\IAP -ID:\Keil_v5\ARM\RV31\INC -ID:\Keil_v5\ARM\CMSIS\Include -ID:\Keil_v5\ARM\INC\ST\STM32F4xx -D__UVISION_VERSION=525 -DUSE_STDPERIPH_DRIVER -DSTM32F40XX -DUSE_USB_OTG_FS -DUSE_EMBEDDED_PHY -DUSE_USB_OTG_HS -DSTM32F40XX --omf_browse=..\output\modbus.crf --no_multibyte_chars ..\drive\modbus.c]
                          THUMB

                          AREA ||i.Hardware_CRC||, CODE, READONLY, ALIGN=1

                  Hardware_CRC PROC
;;;1149   //-----------------------------CRC检测--------------------------------------------//
;;;1150   vu16 Hardware_CRC(vu8 *p_buffer,vu8 count)    //CRC16
000000  b503              PUSH     {r0,r1,lr}
;;;1151   {
000002  b082              SUB      sp,sp,#8
;;;1152   	vu16 CRC_Result=0xffff;
000004  f64f71ff          MOV      r1,#0xffff
000008  9101              STR      r1,[sp,#4]
;;;1153   	vu8 i;
;;;1154   	if(count==0)
00000a  f89d100c          LDRB     r1,[sp,#0xc]
00000e  2900              CMP      r1,#0
000010  d126              BNE      |L1.96|
;;;1155   	{
;;;1156   		count=1;
000012  2101              MOVS     r1,#1
000014  9103              STR      r1,[sp,#0xc]
000016  e023              B        |L1.96|
                  |L1.24|
;;;1157   	}
;;;1158   	while(count--)
;;;1159   	{
;;;1160   		CRC_Result^=*p_buffer;
000018  7801              LDRB     r1,[r0,#0]
00001a  f8bd2004          LDRH     r2,[sp,#4]
00001e  4051              EORS     r1,r1,r2
000020  9101              STR      r1,[sp,#4]
;;;1161   		for(i=0;i<8;i++)
000022  2100              MOVS     r1,#0
000024  9100              STR      r1,[sp,#0]
;;;1162   		{
;;;1163   			if(CRC_Result&1)
;;;1164   			{
;;;1165   				CRC_Result>>=1;
;;;1166   				CRC_Result^=0xA001;
000026  f24a0201          MOV      r2,#0xa001
00002a  e014              B        |L1.86|
                  |L1.44|
00002c  f8bd1004          LDRH     r1,[sp,#4]            ;1163
000030  07c9              LSLS     r1,r1,#31             ;1163
000032  d008              BEQ      |L1.70|
000034  f8bd1004          LDRH     r1,[sp,#4]            ;1165
000038  0849              LSRS     r1,r1,#1              ;1165
00003a  9101              STR      r1,[sp,#4]            ;1165
00003c  f8bd1004          LDRH     r1,[sp,#4]
000040  4051              EORS     r1,r1,r2
000042  9101              STR      r1,[sp,#4]
000044  e003              B        |L1.78|
                  |L1.70|
;;;1167   			}
;;;1168   			else 
;;;1169   			{
;;;1170   				CRC_Result>>=1;
000046  f8bd1004          LDRH     r1,[sp,#4]
00004a  0849              LSRS     r1,r1,#1
00004c  9101              STR      r1,[sp,#4]
                  |L1.78|
00004e  f89d1000          LDRB     r1,[sp,#0]            ;1161
000052  1c49              ADDS     r1,r1,#1              ;1161
000054  9100              STR      r1,[sp,#0]            ;1161
                  |L1.86|
000056  f89d1000          LDRB     r1,[sp,#0]            ;1161
00005a  2908              CMP      r1,#8                 ;1161
00005c  d3e6              BCC      |L1.44|
;;;1171   			}
;;;1172   		}
;;;1173   		p_buffer++;
00005e  1c40              ADDS     r0,r0,#1
                  |L1.96|
000060  f89d100c          LDRB     r1,[sp,#0xc]          ;1158
000064  1e4a              SUBS     r2,r1,#1              ;1158
000066  9203              STR      r2,[sp,#0xc]          ;1158
000068  d2d6              BCS      |L1.24|
;;;1174   	}
;;;1175   	return CRC_Result;
00006a  f8bd0004          LDRH     r0,[sp,#4]
;;;1176   }
00006e  b004              ADD      sp,sp,#0x10
000070  bd00              POP      {pc}
                          ENDP


                          AREA ||i.Transformation_ADC||, CODE, READONLY, ALIGN=2

                  Transformation_ADC PROC
;;;749    //===============================AD值转换成测量值============================================//
;;;750    void Transformation_ADC(void)  
000000  e92d41f8          PUSH     {r3-r8,lr}
;;;751    {
;;;752        static u32 rave;
;;;753        static u8 rcount;
;;;754    	vu32 var32;
;;;755    	vu32 var32a;
;;;756    /*****************************内阻测量电压转换*******************************************/
;;;757    	if(r_raly == 1)
000004  4efe              LDR      r6,|L2.1024|
000006  7830              LDRB     r0,[r6,#0]  ; r_raly
;;;758        {
;;;759            var32 = Vmon1_value;
000008  4bfe              LDR      r3,|L2.1028|
00000a  2801              CMP      r0,#1                 ;757
00000c  d002              BEQ      |L2.20|
;;;760        }else if(r_raly == 0){
00000e  7830              LDRB     r0,[r6,#0]  ; r_raly
000010  b118              CBZ      r0,|L2.26|
000012  e005              B        |L2.32|
                  |L2.20|
000014  6818              LDR      r0,[r3,#0]            ;759  ; Vmon1_value
000016  9000              STR      r0,[sp,#0]            ;759
000018  e002              B        |L2.32|
                  |L2.26|
;;;761            var32 = Vmon1_value - 5;
00001a  6818              LDR      r0,[r3,#0]  ; Vmon1_value
00001c  1f40              SUBS     r0,r0,#5
00001e  9000              STR      r0,[sp,#0]
                  |L2.32|
;;;762        }
;;;763    	var32 = var32 * REG_CorrectionV;  
000020  4af9              LDR      r2,|L2.1032|
000022  6810              LDR      r0,[r2,#0]  ; Correct_Parametet
000024  9900              LDR      r1,[sp,#0]
000026  4348              MULS     r0,r1,r0
000028  9000              STR      r0,[sp,#0]
;;;764    	if ((Polar & 0x01) == 0x01)		  
00002a  4df8              LDR      r5,|L2.1036|
00002c  7828              LDRB     r0,[r5,#0]  ; correct_por
;;;765    	{
;;;766    		if (var32 < REG_ReadV_Offset) 
00002e  f04f0100          MOV      r1,#0
000032  07c4              LSLS     r4,r0,#31             ;764
000034  f1020054          ADD      r0,r2,#0x54
000038  d00a              BEQ      |L2.80|
00003a  6804              LDR      r4,[r0,#0]  ; Correct_Strong
00003c  9f00              LDR      r7,[sp,#0]
00003e  42bc              CMP      r4,r7
000040  d901              BLS      |L2.70|
;;;767    		{
;;;768    			var32 = 0;
000042  9100              STR      r1,[sp,#0]
000044  e008              B        |L2.88|
                  |L2.70|
;;;769    		}
;;;770    		else var32 = var32 - REG_ReadV_Offset;
000046  6804              LDR      r4,[r0,#0]  ; Correct_Strong
000048  9f00              LDR      r7,[sp,#0]
00004a  1b3c              SUBS     r4,r7,r4
00004c  9400              STR      r4,[sp,#0]
00004e  e003              B        |L2.88|
                  |L2.80|
;;;771    	}
;;;772    	else var32 = var32 + REG_ReadV_Offset;
000050  6804              LDR      r4,[r0,#0]  ; Correct_Strong
000052  9f00              LDR      r7,[sp,#0]
000054  443c              ADD      r4,r4,r7
000056  9400              STR      r4,[sp,#0]
                  |L2.88|
;;;773    	var32 = var32 >> 12;
000058  9c00              LDR      r4,[sp,#0]
00005a  0b24              LSRS     r4,r4,#12
00005c  9400              STR      r4,[sp,#0]
;;;774    	if (var32 < 30) var32 = 0;				  //40mV以下清零
00005e  9c00              LDR      r4,[sp,#0]
000060  2c1e              CMP      r4,#0x1e
000062  d200              BCS      |L2.102|
000064  9100              STR      r1,[sp,#0]
                  |L2.102|
;;;775    	Voltage = var32;
000066  4ce8              LDR      r4,|L2.1032|
000068  9f00              LDR      r7,[sp,#0]
00006a  34a8              ADDS     r4,r4,#0xa8
00006c  62a7              STR      r7,[r4,#0x28]  ; Run_Control
;;;776    	DISS_Voltage=Voltage;
00006e  6aa7              LDR      r7,[r4,#0x28]  ; Run_Control
000070  ee007a10          VMOV     s0,r7
000074  4fe6              LDR      r7,|L2.1040|
000076  eeb81a40          VCVT.F32.U32 s2,s0
;;;777    	DISS_Voltage=DISS_Voltage/1000;//计算显示电压
00007a  ed9f0ae6          VLDR     s0,|L2.1044|
00007e  eec10a00          VDIV.F32 s1,s2,s0
000082  edc70a00          VSTR     s1,[r7,#0]
;;;778        if(DISS_Voltage < 0.5)
000086  ee10ca90          VMOV     r12,s1
00008a  f1bc5f7c          CMP      r12,#0x3f000000
00008e  da42              BGE      |L2.278|
;;;779        {
;;;780    //         if(r_raly == 1)
;;;781    //         {
;;;782    //             var32 = Vmon1_value;
;;;783    //         }else if(r_raly == 0){
;;;784    //             var32 = Vmon1_value + 85;
;;;785    //         }
;;;786            var32 = Vmon1_value;
000090  f8d3c000          LDR      r12,[r3,#0]  ; Vmon1_value
000094  f8cdc000          STR      r12,[sp,#0]
;;;787            var32 = var32 * REG_CorrectionV;  
000098  f8d2c000          LDR      r12,[r2,#0]  ; Correct_Parametet
00009c  f8dd8000          LDR      r8,[sp,#0]
0000a0  fb0cfc08          MUL      r12,r12,r8
0000a4  f8cdc000          STR      r12,[sp,#0]
;;;788            if ((Polar & 0x01) == 0x01)		  
0000a8  f895c000          LDRB     r12,[r5,#0]  ; correct_por
0000ac  ea5f7ccc          LSLS     r12,r12,#31
0000b0  d010              BEQ      |L2.212|
;;;789            {
;;;790                if (var32 < REG_ReadV_Offset) 
0000b2  f8d0c000          LDR      r12,[r0,#0]  ; Correct_Strong
0000b6  f8dd8000          LDR      r8,[sp,#0]
0000ba  45c4              CMP      r12,r8
0000bc  d901              BLS      |L2.194|
;;;791                {
;;;792                    var32 = 0;
0000be  9100              STR      r1,[sp,#0]
0000c0  e00f              B        |L2.226|
                  |L2.194|
;;;793                }
;;;794                else var32 = var32 - REG_ReadV_Offset;
0000c2  f8d0c000          LDR      r12,[r0,#0]  ; Correct_Strong
0000c6  f8dd8000          LDR      r8,[sp,#0]
0000ca  eba80c0c          SUB      r12,r8,r12
0000ce  f8cdc000          STR      r12,[sp,#0]
0000d2  e006              B        |L2.226|
                  |L2.212|
;;;795            }
;;;796            else var32 = var32 + REG_ReadV_Offset;
0000d4  f8d0c000          LDR      r12,[r0,#0]  ; Correct_Strong
0000d8  f8dd8000          LDR      r8,[sp,#0]
0000dc  44c4              ADD      r12,r12,r8
0000de  f8cdc000          STR      r12,[sp,#0]
                  |L2.226|
;;;797            var32 = var32 >> 12;
0000e2  f8ddc000          LDR      r12,[sp,#0]
0000e6  ea4f3c1c          LSR      r12,r12,#12
0000ea  f8cdc000          STR      r12,[sp,#0]
;;;798            if (var32 < 30) var32 = 0;				  //40mV去拢
0000ee  f8ddc000          LDR      r12,[sp,#0]
0000f2  f1bc0f1e          CMP      r12,#0x1e
0000f6  d200              BCS      |L2.250|
0000f8  9100              STR      r1,[sp,#0]
                  |L2.250|
;;;799            Voltage = var32;
0000fa  f8ddc000          LDR      r12,[sp,#0]
0000fe  f8c4c028          STR      r12,[r4,#0x28]  ; Run_Control
;;;800            DISS_Voltage=Voltage;
000102  f8d4c028          LDR      r12,[r4,#0x28]  ; Run_Control
000106  ee00ca90          VMOV     s1,r12
00010a  eef80a60          VCVT.F32.U32 s1,s1
;;;801            DISS_Voltage=DISS_Voltage/1000;//蹋示支压
00010e  ee801a80          VDIV.F32 s2,s1,s0
000112  ed871a00          VSTR     s2,[r7,#0]
                  |L2.278|
;;;802        }
;;;803        if(DISS_Voltage >= 10)
000116  f8df8300          LDR      r8,|L2.1048|
00011a  f8d7c000          LDR      r12,[r7,#0]  ; DISS_Voltage
00011e  45c4              CMP      r12,r8
000120  db54              BLT      |L2.460|
;;;804        {
;;;805            if(r_raly == 1)
000122  f896c000          LDRB     r12,[r6,#0]  ; r_raly
000126  f1bc0f01          CMP      r12,#1
00012a  d005              BEQ      |L2.312|
;;;806            {
;;;807                var32 = Vmon1_value;
;;;808            }else if(r_raly == 0){
00012c  f896c000          LDRB     r12,[r6,#0]  ; r_raly
000130  f1bc0f00          CMP      r12,#0
000134  d005              BEQ      |L2.322|
000136  e00a              B        |L2.334|
                  |L2.312|
000138  f8d3c000          LDR      r12,[r3,#0]           ;807  ; Vmon1_value
00013c  f8cdc000          STR      r12,[sp,#0]           ;807
000140  e005              B        |L2.334|
                  |L2.322|
;;;809                var32 = Vmon1_value - 5;
000142  f8d3c000          LDR      r12,[r3,#0]  ; Vmon1_value
000146  f1ac0c05          SUB      r12,r12,#5
00014a  f8cdc000          STR      r12,[sp,#0]
                  |L2.334|
;;;810            }
;;;811            var32 = var32 * REG_CorrectionV1;  
00014e  f8d2c034          LDR      r12,[r2,#0x34]  ; Correct_Parametet
000152  f8dd8000          LDR      r8,[sp,#0]
000156  fb0cfc08          MUL      r12,r12,r8
00015a  f8cdc000          STR      r12,[sp,#0]
;;;812            if ((Polar & 0x01) == 0x01)		  
00015e  f895c000          LDRB     r12,[r5,#0]  ; correct_por
000162  ea5f7ccc          LSLS     r12,r12,#31
000166  d010              BEQ      |L2.394|
;;;813            {
;;;814                if (var32 < REG_ReadV_Offset1) 
000168  f8d0c034          LDR      r12,[r0,#0x34]  ; Correct_Strong
00016c  f8dd8000          LDR      r8,[sp,#0]
000170  45c4              CMP      r12,r8
000172  d901              BLS      |L2.376|
;;;815                {
;;;816                    var32 = 0;
000174  9100              STR      r1,[sp,#0]
000176  e00f              B        |L2.408|
                  |L2.376|
;;;817                }
;;;818                else var32 = var32 - REG_ReadV_Offset1;
000178  f8d0c034          LDR      r12,[r0,#0x34]  ; Correct_Strong
00017c  f8dd8000          LDR      r8,[sp,#0]
000180  eba80c0c          SUB      r12,r8,r12
000184  f8cdc000          STR      r12,[sp,#0]
000188  e006              B        |L2.408|
                  |L2.394|
;;;819            }
;;;820            else var32 = var32 + REG_ReadV_Offset1;
00018a  f8d0c034          LDR      r12,[r0,#0x34]  ; Correct_Strong
00018e  f8dd8000          LDR      r8,[sp,#0]
000192  44c4              ADD      r12,r12,r8
000194  f8cdc000          STR      r12,[sp,#0]
                  |L2.408|
;;;821            var32 = var32 >> 12;
000198  f8ddc000          LDR      r12,[sp,#0]
00019c  ea4f3c1c          LSR      r12,r12,#12
0001a0  f8cdc000          STR      r12,[sp,#0]
;;;822            if (var32 < 30) var32 = 0;				  //40mV以下清零
0001a4  f8ddc000          LDR      r12,[sp,#0]
0001a8  f1bc0f1e          CMP      r12,#0x1e
0001ac  d200              BCS      |L2.432|
0001ae  9100              STR      r1,[sp,#0]
                  |L2.432|
;;;823            Voltage = var32;
0001b0  f8ddc000          LDR      r12,[sp,#0]
0001b4  f8c4c028          STR      r12,[r4,#0x28]  ; Run_Control
;;;824            DISS_Voltage=Voltage;
0001b8  f8d4c028          LDR      r12,[r4,#0x28]  ; Run_Control
0001bc  ee00ca90          VMOV     s1,r12
0001c0  eef80a60          VCVT.F32.U32 s1,s1
;;;825            DISS_Voltage=DISS_Voltage/1000;//计算显示电压
0001c4  ee801a80          VDIV.F32 s2,s1,s0
0001c8  ed871a00          VSTR     s2,[r7,#0]
                  |L2.460|
;;;826        }
;;;827        if(DISS_Voltage >= 30)
0001cc  f8df824c          LDR      r8,|L2.1052|
0001d0  f8d7c000          LDR      r12,[r7,#0]  ; DISS_Voltage
0001d4  45c4              CMP      r12,r8
0001d6  db3e              BLT      |L2.598|
;;;828        {
;;;829            if(r_raly == 1)
0001d8  f896c000          LDRB     r12,[r6,#0]  ; r_raly
0001dc  f1bc0f01          CMP      r12,#1
0001e0  d005              BEQ      |L2.494|
;;;830            {
;;;831                var32 = Vmon1_value;
;;;832            }else if(r_raly == 0){
0001e2  f896c000          LDRB     r12,[r6,#0]  ; r_raly
0001e6  f1bc0f00          CMP      r12,#0
0001ea  d003              BEQ      |L2.500|
0001ec  e005              B        |L2.506|
                  |L2.494|
0001ee  681b              LDR      r3,[r3,#0]            ;831  ; Vmon1_value
0001f0  9300              STR      r3,[sp,#0]            ;831
0001f2  e002              B        |L2.506|
                  |L2.500|
;;;833                var32 = Vmon1_value - 5;
0001f4  681b              LDR      r3,[r3,#0]  ; Vmon1_value
0001f6  1f5b              SUBS     r3,r3,#5
0001f8  9300              STR      r3,[sp,#0]
                  |L2.506|
;;;834            }
;;;835            var32 = var32 * REG_CorrectionV2;  
0001fa  6b93              LDR      r3,[r2,#0x38]  ; Correct_Parametet
0001fc  f8ddc000          LDR      r12,[sp,#0]
000200  fb03f30c          MUL      r3,r3,r12
000204  9300              STR      r3,[sp,#0]
;;;836            if ((Polar & 0x01) == 0x01)		  
000206  782b              LDRB     r3,[r5,#0]  ; correct_por
000208  07db              LSLS     r3,r3,#31
00020a  d00d              BEQ      |L2.552|
;;;837            {
;;;838                if (var32 < REG_ReadV_Offset2) 
00020c  6b83              LDR      r3,[r0,#0x38]  ; Correct_Strong
00020e  f8ddc000          LDR      r12,[sp,#0]
000212  4563              CMP      r3,r12
000214  d901              BLS      |L2.538|
;;;839                {
;;;840                    var32 = 0;
000216  9100              STR      r1,[sp,#0]
000218  e00b              B        |L2.562|
                  |L2.538|
;;;841                }
;;;842                else var32 = var32 - REG_ReadV_Offset2;
00021a  6b83              LDR      r3,[r0,#0x38]  ; Correct_Strong
00021c  f8ddc000          LDR      r12,[sp,#0]
000220  ebac0303          SUB      r3,r12,r3
000224  9300              STR      r3,[sp,#0]
000226  e004              B        |L2.562|
                  |L2.552|
;;;843            }
;;;844            else var32 = var32 + REG_ReadV_Offset2;
000228  6b83              LDR      r3,[r0,#0x38]  ; Correct_Strong
00022a  f8ddc000          LDR      r12,[sp,#0]
00022e  4463              ADD      r3,r3,r12
000230  9300              STR      r3,[sp,#0]
                  |L2.562|
;;;845            var32 = var32 >> 12;
000232  9b00              LDR      r3,[sp,#0]
000234  0b1b              LSRS     r3,r3,#12
000236  9300              STR      r3,[sp,#0]
;;;846            if (var32 < 30) var32 = 0;				  //40mV以下清零
000238  9b00              LDR      r3,[sp,#0]
00023a  2b1e              CMP      r3,#0x1e
00023c  d200              BCS      |L2.576|
00023e  9100              STR      r1,[sp,#0]
                  |L2.576|
;;;847            Voltage = var32;
000240  9b00              LDR      r3,[sp,#0]
000242  62a3              STR      r3,[r4,#0x28]  ; Run_Control
;;;848            DISS_Voltage=Voltage;
000244  6aa3              LDR      r3,[r4,#0x28]  ; Run_Control
000246  ee003a90          VMOV     s1,r3
00024a  eef80a60          VCVT.F32.U32 s1,s1
;;;849            DISS_Voltage=DISS_Voltage/1000;//计算显示电压
00024e  ee801a80          VDIV.F32 s2,s1,s0
000252  ed871a00          VSTR     s2,[r7,#0]
                  |L2.598|
;;;850        }
;;;851    	var32 = 0;
;;;852    	/*******************负载测量电流转换**************************************/
;;;853    	var32 = Imon1_value;
000256  4b72              LDR      r3,|L2.1056|
000258  681b              LDR      r3,[r3,#0]  ; Imon1_value
00025a  9300              STR      r3,[sp,#0]
;;;854    	var32 = var32 * REG_Load_A;  
00025c  6853              LDR      r3,[r2,#4]  ; Correct_Parametet
00025e  9f00              LDR      r7,[sp,#0]
000260  437b              MULS     r3,r7,r3
000262  9300              STR      r3,[sp,#0]
;;;855    	if ((Polar1 & 0x01) == 0x01)		  
000264  786b              LDRB     r3,[r5,#1]  ; correct_por
000266  07db              LSLS     r3,r3,#31
000268  d00a              BEQ      |L2.640|
;;;856    	{
;;;857    		if (var32 < REG_LoadA_Offset) 
00026a  6843              LDR      r3,[r0,#4]  ; Correct_Strong
00026c  9f00              LDR      r7,[sp,#0]
00026e  42bb              CMP      r3,r7
000270  d901              BLS      |L2.630|
;;;858    		{
;;;859    			var32 = 0;
000272  9100              STR      r1,[sp,#0]
000274  e008              B        |L2.648|
                  |L2.630|
;;;860    		}
;;;861    		else var32 = var32 - REG_LoadA_Offset;
000276  6843              LDR      r3,[r0,#4]  ; Correct_Strong
000278  9f00              LDR      r7,[sp,#0]
00027a  1afb              SUBS     r3,r7,r3
00027c  9300              STR      r3,[sp,#0]
00027e  e003              B        |L2.648|
                  |L2.640|
;;;862    	}
;;;863    	else var32 = var32 + REG_LoadA_Offset;
000280  6843              LDR      r3,[r0,#4]  ; Correct_Strong
000282  9f00              LDR      r7,[sp,#0]
000284  443b              ADD      r3,r3,r7
000286  9300              STR      r3,[sp,#0]
                  |L2.648|
;;;864    	var32 = var32 >> 12;
000288  9b00              LDR      r3,[sp,#0]
00028a  0b1b              LSRS     r3,r3,#12
00028c  9300              STR      r3,[sp,#0]
;;;865    	Laod_Current = var32;
00028e  9b00              LDR      r3,[sp,#0]
000290  6323              STR      r3,[r4,#0x30]  ; Run_Control
;;;866    	DISS_Current=Laod_Current;
000292  6b23              LDR      r3,[r4,#0x30]  ; Run_Control
000294  ee003a90          VMOV     s1,r3
000298  4b62              LDR      r3,|L2.1060|
00029a  eef80a60          VCVT.F32.U32 s1,s1
;;;867    	DISS_Current=DISS_Current/1000;//计算显示电流
00029e  ee801a80          VDIV.F32 s2,s1,s0
0002a2  ed831a00          VSTR     s2,[r3,#0]
;;;868    	var32 = 0;	
0002a6  9100              STR      r1,[sp,#0]
;;;869    	/*************************负载电压和电流控制转换**************************************/
;;;870    	if(flag_Load_CC==1)
0002a8  4b5f              LDR      r3,|L2.1064|
;;;871    	{
;;;872    		var32 = SET_Current_Laod;
;;;873    		var32=var32<<12;   
;;;874    		if ((Polar1 & 0x04) == 0)			   
;;;875    		{
;;;876    			if (var32 < SET_LoadA_Offset) var32 = 0;
;;;877    			else var32 = var32 - SET_LoadA_Offset;
;;;878    		}
;;;879    		else var32 = var32 + SET_LoadA_Offset;
;;;880    		var32 = var32/SET_LoadA;
;;;881    		var32=var32>>1;
;;;882    		if(Flag_DAC_OFF==0)
;;;883    		{
;;;884    			Contr_Laod = var32;
0002aa  4f61              LDR      r7,|L2.1072|
0002ac  781b              LDRB     r3,[r3,#0]            ;870  ; flagD
0002ae  ea5f6c03          LSLS     r12,r3,#24            ;870
0002b2  4b5e              LDR      r3,|L2.1068|
0002b4  681b              LDR      r3,[r3,#0]            ;882
0002b6  d53d              BPL      |L2.820|
0002b8  f8d4c010          LDR      r12,[r4,#0x10]        ;872  ; Run_Control
0002bc  f8cdc000          STR      r12,[sp,#0]           ;872
0002c0  f8ddc000          LDR      r12,[sp,#0]           ;873
0002c4  ea4f3c0c          LSL      r12,r12,#12           ;873
0002c8  f8cdc000          STR      r12,[sp,#0]           ;873
0002cc  f895c001          LDRB     r12,[r5,#1]           ;874  ; correct_por
0002d0  ea5f7c4c          LSLS     r12,r12,#29           ;874
0002d4  d410              BMI      |L2.760|
0002d6  f8d0c008          LDR      r12,[r0,#8]           ;876  ; Correct_Strong
0002da  f8dd8000          LDR      r8,[sp,#0]            ;876
0002de  45c4              CMP      r12,r8                ;876
0002e0  d901              BLS      |L2.742|
0002e2  9100              STR      r1,[sp,#0]            ;876
0002e4  e00f              B        |L2.774|
                  |L2.742|
0002e6  f8d0c008          LDR      r12,[r0,#8]           ;877  ; Correct_Strong
0002ea  f8dd8000          LDR      r8,[sp,#0]            ;877
0002ee  eba80c0c          SUB      r12,r8,r12            ;877
0002f2  f8cdc000          STR      r12,[sp,#0]           ;877
0002f6  e006              B        |L2.774|
                  |L2.760|
0002f8  f8d0c008          LDR      r12,[r0,#8]           ;879  ; Correct_Strong
0002fc  f8dd8000          LDR      r8,[sp,#0]            ;879
000300  44c4              ADD      r12,r12,r8            ;879
000302  f8cdc000          STR      r12,[sp,#0]           ;879
                  |L2.774|
000306  f8d2c008          LDR      r12,[r2,#8]           ;880  ; Correct_Parametet
00030a  f8dd8000          LDR      r8,[sp,#0]            ;880
00030e  fbb8fcfc          UDIV     r12,r8,r12            ;880
000312  f8cdc000          STR      r12,[sp,#0]           ;880
000316  f8ddc000          LDR      r12,[sp,#0]           ;881
00031a  ea4f0c5c          LSR      r12,r12,#1            ;881
00031e  f8cdc000          STR      r12,[sp,#0]           ;881
000322  071b              LSLS     r3,r3,#28             ;882
000324  d401              BMI      |L2.810|
000326  9b00              LDR      r3,[sp,#0]
000328  803b              STRH     r3,[r7,#0]
                  |L2.810|
;;;885    		}
;;;886    		if(SET_Current_Laod==0)
00032a  6923              LDR      r3,[r4,#0x10]  ; Run_Control
00032c  b903              CBNZ     r3,|L2.816|
;;;887    		{
;;;888    			Contr_Laod=0;
00032e  8039              STRH     r1,[r7,#0]
                  |L2.816|
;;;889    		}
;;;890    		var32 = 0;
000330  9100              STR      r1,[sp,#0]
000332  e03c              B        |L2.942|
                  |L2.820|
;;;891    	}
;;;892    	else
;;;893    	{
;;;894    		var32 = SET_Voltage_Laod;
000334  f8d4c00c          LDR      r12,[r4,#0xc]  ; Run_Control
000338  f8cdc000          STR      r12,[sp,#0]
;;;895    		var32=var32<<12;   
00033c  f8ddc000          LDR      r12,[sp,#0]
000340  ea4f3c0c          LSL      r12,r12,#12
000344  f8cdc000          STR      r12,[sp,#0]
;;;896    		if ((Polar2 & 0x04) == 0)			   
000348  f895c002          LDRB     r12,[r5,#2]  ; correct_por
00034c  ea5f7c4c          LSLS     r12,r12,#29
000350  d410              BMI      |L2.884|
;;;897    		{
;;;898    			if (var32 < SET_LoadA_Offset) var32 = 0;
000352  f8d0c008          LDR      r12,[r0,#8]  ; Correct_Strong
000356  f8dd8000          LDR      r8,[sp,#0]
00035a  45c4              CMP      r12,r8
00035c  d901              BLS      |L2.866|
00035e  9100              STR      r1,[sp,#0]
000360  e00f              B        |L2.898|
                  |L2.866|
;;;899    			else var32 = var32 - SET_LoadV_Offset;
000362  f8d0c010          LDR      r12,[r0,#0x10]  ; Correct_Strong
000366  f8dd8000          LDR      r8,[sp,#0]
00036a  eba80c0c          SUB      r12,r8,r12
00036e  f8cdc000          STR      r12,[sp,#0]
000372  e006              B        |L2.898|
                  |L2.884|
;;;900    		}
;;;901    		else var32 = var32 + SET_LoadV_Offset;
000374  f8d0c010          LDR      r12,[r0,#0x10]  ; Correct_Strong
000378  f8dd8000          LDR      r8,[sp,#0]
00037c  44c4              ADD      r12,r12,r8
00037e  f8cdc000          STR      r12,[sp,#0]
                  |L2.898|
;;;902    		var32 = var32/SET_LoadV;
000382  f8d2c010          LDR      r12,[r2,#0x10]  ; Correct_Parametet
000386  f8dd8000          LDR      r8,[sp,#0]
00038a  fbb8fcfc          UDIV     r12,r8,r12
00038e  f8cdc000          STR      r12,[sp,#0]
;;;903    		var32=var32>>1;
000392  f8ddc000          LDR      r12,[sp,#0]
000396  ea4f0c5c          LSR      r12,r12,#1
00039a  f8cdc000          STR      r12,[sp,#0]
;;;904    		if(Flag_DAC_OFF==0)
00039e  071b              LSLS     r3,r3,#28
0003a0  d401              BMI      |L2.934|
;;;905    		{
;;;906    			Contr_Laod = var32;
0003a2  9b00              LDR      r3,[sp,#0]
0003a4  803b              STRH     r3,[r7,#0]
                  |L2.934|
;;;907    		}
;;;908    		if(SET_Voltage_Laod==0)
0003a6  68e3              LDR      r3,[r4,#0xc]  ; Run_Control
0003a8  b903              CBNZ     r3,|L2.940|
;;;909    		{
;;;910    			Contr_Laod=0;
0003aa  8039              STRH     r1,[r7,#0]
                  |L2.940|
;;;911    		}
;;;912    		var32 = 0;
0003ac  9100              STR      r1,[sp,#0]
                  |L2.942|
;;;913    	}
;;;914    /*****************************内阻值转换*******************************************/
;;;915    	var32 = Rmon_value;
0003ae  4b21              LDR      r3,|L2.1076|
0003b0  881f              LDRH     r7,[r3,#0]  ; Rmon_value
0003b2  9700              STR      r7,[sp,#0]
;;;916        if(r_raly == 1)
0003b4  7836              LDRB     r6,[r6,#0]  ; r_raly
0003b6  2e01              CMP      r6,#1
0003b8  d07e              BEQ      |L2.1208|
;;;917        {
;;;918            var32 = var32 * REG_CorrectionR;  
;;;919    //         if ((Polar3 & 0x01) == 0x01)		  
;;;920    //         {
;;;921    //             if (var32 < REG_ReadR_Offset) 
;;;922    //             {
;;;923    //                 var32 = 0;
;;;924    //             }
;;;925    //             else var32 = var32 - REG_ReadR_Offset;
;;;926    //         }
;;;927    //        else
;;;928                var32 = var32 - REG_ReadR_Offset;
;;;929            var32 = var32 >> 12;
;;;930            if (var32 < 1)
;;;931            {
;;;932                var32 = 0;				  //去拢
;;;933            }
;;;934            R_VLUE = var32;
;;;935            var32 = 0;
;;;936        }else{
;;;937            var32 = var32 * REG_CorrectionRL;  
0003ba  6ad6              LDR      r6,[r2,#0x2c]  ; Correct_Parametet
0003bc  9f00              LDR      r7,[sp,#0]
0003be  437e              MULS     r6,r7,r6
0003c0  9600              STR      r6,[sp,#0]
;;;938    //         if ((Polar3 & 0x01) == 0x01)		  
;;;939    //         {
;;;940    //             if (var32 < REG_ReadRL_Offset) 
;;;941    //             {
;;;942    //                 var32 = 0;
;;;943    //             }
;;;944    //             else var32 = var32 - REG_ReadRL_Offset;
;;;945    //         }
;;;946    //        else
;;;947                var32 = var32 - REG_ReadRL_Offset;
0003c2  6ac6              LDR      r6,[r0,#0x2c]  ; Correct_Strong
0003c4  9f00              LDR      r7,[sp,#0]
0003c6  1bbe              SUBS     r6,r7,r6
0003c8  9600              STR      r6,[sp,#0]
;;;948            var32 = var32 >> 12;
0003ca  9e00              LDR      r6,[sp,#0]
0003cc  0b36              LSRS     r6,r6,#12
0003ce  9600              STR      r6,[sp,#0]
;;;949            if (var32 < 1)
;;;950            {
;;;951                var32 = 0;				  //去拢
;;;952            }
;;;953            R_VLUE = var32;
0003d0  9e00              LDR      r6,[sp,#0]
0003d2  6366              STR      r6,[r4,#0x34]  ; Run_Control
;;;954            if(R_VLUE > 100)
0003d4  6b66              LDR      r6,[r4,#0x34]  ; Run_Control
0003d6  2e64              CMP      r6,#0x64
0003d8  d92f              BLS      |L2.1082|
;;;955            {
;;;956                var32 = Rmon_value;
0003da  881b              LDRH     r3,[r3,#0]  ; Rmon_value
0003dc  9300              STR      r3,[sp,#0]
;;;957                var32 = var32 * REG_CorrectionRH;  
0003de  6b13              LDR      r3,[r2,#0x30]  ; Correct_Parametet
0003e0  9e00              LDR      r6,[sp,#0]
0003e2  4373              MULS     r3,r6,r3
0003e4  9300              STR      r3,[sp,#0]
;;;958    //             if ((Polar1 & 0x04) == 0x04)		  
;;;959    //             {
;;;960    //                 if (var32 < REG_ReadRH_Offset) 
;;;961    //                 {
;;;962    //                     var32 = 0;
;;;963    //                 }
;;;964    //                 else var32 = var32 - REG_ReadRH_Offset;
;;;965    //             }
;;;966    //            else
;;;967                    var32 = var32 - REG_ReadRH_Offset;
0003e6  6b03              LDR      r3,[r0,#0x30]  ; Correct_Strong
0003e8  9e00              LDR      r6,[sp,#0]
0003ea  1af3              SUBS     r3,r6,r3
0003ec  9300              STR      r3,[sp,#0]
;;;968                var32 = var32 >> 12;
0003ee  9b00              LDR      r3,[sp,#0]
0003f0  0b1b              LSRS     r3,r3,#12
0003f2  9300              STR      r3,[sp,#0]
;;;969                if (var32 < 5) var32 = 0;				  //40mV去拢
0003f4  9b00              LDR      r3,[sp,#0]
0003f6  2b05              CMP      r3,#5
0003f8  d200              BCS      |L2.1020|
0003fa  9100              STR      r1,[sp,#0]
                  |L2.1020|
;;;970                R_VLUE = var32;
0003fc  9b00              LDR      r3,[sp,#0]
0003fe  e01b              B        |L2.1080|
                  |L2.1024|
                          DCD      r_raly
                  |L2.1028|
                          DCD      Vmon1_value
                  |L2.1032|
                          DCD      ||.bss||
                  |L2.1036|
                          DCD      ||area_number.8||+0x1c
                  |L2.1040|
                          DCD      DISS_Voltage
                  |L2.1044|
000414  447a0000          DCFS     0x447a0000 ; 1000
                  |L2.1048|
                          DCD      0x41200000
                  |L2.1052|
                          DCD      0x41f00000
                  |L2.1056|
                          DCD      Imon1_value
                  |L2.1060|
                          DCD      DISS_Current
                  |L2.1064|
                          DCD      flagD
                  |L2.1068|
                          DCD      flagB
                  |L2.1072|
                          DCD      Contr_Laod
                  |L2.1076|
                          DCD      Rmon_value
                  |L2.1080|
000438  6363              STR      r3,[r4,#0x34]  ; Run_Control
                  |L2.1082|
;;;971            }
;;;972            var32 = 0;
00043a  9100              STR      r1,[sp,#0]
                  |L2.1084|
;;;973        }
;;;974    	/*****************************稳压电源测量电压转换*******************************************/
;;;975    	var32 = Vmon_value;
00043c  4ea6              LDR      r6,|L2.1752|
00043e  8833              LDRH     r3,[r6,#0]  ; Vmon_value
000440  9300              STR      r3,[sp,#0]
;;;976    	var32 = var32 * REG_POWERV;  
000442  6a13              LDR      r3,[r2,#0x20]  ; Correct_Parametet
000444  9f00              LDR      r7,[sp,#0]
000446  437b              MULS     r3,r7,r3
000448  9300              STR      r3,[sp,#0]
;;;977    // 	if ((Polar5 & 0x01) == 0x01)		  
;;;978    // 	{
;;;979    // 		if (var32 < REG_POWERV_Offset) 
;;;980    // 		{
;;;981    // 			var32 = 0;
;;;982    // 		}
;;;983    // 		else var32 = var32 - REG_POWERV_Offset;
;;;984    // 	}
;;;985    // 	else 
;;;986            var32 = var32 - REG_POWERV_Offset;
00044a  6a03              LDR      r3,[r0,#0x20]  ; Correct_Strong
00044c  9f00              LDR      r7,[sp,#0]
00044e  1afb              SUBS     r3,r7,r3
000450  9300              STR      r3,[sp,#0]
;;;987    	var32 = var32 >> 14;
000452  9b00              LDR      r3,[sp,#0]
000454  0b9b              LSRS     r3,r3,#14
000456  9300              STR      r3,[sp,#0]
;;;988    	if (var32 < 40) var32 = 0;				  //40mV以下清零
000458  9b00              LDR      r3,[sp,#0]
00045a  2b28              CMP      r3,#0x28
00045c  d200              BCS      |L2.1120|
00045e  9100              STR      r1,[sp,#0]
                  |L2.1120|
;;;989    	POW_Voltage = var32;
000460  9b00              LDR      r3,[sp,#0]
000462  6263              STR      r3,[r4,#0x24]  ; Run_Control
;;;990    	DISS_POW_Voltage=POW_Voltage;
000464  6a63              LDR      r3,[r4,#0x24]  ; Run_Control
000466  ee003a90          VMOV     s1,r3
00046a  4b9c              LDR      r3,|L2.1756|
00046c  eeb81a60          VCVT.F32.U32 s2,s1
;;;991    	DISS_POW_Voltage=DISS_POW_Voltage/100;//计算显示电压
000470  eddf0a9b          VLDR     s1,|L2.1760|
000474  eec11a20          VDIV.F32 s3,s2,s1
000478  edc31a00          VSTR     s3,[r3,#0]
;;;992        if(POW_Voltage >= 1000)
00047c  6a67              LDR      r7,[r4,#0x24]  ; Run_Control
00047e  f44f7c7a          MOV      r12,#0x3e8
000482  4567              CMP      r7,r12
000484  d321              BCC      |L2.1226|
;;;993        {
;;;994            var32 = Vmon_value;
000486  8837              LDRH     r7,[r6,#0]  ; Vmon_value
000488  9700              STR      r7,[sp,#0]
;;;995            var32 = var32 * REG_POWERV1;  
00048a  6bd7              LDR      r7,[r2,#0x3c]  ; Correct_Parametet
00048c  f8dd8000          LDR      r8,[sp,#0]
000490  fb07f708          MUL      r7,r7,r8
000494  9700              STR      r7,[sp,#0]
;;;996    //         if ((Polar5 & 0x01) == 0x01)		  
;;;997    //         {
;;;998    //             if (var32 < REG_POWERV_Offset1) 
;;;999    //             {
;;;1000   //                 var32 = 0;
;;;1001   //             }
;;;1002   //             else var32 = var32 - REG_POWERV_Offset1;
;;;1003   //         }
;;;1004   //         else 
;;;1005               var32 = var32 - REG_POWERV_Offset1;
000496  6bc7              LDR      r7,[r0,#0x3c]  ; Correct_Strong
000498  f8dd8000          LDR      r8,[sp,#0]
00049c  eba80707          SUB      r7,r8,r7
0004a0  9700              STR      r7,[sp,#0]
;;;1006           var32 = var32 >> 14;
0004a2  9f00              LDR      r7,[sp,#0]
0004a4  0bbf              LSRS     r7,r7,#14
0004a6  9700              STR      r7,[sp,#0]
;;;1007           if (var32 < 40) var32 = 0;				  //40mV去拢
0004a8  9f00              LDR      r7,[sp,#0]
0004aa  2f28              CMP      r7,#0x28
0004ac  d200              BCS      |L2.1200|
0004ae  9100              STR      r1,[sp,#0]
                  |L2.1200|
;;;1008           POW_Voltage = var32;
0004b0  9f00              LDR      r7,[sp,#0]
0004b2  6267              STR      r7,[r4,#0x24]  ; Run_Control
;;;1009           DISS_POW_Voltage=POW_Voltage;
0004b4  6a67              LDR      r7,[r4,#0x24]  ; Run_Control
0004b6  e000              B        |L2.1210|
                  |L2.1208|
0004b8  e045              B        |L2.1350|
                  |L2.1210|
0004ba  ee017a10          VMOV     s2,r7
0004be  eeb81a41          VCVT.F32.U32 s2,s2
;;;1010           DISS_POW_Voltage=DISS_POW_Voltage/100;//蹋示支压
0004c2  eec11a20          VDIV.F32 s3,s2,s1
0004c6  edc31a00          VSTR     s3,[r3,#0]
                  |L2.1226|
;;;1011       }
;;;1012       if(POW_Voltage >= 3000)
0004ca  f8d48024          LDR      r8,[r4,#0x24]  ; Run_Control
0004ce  f64037b8          MOV      r7,#0xbb8
0004d2  45b8              CMP      r8,r7
0004d4  d31f              BCC      |L2.1302|
;;;1013       {
;;;1014           var32 = Vmon_value;
0004d6  8836              LDRH     r6,[r6,#0]  ; Vmon_value
0004d8  9600              STR      r6,[sp,#0]
;;;1015           var32 = var32 * REG_POWERV2;  
0004da  6c16              LDR      r6,[r2,#0x40]  ; Correct_Parametet
0004dc  f8dd8000          LDR      r8,[sp,#0]
0004e0  fb06f608          MUL      r6,r6,r8
0004e4  9600              STR      r6,[sp,#0]
;;;1016   //         if ((Polar5 & 0x01) == 0x01)		  
;;;1017   //         {
;;;1018   //             if (var32 < REG_POWERV_Offset2) 
;;;1019   //             {
;;;1020   //                 var32 = 0;
;;;1021   //             }
;;;1022   //             else var32 = var32 - REG_POWERV_Offset2;
;;;1023   //         }
;;;1024   //         else 
;;;1025               var32 = var32 - REG_POWERV_Offset2;
0004e6  6c06              LDR      r6,[r0,#0x40]  ; Correct_Strong
0004e8  f8dd8000          LDR      r8,[sp,#0]
0004ec  eba80606          SUB      r6,r8,r6
0004f0  9600              STR      r6,[sp,#0]
;;;1026           var32 = var32 >> 14;
0004f2  9e00              LDR      r6,[sp,#0]
0004f4  0bb6              LSRS     r6,r6,#14
0004f6  9600              STR      r6,[sp,#0]
;;;1027           if (var32 < 40) var32 = 0;				  //40mV去拢
0004f8  9e00              LDR      r6,[sp,#0]
0004fa  2e28              CMP      r6,#0x28
0004fc  d200              BCS      |L2.1280|
0004fe  9100              STR      r1,[sp,#0]
                  |L2.1280|
;;;1028           POW_Voltage = var32;
000500  9e00              LDR      r6,[sp,#0]
000502  6266              STR      r6,[r4,#0x24]  ; Run_Control
;;;1029           DISS_POW_Voltage=POW_Voltage;
000504  6a66              LDR      r6,[r4,#0x24]  ; Run_Control
000506  ee016a10          VMOV     s2,r6
00050a  eeb81a41          VCVT.F32.U32 s2,s2
;;;1030           DISS_POW_Voltage=DISS_POW_Voltage/100;//蹋示支压
00050e  eec11a20          VDIV.F32 s3,s2,s1
000512  edc31a00          VSTR     s3,[r3,#0]
                  |L2.1302|
;;;1031       }
;;;1032   	var32 = 0;
;;;1033   /*****************************稳压电源测量电流转换*******************************************/
;;;1034   	var32 = Imon_value;
000516  4b73              LDR      r3,|L2.1764|
000518  881b              LDRH     r3,[r3,#0]  ; Imon_value
00051a  9300              STR      r3,[sp,#0]
;;;1035   	if(flag_CC_MODE==1)
00051c  4b72              LDR      r3,|L2.1768|
;;;1036   	{
;;;1037   		var32 = var32 * REG_POWERA;	   
;;;1038   		if ((Polar4 & 0x01) == 0x01)			   
;;;1039   		{
;;;1040   			if (var32 < REG_POWERA_Offset) var32 = 0;
;;;1041   			else var32 = var32 - REG_POWERA_Offset;
;;;1042   		}
;;;1043   		else
;;;1044   		{
;;;1045   			var32 = var32 + REG_POWERA_Offset;
;;;1046   		}	
;;;1047   		var32 = var32 >> 14;
;;;1048   		Current = var32;;
;;;1049   		DISS_POW_Current=Current;
00051e  4e73              LDR      r6,|L2.1772|
000520  781b              LDRB     r3,[r3,#0]            ;1035  ; flagE
000522  061b              LSLS     r3,r3,#24             ;1035
000524  d539              BPL      |L2.1434|
000526  6993              LDR      r3,[r2,#0x18]         ;1037  ; Correct_Parametet
000528  f8dd8000          LDR      r8,[sp,#0]            ;1037
00052c  fb03f308          MUL      r3,r3,r8              ;1037
000530  9300              STR      r3,[sp,#0]            ;1037
000532  792b              LDRB     r3,[r5,#4]            ;1038  ; correct_por
000534  07db              LSLS     r3,r3,#31             ;1038
000536  d01c              BEQ      |L2.1394|
000538  6983              LDR      r3,[r0,#0x18]         ;1040  ; Correct_Strong
00053a  f8dd8000          LDR      r8,[sp,#0]            ;1040
00053e  4543              CMP      r3,r8                 ;1040
000540  d910              BLS      |L2.1380|
000542  9100              STR      r1,[sp,#0]            ;1040
000544  e01a              B        |L2.1404|
                  |L2.1350|
000546  6953              LDR      r3,[r2,#0x14]         ;918  ; Correct_Parametet
000548  9e00              LDR      r6,[sp,#0]            ;918
00054a  4373              MULS     r3,r6,r3              ;918
00054c  9300              STR      r3,[sp,#0]            ;918
00054e  6943              LDR      r3,[r0,#0x14]         ;928  ; Correct_Strong
000550  9e00              LDR      r6,[sp,#0]            ;928
000552  1af3              SUBS     r3,r6,r3              ;928
000554  9300              STR      r3,[sp,#0]            ;928
000556  9b00              LDR      r3,[sp,#0]            ;929
000558  0b1b              LSRS     r3,r3,#12             ;929
00055a  9300              STR      r3,[sp,#0]            ;929
00055c  9b00              LDR      r3,[sp,#0]            ;934
00055e  6363              STR      r3,[r4,#0x34]         ;934  ; Run_Control
000560  9100              STR      r1,[sp,#0]            ;930
000562  e76b              B        |L2.1084|
                  |L2.1380|
000564  6983              LDR      r3,[r0,#0x18]         ;1041  ; Correct_Strong
000566  f8dd8000          LDR      r8,[sp,#0]            ;1041
00056a  eba80303          SUB      r3,r8,r3              ;1041
00056e  9300              STR      r3,[sp,#0]            ;1041
000570  e004              B        |L2.1404|
                  |L2.1394|
000572  6983              LDR      r3,[r0,#0x18]         ;1045  ; Correct_Strong
000574  f8dd8000          LDR      r8,[sp,#0]            ;1045
000578  4443              ADD      r3,r3,r8              ;1045
00057a  9300              STR      r3,[sp,#0]            ;1045
                  |L2.1404|
00057c  9b00              LDR      r3,[sp,#0]            ;1047
00057e  0b9b              LSRS     r3,r3,#14             ;1047
000580  9300              STR      r3,[sp,#0]            ;1047
000582  9b00              LDR      r3,[sp,#0]            ;1048
000584  62e3              STR      r3,[r4,#0x2c]         ;1048  ; Run_Control
000586  6ae3              LDR      r3,[r4,#0x2c]  ; Run_Control
000588  ee003a90          VMOV     s1,r3
00058c  eef80a60          VCVT.F32.U32 s1,s1
;;;1050   		DISS_POW_Current=DISS_POW_Current/1000;//计算显示电流
000590  ee801a80          VDIV.F32 s2,s1,s0
000594  ed861a00          VSTR     s2,[r6,#0]
000598  e029              B        |L2.1518|
                  |L2.1434|
;;;1051   	}
;;;1052   	else
;;;1053   	{
;;;1054   		var32 = var32 * CON_POWERA;	   
00059a  6a93              LDR      r3,[r2,#0x28]  ; Correct_Parametet
00059c  f8dd8000          LDR      r8,[sp,#0]
0005a0  fb03f308          MUL      r3,r3,r8
0005a4  9300              STR      r3,[sp,#0]
;;;1055   		if ((Polar3 & 0x04) == 0x04)			   
0005a6  78eb              LDRB     r3,[r5,#3]  ; correct_por
0005a8  075b              LSLS     r3,r3,#29
0005aa  d50d              BPL      |L2.1480|
;;;1056   		{
;;;1057   			if (var32 < CON_POWERA_Offset) var32 = 0;
0005ac  6a83              LDR      r3,[r0,#0x28]  ; Correct_Strong
0005ae  f8dd8000          LDR      r8,[sp,#0]
0005b2  4543              CMP      r3,r8
0005b4  d901              BLS      |L2.1466|
0005b6  9100              STR      r1,[sp,#0]
0005b8  e00b              B        |L2.1490|
                  |L2.1466|
;;;1058   			else var32 = var32 - CON_POWERA_Offset;
0005ba  6a83              LDR      r3,[r0,#0x28]  ; Correct_Strong
0005bc  f8dd8000          LDR      r8,[sp,#0]
0005c0  eba80303          SUB      r3,r8,r3
0005c4  9300              STR      r3,[sp,#0]
0005c6  e004              B        |L2.1490|
                  |L2.1480|
;;;1059   		}
;;;1060   		else
;;;1061   		{
;;;1062   			var32 = var32 + CON_POWERA_Offset;
0005c8  6a83              LDR      r3,[r0,#0x28]  ; Correct_Strong
0005ca  f8dd8000          LDR      r8,[sp,#0]
0005ce  4443              ADD      r3,r3,r8
0005d0  9300              STR      r3,[sp,#0]
                  |L2.1490|
;;;1063   		}	
;;;1064   		var32 = var32 >> 14;
0005d2  9b00              LDR      r3,[sp,#0]
0005d4  0b9b              LSRS     r3,r3,#14
0005d6  9300              STR      r3,[sp,#0]
;;;1065   		Current = var32;;
0005d8  9b00              LDR      r3,[sp,#0]
0005da  62e3              STR      r3,[r4,#0x2c]  ; Run_Control
;;;1066   		DISS_POW_Current=Current;
0005dc  6ae3              LDR      r3,[r4,#0x2c]  ; Run_Control
0005de  ee003a90          VMOV     s1,r3
0005e2  eef80a60          VCVT.F32.U32 s1,s1
;;;1067   		DISS_POW_Current=DISS_POW_Current/1000;//计算显示电流
0005e6  ee801a80          VDIV.F32 s2,s1,s0
0005ea  ed861a00          VSTR     s2,[r6,#0]
                  |L2.1518|
;;;1068   	}
;;;1069   /**************************稳压电源设置电压转换******************************************/
;;;1070   	var32 = SET_Voltage;
0005ee  6863              LDR      r3,[r4,#4]  ; Run_Control
0005f0  9300              STR      r3,[sp,#0]
;;;1071       if(SET_Voltage < 1000)
0005f2  6866              LDR      r6,[r4,#4]  ; Run_Control
;;;1072       {
;;;1073           var32=var32<<14;   
;;;1074   //         if ((Polar5 & 0x04) == 0)			   
;;;1075   //         {
;;;1076   //             if (var32 < SET_POWERV_Offset) var32 = 0;
;;;1077   //             else var32 = var32 - SET_POWERV_Offset;
;;;1078   //         }
;;;1079   //         else 
;;;1080               var32 = var32 + SET_POWERV_Offset;
;;;1081           var32 = var32/SET_POWERV;
;;;1082           var32=var32>>1;
;;;1083           Contr_Voltage = var32;
0005f4  4b3e              LDR      r3,|L2.1776|
0005f6  4566              CMP      r6,r12                ;1071
0005f8  d214              BCS      |L2.1572|
0005fa  9e00              LDR      r6,[sp,#0]            ;1073
0005fc  03b6              LSLS     r6,r6,#14             ;1073
0005fe  9600              STR      r6,[sp,#0]            ;1073
000600  6a46              LDR      r6,[r0,#0x24]         ;1080  ; Correct_Strong
000602  9f00              LDR      r7,[sp,#0]            ;1080
000604  443e              ADD      r6,r6,r7              ;1080
000606  9600              STR      r6,[sp,#0]            ;1080
000608  6a56              LDR      r6,[r2,#0x24]         ;1081  ; Correct_Parametet
00060a  9f00              LDR      r7,[sp,#0]            ;1081
00060c  fbb7f6f6          UDIV     r6,r7,r6              ;1081
000610  9600              STR      r6,[sp,#0]            ;1081
000612  9e00              LDR      r6,[sp,#0]            ;1082
000614  0876              LSRS     r6,r6,#1              ;1082
000616  9600              STR      r6,[sp,#0]            ;1082
000618  9e00              LDR      r6,[sp,#0]
00061a  801e              STRH     r6,[r3,#0]
;;;1084           if(SET_Voltage==0)
00061c  6866              LDR      r6,[r4,#4]  ; Run_Control
00061e  bb9e              CBNZ     r6,|L2.1672|
;;;1085           {
;;;1086               Contr_Voltage=0;
000620  8019              STRH     r1,[r3,#0]
000622  e031              B        |L2.1672|
                  |L2.1572|
;;;1087           }
;;;1088       }else if(SET_Voltage >= 1000 && SET_Voltage < 3000){
000624  6866              LDR      r6,[r4,#4]  ; Run_Control
000626  4566              CMP      r6,r12
000628  d317              BCC      |L2.1626|
00062a  6866              LDR      r6,[r4,#4]  ; Run_Control
00062c  42be              CMP      r6,r7
00062e  d214              BCS      |L2.1626|
;;;1089           var32=var32<<14;   
000630  9e00              LDR      r6,[sp,#0]
000632  03b6              LSLS     r6,r6,#14
000634  9600              STR      r6,[sp,#0]
;;;1090   //         if ((Polar5 & 0x04) == 0)			   
;;;1091   //         {
;;;1092   //             if (var32 < SET_POWERV_Offset1) var32 = 0;
;;;1093   //             else var32 = var32 - SET_POWERV_Offset1;
;;;1094   //         }
;;;1095   //         else 
;;;1096               var32 = var32 + SET_POWERV_Offset1;
000636  6cc6              LDR      r6,[r0,#0x4c]  ; Correct_Strong
000638  9f00              LDR      r7,[sp,#0]
00063a  443e              ADD      r6,r6,r7
00063c  9600              STR      r6,[sp,#0]
;;;1097           var32 = var32/SET_POWERV1;
00063e  6cd6              LDR      r6,[r2,#0x4c]  ; Correct_Parametet
000640  9f00              LDR      r7,[sp,#0]
000642  fbb7f6f6          UDIV     r6,r7,r6
000646  9600              STR      r6,[sp,#0]
;;;1098           var32=var32>>1;
000648  9e00              LDR      r6,[sp,#0]
00064a  0876              LSRS     r6,r6,#1
00064c  9600              STR      r6,[sp,#0]
;;;1099           Contr_Voltage = var32;
00064e  9e00              LDR      r6,[sp,#0]
000650  801e              STRH     r6,[r3,#0]
;;;1100           if(SET_Voltage==0)
000652  6866              LDR      r6,[r4,#4]  ; Run_Control
000654  b9c6              CBNZ     r6,|L2.1672|
;;;1101           {
;;;1102               Contr_Voltage=0;
000656  8019              STRH     r1,[r3,#0]
000658  e016              B        |L2.1672|
                  |L2.1626|
;;;1103           }
;;;1104       }else if(SET_Voltage >= 3000){
00065a  6866              LDR      r6,[r4,#4]  ; Run_Control
00065c  42be              CMP      r6,r7
00065e  d313              BCC      |L2.1672|
;;;1105           var32=var32<<14;   
000660  9e00              LDR      r6,[sp,#0]
000662  03b6              LSLS     r6,r6,#14
000664  9600              STR      r6,[sp,#0]
;;;1106   //         if ((Polar5 & 0x04) == 0)			   
;;;1107   //         {
;;;1108   //             if (var32 < SET_POWERV_Offset2) var32 = 0;
;;;1109   //             else var32 = var32 - SET_POWERV_Offset2;
;;;1110   //         }
;;;1111   //         else 
;;;1112               var32 = var32 + SET_POWERV_Offset2;
000666  6d06              LDR      r6,[r0,#0x50]  ; Correct_Strong
000668  9f00              LDR      r7,[sp,#0]
00066a  443e              ADD      r6,r6,r7
00066c  9600              STR      r6,[sp,#0]
;;;1113           var32 = var32/SET_POWERV2;
00066e  6d16              LDR      r6,[r2,#0x50]  ; Correct_Parametet
000670  9f00              LDR      r7,[sp,#0]
000672  fbb7f6f6          UDIV     r6,r7,r6
000676  9600              STR      r6,[sp,#0]
;;;1114           var32=var32>>1;
000678  9e00              LDR      r6,[sp,#0]
00067a  0876              LSRS     r6,r6,#1
00067c  9600              STR      r6,[sp,#0]
;;;1115           Contr_Voltage = var32;
00067e  9e00              LDR      r6,[sp,#0]
000680  801e              STRH     r6,[r3,#0]
;;;1116           if(SET_Voltage==0)
000682  6866              LDR      r6,[r4,#4]  ; Run_Control
000684  b906              CBNZ     r6,|L2.1672|
;;;1117           {
;;;1118               Contr_Voltage=0;
000686  8019              STRH     r1,[r3,#0]
                  |L2.1672|
;;;1119           }
;;;1120       }
;;;1121   	
;;;1122   	var32 = 0;
;;;1123   /**************************稳压电源设置电流转换**************************************/
;;;1124   	var32 = SET_Current;
000688  68a3              LDR      r3,[r4,#8]  ; Run_Control
00068a  9300              STR      r3,[sp,#0]
;;;1125   	var32=var32<<14;   
00068c  9b00              LDR      r3,[sp,#0]
00068e  039b              LSLS     r3,r3,#14
000690  9300              STR      r3,[sp,#0]
;;;1126   	if ((Polar4 & 0x04) == 0)			   
000692  792b              LDRB     r3,[r5,#4]  ; correct_por
000694  075b              LSLS     r3,r3,#29
000696  d40a              BMI      |L2.1710|
;;;1127   	{
;;;1128   		if (var32 < SET_POWERA_Offset) var32 = 0;
000698  69c3              LDR      r3,[r0,#0x1c]  ; Correct_Strong
00069a  9d00              LDR      r5,[sp,#0]
00069c  42ab              CMP      r3,r5
00069e  d901              BLS      |L2.1700|
0006a0  9100              STR      r1,[sp,#0]
0006a2  e008              B        |L2.1718|
                  |L2.1700|
;;;1129   		else var32 = var32 - SET_POWERA_Offset;
0006a4  69c0              LDR      r0,[r0,#0x1c]  ; Correct_Strong
0006a6  9b00              LDR      r3,[sp,#0]
0006a8  1a18              SUBS     r0,r3,r0
0006aa  9000              STR      r0,[sp,#0]
0006ac  e003              B        |L2.1718|
                  |L2.1710|
;;;1130   	}
;;;1131   	else var32 = var32 + SET_POWERA_Offset;
0006ae  69c0              LDR      r0,[r0,#0x1c]  ; Correct_Strong
0006b0  9b00              LDR      r3,[sp,#0]
0006b2  4418              ADD      r0,r0,r3
0006b4  9000              STR      r0,[sp,#0]
                  |L2.1718|
;;;1132   	var32 = var32/SET_POWERA;
0006b6  69d0              LDR      r0,[r2,#0x1c]  ; Correct_Parametet
0006b8  9a00              LDR      r2,[sp,#0]
0006ba  fbb2f0f0          UDIV     r0,r2,r0
0006be  9000              STR      r0,[sp,#0]
;;;1133   	var32=var32>>1;
0006c0  9800              LDR      r0,[sp,#0]
0006c2  0840              LSRS     r0,r0,#1
0006c4  9000              STR      r0,[sp,#0]
;;;1134   	Contr_Current = var32;
0006c6  4a0b              LDR      r2,|L2.1780|
0006c8  9800              LDR      r0,[sp,#0]
0006ca  8010              STRH     r0,[r2,#0]
;;;1135   	if(SET_Current==0)
0006cc  68a0              LDR      r0,[r4,#8]  ; Run_Control
0006ce  b900              CBNZ     r0,|L2.1746|
;;;1136   	{
;;;1137   		Contr_Current=0;
0006d0  8011              STRH     r1,[r2,#0]
                  |L2.1746|
;;;1138   	}
;;;1139   	
;;;1140   	var32 = 0;
0006d2  9100              STR      r1,[sp,#0]
;;;1141   }
0006d4  e8bd81f8          POP      {r3-r8,pc}
;;;1142   /********************************************************************************
                          ENDP

                  |L2.1752|
                          DCD      Vmon_value
                  |L2.1756|
                          DCD      DISS_POW_Voltage
                  |L2.1760|
0006e0  42c80000          DCFS     0x42c80000 ; 100
                  |L2.1764|
                          DCD      Imon_value
                  |L2.1768|
                          DCD      flagE
                  |L2.1772|
                          DCD      DISS_POW_Current
                  |L2.1776|
                          DCD      Contr_Voltage
                  |L2.1780|
                          DCD      Contr_Current

                          AREA ||i.UART_Action||, CODE, READONLY, ALIGN=2

                  UART_Action PROC
;;;45     //===========================MODBUS协议=============================//
;;;46     void UART_Action(void)
000000  e92d4ff0          PUSH     {r4-r11,lr}
;;;47     {//RUT??ú
000004  b087              SUB      sp,sp,#0x1c
;;;48     	//ADDR  ???  ??????????   ??????????  ?????????   ????????  CRC? CRC?
;;;49     	//????úADDR ??? ???????  ???  ??? ..... CRC?  CRC?
;;;50     	if (g_tModS.RxBuf[0] == ADDR)
000006  f8dfa3f8          LDR      r10,|L3.1024|
00000a  4efe              LDR      r6,|L3.1028|
00000c  f89a0000          LDRB     r0,[r10,#0]  ; g_tModS
000010  7871              LDRB     r1,[r6,#1]  ; ADDR
;;;51     	{
;;;52     		if (g_tModS.RxBuf[1] == (0x03))	//??3 ???   
;;;53     		{																		 
;;;54     			vu8 i;
;;;55     			vu16 crc_result;
;;;56     			crc_result = (g_tModS.RxBuf[6] << 8) + g_tModS.RxBuf[7];
;;;57     			if ((crc_result == Hardware_CRC(g_tModS.RxBuf,6)) ||(crc_result == 0) )
;;;58     			{
;;;59     				if (g_tModS.RxBuf[3] < 0x07)    								//?????????Χ?
;;;60     				{
;;;61     					if ((g_tModS.RxBuf[3] + g_tModS.RxBuf[5]) < 0x0F)		//??????????????????Χ?
;;;62     					{							
;;;63     						UART_Buffer_Send[0] = ADDR;
000012  4bfd              LDR      r3,|L3.1032|
;;;64     						UART_Buffer_Send[1] = 0x03;
;;;65     						UART_Buffer_Send[2] = g_tModS.RxBuf[5]*2;
;;;66     						for (i=0;i<UART_Buffer_Send[2];i++)
;;;67     						{
;;;68     							if ((i % 2) == 0) UART_Buffer_Send[3 + i] = Run_Control[g_tModS.RxBuf[3] + i / 2] >> 8;
;;;69     							else UART_Buffer_Send[3 + i] = Run_Control[g_tModS.RxBuf[3] + i / 2];														
;;;70     						}
;;;71     						crc_result = Hardware_CRC(UART_Buffer_Send,UART_Buffer_Send[2] + 3);
;;;72     						UART_Buffer_Send[3 + UART_Buffer_Send[2]] = crc_result >> 8;
;;;73     						UART_Buffer_Send[4 + UART_Buffer_Send[2]] = crc_result;
;;;74     						Transmit_BUFFERsize = UART_Buffer_Send[2] + 5;
000014  4ffd              LDR      r7,|L3.1036|
;;;75     						UART_SEND_flag=1;
000016  4dfe              LDR      r5,|L3.1040|
000018  4cfe              LDR      r4,|L3.1044|
00001a  4288              CMP      r0,r1                 ;50
00001c  d15b              BNE      |L3.214|
00001e  f89a0001          LDRB     r0,[r10,#1]           ;52  ; g_tModS
000022  2803              CMP      r0,#3                 ;52
000024  d157              BNE      |L3.214|
000026  f89a0007          LDRB     r0,[r10,#7]           ;56  ; g_tModS
00002a  f89a1006          LDRB     r1,[r10,#6]           ;56  ; g_tModS
00002e  eb002001          ADD      r0,r0,r1,LSL #8       ;56
000032  9005              STR      r0,[sp,#0x14]         ;56
000034  2106              MOVS     r1,#6                 ;57
000036  4650              MOV      r0,r10                ;57
000038  f7fffffe          BL       Hardware_CRC
00003c  f8bd1014          LDRH     r1,[sp,#0x14]         ;57
000040  4288              CMP      r0,r1                 ;57
000042  d002              BEQ      |L3.74|
000044  f8bd0014          LDRH     r0,[sp,#0x14]         ;57
000048  bbf0              CBNZ     r0,|L3.200|
                  |L3.74|
00004a  f89a0003          LDRB     r0,[r10,#3]           ;59  ; g_tModS
00004e  2807              CMP      r0,#7                 ;59
000050  d241              BCS      |L3.214|
000052  f89a1005          LDRB     r1,[r10,#5]           ;61  ; g_tModS
000056  1842              ADDS     r2,r0,r1              ;61
000058  2a0f              CMP      r2,#0xf               ;61
00005a  d23c              BCS      |L3.214|
00005c  7872              LDRB     r2,[r6,#1]            ;63  ; ADDR
00005e  701a              STRB     r2,[r3,#0]            ;63
000060  2203              MOVS     r2,#3                 ;64
000062  705a              STRB     r2,[r3,#1]            ;64
000064  0049              LSLS     r1,r1,#1              ;65
000066  7099              STRB     r1,[r3,#2]            ;65
000068  2100              MOVS     r1,#0                 ;66
00006a  9106              STR      r1,[sp,#0x18]         ;66
00006c  e011              B        |L3.146|
                  |L3.110|
00006e  f89d1018          LDRB     r1,[sp,#0x18]         ;68
000072  07c9              LSLS     r1,r1,#31             ;68
000074  d04a              BEQ      |L3.268|
000076  f89d1018          LDRB     r1,[sp,#0x18]         ;69
00007a  eb000151          ADD      r1,r0,r1,LSR #1       ;69
00007e  f8541021          LDR      r1,[r4,r1,LSL #2]     ;69
000082  f89d2018          LDRB     r2,[sp,#0x18]         ;69
000086  441a              ADD      r2,r2,r3              ;69
000088  70d1              STRB     r1,[r2,#3]            ;69
                  |L3.138|
00008a  f89d1018          LDRB     r1,[sp,#0x18]         ;66
00008e  1c49              ADDS     r1,r1,#1              ;66
000090  9106              STR      r1,[sp,#0x18]         ;66
                  |L3.146|
000092  7899              LDRB     r1,[r3,#2]            ;66  ; UART_Buffer_Send
000094  f89d2018          LDRB     r2,[sp,#0x18]         ;66
000098  4291              CMP      r1,r2                 ;66
00009a  d8e8              BHI      |L3.110|
00009c  7898              LDRB     r0,[r3,#2]            ;71  ; UART_Buffer_Send
00009e  1cc0              ADDS     r0,r0,#3              ;71
0000a0  b2c1              UXTB     r1,r0                 ;71
0000a2  48d9              LDR      r0,|L3.1032|
0000a4  f7fffffe          BL       Hardware_CRC
0000a8  9005              STR      r0,[sp,#0x14]         ;71
0000aa  f8bd0014          LDRH     r0,[sp,#0x14]         ;72
0000ae  789a              LDRB     r2,[r3,#2]            ;72  ; UART_Buffer_Send
0000b0  0a01              LSRS     r1,r0,#8              ;72
0000b2  48d5              LDR      r0,|L3.1032|
0000b4  1cc0              ADDS     r0,r0,#3              ;72
0000b6  5411              STRB     r1,[r2,r0]            ;72
0000b8  f8bd0014          LDRH     r0,[sp,#0x14]         ;73
0000bc  789a              LDRB     r2,[r3,#2]            ;73  ; UART_Buffer_Send
0000be  49d2              LDR      r1,|L3.1032|
0000c0  1d09              ADDS     r1,r1,#4              ;73
0000c2  5450              STRB     r0,[r2,r1]            ;73
0000c4  7898              LDRB     r0,[r3,#2]            ;74  ; UART_Buffer_Send
0000c6  e000              B        |L3.202|
                  |L3.200|
0000c8  e005              B        |L3.214|
                  |L3.202|
0000ca  1d40              ADDS     r0,r0,#5              ;74
0000cc  7038              STRB     r0,[r7,#0]            ;74
0000ce  6828              LDR      r0,[r5,#0]  ; flagA
0000d0  f0400010          ORR      r0,r0,#0x10
0000d4  6028              STR      r0,[r5,#0]  ; flagA
                  |L3.214|
;;;76     					}
;;;77     				}
;;;78     			}	
;;;79     		}
;;;80     	} 
;;;81     //===============================д???=================================
;;;82     	if ((g_tModS.RxBuf[0] == 0) || (g_tModS.RxBuf[0] == ADDR) || (g_tModS.RxBuf[0] == ((ADDR-1)/4+100)))	 
0000d6  f89a1000          LDRB     r1,[r10,#0]  ; g_tModS
0000da  b161              CBZ      r1,|L3.246|
0000dc  7870              LDRB     r0,[r6,#1]  ; ADDR
0000de  4281              CMP      r1,r0
0000e0  d009              BEQ      |L3.246|
0000e2  7870              LDRB     r0,[r6,#1]  ; ADDR
0000e4  1e40              SUBS     r0,r0,#1
0000e6  17c2              ASRS     r2,r0,#31
0000e8  eb007092          ADD      r0,r0,r2,LSR #30
0000ec  2264              MOVS     r2,#0x64
0000ee  eb0200a0          ADD      r0,r2,r0,ASR #2
0000f2  4288              CMP      r0,r1
0000f4  d179              BNE      |L3.490|
                  |L3.246|
;;;83     	{
;;;84     		vu8 var8;
;;;85     		vu8 a=0;
0000f6  f04f0900          MOV      r9,#0
0000fa  f8cd9014          STR      r9,[sp,#0x14]
;;;86     		vu16 var16;
;;;87     		vu16 crc_result;
;;;88     //=========================????6 д?????===========================
;;;89     		if (g_tModS.RxBuf[1] == 6)                                 //???????ˇ????6
0000fe  f89a0001          LDRB     r0,[r10,#1]  ; g_tModS
;;;90     		{
;;;91     			if (g_tModS.RxBuf[3] < 0x05)							  //????д???ˇ???д?Χ?
;;;92     			{
;;;93     				crc_result = (g_tModS.RxBuf[6] << 8) + g_tModS.RxBuf[7];
;;;94     				if ((crc_result == Hardware_CRC(g_tModS.RxBuf,6)) ||(crc_result == 0) )		  //??CRC
;;;95     				{
;;;96     					var16 = (g_tModS.RxBuf[4] << 8) + g_tModS.RxBuf[5];	//?5 6?????д????
;;;97     					var8 = g_tModS.RxBuf[3];	        						//?3 4?????д????
;;;98     					Run_Control[var8] = var16;			    //???д??????
;;;99     
;;;100    					if (g_tModS.RxBuf[0] == ADDR)							//??????????
;;;101    					{
;;;102    						for (a=0;a<8;a++)
;;;103    						{UART_Buffer_Send[a] = g_tModS.RxBuf[a];}
;;;104    						Transmit_BUFFERsize = 8;						//??????ì???CRC
000102  f04f0808          MOV      r8,#8
000106  2806              CMP      r0,#6                 ;89
000108  d00c              BEQ      |L3.292|
00010a  e04e              B        |L3.426|
                  |L3.268|
00010c  f89d1018          LDRB     r1,[sp,#0x18]         ;68
000110  eb000151          ADD      r1,r0,r1,LSR #1       ;68
000114  f8541021          LDR      r1,[r4,r1,LSL #2]     ;68
000118  f89d2018          LDRB     r2,[sp,#0x18]         ;68
00011c  0a09              LSRS     r1,r1,#8              ;68
00011e  441a              ADD      r2,r2,r3              ;68
000120  70d1              STRB     r1,[r2,#3]            ;68
000122  e7b2              B        |L3.138|
                  |L3.292|
000124  f89a0003          LDRB     r0,[r10,#3]           ;91  ; g_tModS
000128  2805              CMP      r0,#5                 ;91
00012a  d23e              BCS      |L3.426|
00012c  f89a0007          LDRB     r0,[r10,#7]           ;93  ; g_tModS
000130  f89a1006          LDRB     r1,[r10,#6]           ;93  ; g_tModS
000134  eb002001          ADD      r0,r0,r1,LSL #8       ;93
000138  9003              STR      r0,[sp,#0xc]          ;93
00013a  2106              MOVS     r1,#6                 ;94
00013c  48b0              LDR      r0,|L3.1024|
00013e  f7fffffe          BL       Hardware_CRC
000142  f8bd100c          LDRH     r1,[sp,#0xc]          ;94
000146  4288              CMP      r0,r1                 ;94
000148  d002              BEQ      |L3.336|
00014a  f8bd000c          LDRH     r0,[sp,#0xc]          ;94
00014e  bb60              CBNZ     r0,|L3.426|
                  |L3.336|
000150  f89a0005          LDRB     r0,[r10,#5]           ;96  ; g_tModS
000154  f89a1004          LDRB     r1,[r10,#4]           ;96  ; g_tModS
000158  eb002001          ADD      r0,r0,r1,LSL #8       ;96
00015c  9004              STR      r0,[sp,#0x10]         ;96
00015e  f89a0003          LDRB     r0,[r10,#3]           ;97  ; g_tModS
000162  9006              STR      r0,[sp,#0x18]         ;97
000164  f8bd0010          LDRH     r0,[sp,#0x10]         ;98
000168  f89d1018          LDRB     r1,[sp,#0x18]         ;98
00016c  f8440021          STR      r0,[r4,r1,LSL #2]     ;98
000170  f89a0000          LDRB     r0,[r10,#0]           ;100  ; g_tModS
000174  7871              LDRB     r1,[r6,#1]            ;100  ; ADDR
000176  4288              CMP      r0,r1                 ;100
000178  d117              BNE      |L3.426|
00017a  f8cd9014          STR      r9,[sp,#0x14]         ;102
00017e  e00a              B        |L3.406|
                  |L3.384|
000180  f89d0014          LDRB     r0,[sp,#0x14]         ;103
000184  f89d1014          LDRB     r1,[sp,#0x14]         ;103
000188  f81a0000          LDRB     r0,[r10,r0]           ;103
00018c  5458              STRB     r0,[r3,r1]            ;103
00018e  f89d0014          LDRB     r0,[sp,#0x14]         ;102
000192  1c40              ADDS     r0,r0,#1              ;102
000194  9005              STR      r0,[sp,#0x14]         ;102
                  |L3.406|
000196  f89d0014          LDRB     r0,[sp,#0x14]         ;102
00019a  2808              CMP      r0,#8                 ;102
00019c  d3f0              BCC      |L3.384|
00019e  f8878000          STRB     r8,[r7,#0]
;;;105    						UART_SEND_flag=1;
0001a2  6828              LDR      r0,[r5,#0]  ; flagA
0001a4  f0400010          ORR      r0,r0,#0x10
0001a8  6028              STR      r0,[r5,#0]  ; flagA
                  |L3.426|
;;;106    					}
;;;107    				}
;;;108    			}
;;;109    		}
;;;110    //=======================================??ˇ??16ìlд???===========================================
;;;111    //???16??:
;;;112    //     ?? ?? д??????  д?????? д????  д???? д????  ??? ??? ......CRC? CRC?
;;;113    //??????:
;;;114    //     ?? ?? д??????  д??????  д????? д?????  CRC?  CRC? 
;;;115    		if (g_tModS.RxBuf[1] == 16)										  
0001aa  f89a0001          LDRB     r0,[r10,#1]  ; g_tModS
0001ae  2810              CMP      r0,#0x10
0001b0  d15b              BNE      |L3.618|
;;;116    		{	
;;;117    			if ((g_tModS.RxBuf[6] == 6) && (g_tModS.RxBuf[3] == 0x00))	//??lд??????
0001b2  f89a0006          LDRB     r0,[r10,#6]  ; g_tModS
0001b6  2806              CMP      r0,#6
0001b8  d157              BNE      |L3.618|
0001ba  f89a0003          LDRB     r0,[r10,#3]  ; g_tModS
0001be  b9a0              CBNZ     r0,|L3.490|
;;;118    			{
;;;119    				crc_result = (g_tModS.RxBuf[13] << 8) + g_tModS.RxBuf[14];
0001c0  f89a000e          LDRB     r0,[r10,#0xe]  ; g_tModS
0001c4  f89a100d          LDRB     r1,[r10,#0xd]  ; g_tModS
0001c8  eb002001          ADD      r0,r0,r1,LSL #8
0001cc  9003              STR      r0,[sp,#0xc]
;;;120    				if ((crc_result == Hardware_CRC(g_tModS.RxBuf,13)) ||(crc_result == 0) )	   //??CRC
0001ce  210d              MOVS     r1,#0xd
0001d0  488b              LDR      r0,|L3.1024|
0001d2  f7fffffe          BL       Hardware_CRC
0001d6  f8bd100c          LDRH     r1,[sp,#0xc]
0001da  4288              CMP      r0,r1
0001dc  d002              BEQ      |L3.484|
0001de  f8bd000c          LDRH     r0,[sp,#0xc]
0001e2  b910              CBNZ     r0,|L3.490|
                  |L3.484|
;;;121    				{												
;;;122    					for (var8=0;var8<3;var8++) Run_Control[var8] = (g_tModS.RxBuf[var8*2+7] << 8) + g_tModS.RxBuf[var8*2+8];
0001e4  f8cd9018          STR      r9,[sp,#0x18]
0001e8  e014              B        |L3.532|
                  |L3.490|
0001ea  e03e              B        |L3.618|
                  |L3.492|
0001ec  f89d0018          LDRB     r0,[sp,#0x18]
0001f0  f89d1018          LDRB     r1,[sp,#0x18]
0001f4  eb0a0040          ADD      r0,r10,r0,LSL #1
0001f8  7a00              LDRB     r0,[r0,#8]
0001fa  eb0a0141          ADD      r1,r10,r1,LSL #1
0001fe  79c9              LDRB     r1,[r1,#7]
000200  eb002001          ADD      r0,r0,r1,LSL #8
000204  f89d1018          LDRB     r1,[sp,#0x18]
000208  f8440021          STR      r0,[r4,r1,LSL #2]
00020c  f89d0018          LDRB     r0,[sp,#0x18]
000210  1c40              ADDS     r0,r0,#1
000212  9006              STR      r0,[sp,#0x18]
                  |L3.532|
000214  f89d0018          LDRB     r0,[sp,#0x18]
000218  2803              CMP      r0,#3
00021a  d3e7              BCC      |L3.492|
;;;123    
;;;124    					if (g_tModS.RxBuf[0] == ADDR)					  //?????????
00021c  f89a0000          LDRB     r0,[r10,#0]  ; g_tModS
000220  7871              LDRB     r1,[r6,#1]  ; ADDR
000222  4288              CMP      r0,r1
000224  d121              BNE      |L3.618|
;;;125    					{
;;;126    						UART_Buffer_Send[0] = ADDR;
000226  7870              LDRB     r0,[r6,#1]  ; ADDR
000228  7018              STRB     r0,[r3,#0]
;;;127    						UART_Buffer_Send[1] = 16;
00022a  2010              MOVS     r0,#0x10
00022c  7058              STRB     r0,[r3,#1]
;;;128    						UART_Buffer_Send[2] = g_tModS.RxBuf[2];
00022e  f89a0002          LDRB     r0,[r10,#2]  ; g_tModS
000232  7098              STRB     r0,[r3,#2]
;;;129    						UART_Buffer_Send[3] = g_tModS.RxBuf[3];
000234  f89a0003          LDRB     r0,[r10,#3]  ; g_tModS
000238  70d8              STRB     r0,[r3,#3]
;;;130    						UART_Buffer_Send[4] = g_tModS.RxBuf[4];
00023a  f89a0004          LDRB     r0,[r10,#4]  ; g_tModS
00023e  7118              STRB     r0,[r3,#4]
;;;131    						UART_Buffer_Send[5] = g_tModS.RxBuf[5];
000240  f89a0005          LDRB     r0,[r10,#5]  ; g_tModS
000244  7158              STRB     r0,[r3,#5]
;;;132    						crc_result = Hardware_CRC(UART_Buffer_Send,6);	 //??CRC?
000246  2106              MOVS     r1,#6
000248  486f              LDR      r0,|L3.1032|
00024a  f7fffffe          BL       Hardware_CRC
00024e  9003              STR      r0,[sp,#0xc]
;;;133    						UART_Buffer_Send[6] = crc_result>>8;
000250  f8bd000c          LDRH     r0,[sp,#0xc]
000254  0a00              LSRS     r0,r0,#8
000256  7198              STRB     r0,[r3,#6]
;;;134    						UART_Buffer_Send[7] = crc_result;				 
000258  f8bd000c          LDRH     r0,[sp,#0xc]
00025c  71d8              STRB     r0,[r3,#7]
;;;135    						Transmit_BUFFERsize = 8;					     //?????????
00025e  f8878000          STRB     r8,[r7,#0]
;;;136    						UART_SEND_flag=1;
000262  6828              LDR      r0,[r5,#0]  ; flagA
000264  f0400010          ORR      r0,r0,#0x10
000268  6028              STR      r0,[r5,#0]  ; flagA
                  |L3.618|
;;;137    					}
;;;138    				}
;;;139    			}			 
;;;140    		}
;;;141    	}
;;;142    /*************************************???У???**************************************************************************/
;;;143    	if (((g_tModS.RxBuf[0] == 0x01)&&(g_tModS.RxBuf[2] == 0xA5))||(flag_ADJ_ON==1))			   //??У?
00026a  f89a0000          LDRB     r0,[r10,#0]  ; g_tModS
00026e  f8df91a8          LDR      r9,|L3.1048|
000272  2801              CMP      r0,#1
000274  d103              BNE      |L3.638|
000276  f89a0002          LDRB     r0,[r10,#2]  ; g_tModS
00027a  28a5              CMP      r0,#0xa5
00027c  d003              BEQ      |L3.646|
                  |L3.638|
00027e  f8990000          LDRB     r0,[r9,#0]  ; flagF
000282  0780              LSLS     r0,r0,#30
000284  d57e              BPL      |L3.900|
                  |L3.646|
;;;144    	{ 
;;;145    		if(g_tModS.RxBuf[1] == 0x01)
000286  f89a0001          LDRB     r0,[r10,#1]  ; g_tModS
;;;146    		{
;;;147    			flag_ADJ_VL=0;
;;;148    			Modify_A_READ = Vmon1_value;//????
00028a  f8dfb190          LDR      r11,|L3.1052|
00028e  2801              CMP      r0,#1                 ;145
000290  d10f              BNE      |L3.690|
000292  f8d91000          LDR      r1,[r9,#0]            ;147  ; flagF
000296  f0210104          BIC      r1,r1,#4              ;147
00029a  f8c91000          STR      r1,[r9,#0]            ;147  ; flagF
00029e  f8db1000          LDR      r1,[r11,#0]  ; Vmon1_value
0002a2  6071              STR      r1,[r6,#4]  ; Modify_A_READ
;;;149    			Modify_A_ACT = (g_tModS.RxBuf[3] << 8) + g_tModS.RxBuf[4];//????
0002a4  f89a1004          LDRB     r1,[r10,#4]  ; g_tModS
0002a8  f89a2003          LDRB     r2,[r10,#3]  ; g_tModS
0002ac  eb012102          ADD      r1,r1,r2,LSL #8
0002b0  60f1              STR      r1,[r6,#0xc]  ; Modify_A_ACT
                  |L3.690|
;;;150    		}
;;;151    		if (g_tModS.RxBuf[1] == 0x02)			   //???У???
;;;152    		{
;;;153    			vu32 var16;
;;;154    			vu32 var32a;
;;;155    			vu32 var32b;
;;;156    			
;;;157    			vu32 var16a;
;;;158    			vu32 var32c;
;;;159    			vu32 var32d;
;;;160    			Modify_B_READ =Vmon1_value;//????
;;;161    			Modify_B_ACT = (g_tModS.RxBuf[3] << 8) + g_tModS.RxBuf[4];//????
;;;162    			var32a = Modify_B_ACT;
;;;163    			var32a = var32a - Modify_A_ACT;
;;;164    			var32a = var32a << 12;
;;;165    			var16 = Modify_B_READ - Modify_A_READ;
;;;166    			var32a = var32a / var16;
;;;167    			REG_CorrectionV = var32a;
0002b2  f8df8160          LDR      r8,|L3.1044|
;;;168    			var32a=0;
;;;169    			var32a = Modify_B_ACT;
;;;170    			var32a = var32a << 12;
;;;171    			var32b = Modify_B_READ;
;;;172    			var32b = var32b * REG_CorrectionV;
;;;173    			if (var32a < var32b)
;;;174    			{
;;;175    				var32b = var32b - var32a;
;;;176    				REG_ReadV_Offset = var32b;
;;;177    				Polar |= 0x01;
0002b6  4c53              LDR      r4,|L3.1028|
0002b8  f1a808a8          SUB      r8,r8,#0xa8           ;167
0002bc  341c              ADDS     r4,r4,#0x1c
;;;178    			}
;;;179    			else 
;;;180    			{
;;;181    				var32a = var32a - var32b;
;;;182    				REG_ReadV_Offset = var32a;
;;;183    				Polar &= ~0x01;
;;;184    			}			
;;;185    			Flash_Write_all();	//??д?FLASH
;;;186    			Flag_DAC_OFF=0;
0002be  4f58              LDR      r7,|L3.1056|
0002c0  f1080554          ADD      r5,r8,#0x54           ;176
0002c4  2802              CMP      r0,#2                 ;151
0002c6  d149              BNE      |L3.860|
0002c8  f8db0000          LDR      r0,[r11,#0]           ;160  ; Vmon1_value
0002cc  6130              STR      r0,[r6,#0x10]         ;160  ; Modify_B_READ
0002ce  f89a0004          LDRB     r0,[r10,#4]           ;161  ; g_tModS
0002d2  f89a1003          LDRB     r1,[r10,#3]           ;161  ; g_tModS
0002d6  eb002001          ADD      r0,r0,r1,LSL #8       ;161
0002da  61b0              STR      r0,[r6,#0x18]         ;161  ; Modify_B_ACT
0002dc  69b0              LDR      r0,[r6,#0x18]         ;162  ; Modify_B_ACT
0002de  9005              STR      r0,[sp,#0x14]         ;162
0002e0  9805              LDR      r0,[sp,#0x14]         ;163
0002e2  68f1              LDR      r1,[r6,#0xc]          ;163  ; Modify_A_ACT
0002e4  1a40              SUBS     r0,r0,r1              ;163
0002e6  9005              STR      r0,[sp,#0x14]         ;163
0002e8  9805              LDR      r0,[sp,#0x14]         ;164
0002ea  0300              LSLS     r0,r0,#12             ;164
0002ec  9005              STR      r0,[sp,#0x14]         ;164
0002ee  6930              LDR      r0,[r6,#0x10]         ;165  ; Modify_B_READ
0002f0  6871              LDR      r1,[r6,#4]            ;165  ; Modify_A_READ
0002f2  1a40              SUBS     r0,r0,r1              ;165
0002f4  9006              STR      r0,[sp,#0x18]         ;165
0002f6  e9dd0105          LDRD     r0,r1,[sp,#0x14]      ;166
0002fa  fbb0f0f1          UDIV     r0,r0,r1              ;166
0002fe  9005              STR      r0,[sp,#0x14]         ;166
000300  9805              LDR      r0,[sp,#0x14]         ;167
000302  f8c80000          STR      r0,[r8,#0]            ;167  ; Correct_Parametet
000306  69b0              LDR      r0,[r6,#0x18]         ;169  ; Modify_B_ACT
000308  9005              STR      r0,[sp,#0x14]         ;169
00030a  9805              LDR      r0,[sp,#0x14]         ;170
00030c  0300              LSLS     r0,r0,#12             ;170
00030e  9005              STR      r0,[sp,#0x14]         ;170
000310  6930              LDR      r0,[r6,#0x10]         ;171  ; Modify_B_READ
000312  9004              STR      r0,[sp,#0x10]         ;171
000314  f8d80000          LDR      r0,[r8,#0]            ;172  ; Correct_Parametet
000318  9904              LDR      r1,[sp,#0x10]         ;172
00031a  4348              MULS     r0,r1,r0              ;172
00031c  9004              STR      r0,[sp,#0x10]         ;172
00031e  e9dd1004          LDRD     r1,r0,[sp,#0x10]      ;173
000322  4288              CMP      r0,r1                 ;173
000324  d20a              BCS      |L3.828|
000326  e9dd0104          LDRD     r0,r1,[sp,#0x10]      ;175
00032a  1a40              SUBS     r0,r0,r1              ;175
00032c  9004              STR      r0,[sp,#0x10]         ;175
00032e  9804              LDR      r0,[sp,#0x10]         ;176
000330  6028              STR      r0,[r5,#0]            ;176  ; Correct_Strong
000332  7820              LDRB     r0,[r4,#0]            ;177  ; correct_por
000334  f0400001          ORR      r0,r0,#1              ;177
000338  7020              STRB     r0,[r4,#0]            ;177
00033a  e009              B        |L3.848|
                  |L3.828|
00033c  e9dd1004          LDRD     r1,r0,[sp,#0x10]      ;181
000340  1a40              SUBS     r0,r0,r1              ;181
000342  9005              STR      r0,[sp,#0x14]         ;181
000344  9805              LDR      r0,[sp,#0x14]         ;182
000346  6028              STR      r0,[r5,#0]            ;182  ; Correct_Strong
000348  7820              LDRB     r0,[r4,#0]            ;183  ; correct_por
00034a  f0200001          BIC      r0,r0,#1              ;183
00034e  7020              STRB     r0,[r4,#0]            ;183
                  |L3.848|
000350  f7fffffe          BL       Flash_Write_all
000354  6838              LDR      r0,[r7,#0]  ; flagB
000356  f0200008          BIC      r0,r0,#8
00035a  6038              STR      r0,[r7,#0]  ; flagB
                  |L3.860|
;;;187    		}
;;;188    		
;;;189    		
;;;190    /************************************???・????У?*****************************************************************/
;;;191    		if (g_tModS.RxBuf[1] == 0x03)			   //CC??У?
00035c  4651              MOV      r1,r10
00035e  f89a0001          LDRB     r0,[r10,#1]  ; g_tModS
;;;192    		{
;;;193    			Modify_A_READ = Imon1_value;//
000362  4a30              LDR      r2,|L3.1060|
;;;194    			Modify_C_READ = Contr_Laod;//
000364  f8dfa0c0          LDR      r10,|L3.1064|
000368  2803              CMP      r0,#3                 ;191
00036a  d110              BNE      |L3.910|
00036c  6813              LDR      r3,[r2,#0]            ;193  ; Imon1_value
00036e  6073              STR      r3,[r6,#4]            ;193  ; Modify_A_READ
000370  f8ba3000          LDRH     r3,[r10,#0]  ; Contr_Laod
000374  60b3              STR      r3,[r6,#8]  ; Modify_C_READ
;;;195    			Modify_A_ACT = (g_tModS.RxBuf[3] << 8) + g_tModS.RxBuf[4];
000376  790b              LDRB     r3,[r1,#4]  ; g_tModS
000378  f891c003          LDRB     r12,[r1,#3]  ; g_tModS
00037c  eb03230c          ADD      r3,r3,r12,LSL #8
000380  60f3              STR      r3,[r6,#0xc]  ; Modify_A_ACT
;;;196    			Flag_DAC_OFF=1;//
000382  e000              B        |L3.902|
                  |L3.900|
000384  e3fe              B        |L3.2948|
                  |L3.902|
000386  683b              LDR      r3,[r7,#0]  ; flagB
000388  f0430308          ORR      r3,r3,#8
00038c  603b              STR      r3,[r7,#0]  ; flagB
                  |L3.910|
;;;197    		}
;;;198    
;;;199    		if (g_tModS.RxBuf[1] == 0x04)			   //
00038e  2804              CMP      r0,#4
000390  d17e              BNE      |L3.1168|
;;;200    		{
;;;201    			vu32 var16;
;;;202    			vu32 var32a;
;;;203    			vu32 var32b;
;;;204    			
;;;205    			vu32 var16a;
;;;206    			vu32 var32c;
;;;207    			vu32 var32d;
;;;208    			
;;;209    			Modify_B_READ = Imon1_value;
000392  6810              LDR      r0,[r2,#0]  ; Imon1_value
000394  6130              STR      r0,[r6,#0x10]  ; Modify_B_READ
;;;210    			Modify_D_READ = Contr_Laod;
000396  f8ba0000          LDRH     r0,[r10,#0]  ; Contr_Laod
00039a  6170              STR      r0,[r6,#0x14]  ; Modify_D_READ
;;;211    			Modify_B_ACT = (g_tModS.RxBuf[3] << 8) + g_tModS.RxBuf[4];
00039c  4818              LDR      r0,|L3.1024|
00039e  7901              LDRB     r1,[r0,#4]  ; g_tModS
0003a0  78c0              LDRB     r0,[r0,#3]  ; g_tModS
0003a2  eb012000          ADD      r0,r1,r0,LSL #8
0003a6  61b0              STR      r0,[r6,#0x18]  ; Modify_B_ACT
;;;212    			
;;;213    			var32a = Modify_B_ACT;
0003a8  69b0              LDR      r0,[r6,#0x18]  ; Modify_B_ACT
0003aa  9005              STR      r0,[sp,#0x14]
;;;214    			var32a = var32a - Modify_A_ACT;
0003ac  9805              LDR      r0,[sp,#0x14]
0003ae  68f1              LDR      r1,[r6,#0xc]  ; Modify_A_ACT
0003b0  1a40              SUBS     r0,r0,r1
0003b2  9005              STR      r0,[sp,#0x14]
;;;215    			var32a = var32a << 12;
0003b4  9805              LDR      r0,[sp,#0x14]
0003b6  0300              LSLS     r0,r0,#12
0003b8  9005              STR      r0,[sp,#0x14]
;;;216    			var16 = Modify_B_READ - Modify_A_READ;
0003ba  6930              LDR      r0,[r6,#0x10]  ; Modify_B_READ
0003bc  6871              LDR      r1,[r6,#4]  ; Modify_A_READ
0003be  1a40              SUBS     r0,r0,r1
0003c0  9006              STR      r0,[sp,#0x18]
;;;217    			var32a = var32a / var16;
0003c2  e9dd1005          LDRD     r1,r0,[sp,#0x14]
0003c6  fbb1f0f0          UDIV     r0,r1,r0
0003ca  9005              STR      r0,[sp,#0x14]
;;;218    			REG_Load_A = var32a;
0003cc  9805              LDR      r0,[sp,#0x14]
0003ce  f8c80004          STR      r0,[r8,#4]  ; Correct_Parametet
;;;219    			var32a = Modify_B_ACT;
0003d2  69b0              LDR      r0,[r6,#0x18]  ; Modify_B_ACT
0003d4  9005              STR      r0,[sp,#0x14]
;;;220    			var32a = var32a << 12;
0003d6  9805              LDR      r0,[sp,#0x14]
0003d8  0300              LSLS     r0,r0,#12
0003da  9005              STR      r0,[sp,#0x14]
;;;221    			var32b = Modify_B_READ;
0003dc  6930              LDR      r0,[r6,#0x10]  ; Modify_B_READ
0003de  9004              STR      r0,[sp,#0x10]
;;;222    			var32b = var32b * REG_Load_A;
0003e0  f8d80004          LDR      r0,[r8,#4]  ; Correct_Parametet
0003e4  9904              LDR      r1,[sp,#0x10]
0003e6  4348              MULS     r0,r1,r0
0003e8  9004              STR      r0,[sp,#0x10]
;;;223    			if (var32a < var32b)
0003ea  e9dd1004          LDRD     r1,r0,[sp,#0x10]
0003ee  4288              CMP      r0,r1
0003f0  d221              BCS      |L3.1078|
;;;224    			{
;;;225    				var32b = var32b - var32a;
0003f2  e9dd0104          LDRD     r0,r1,[sp,#0x10]
0003f6  1a40              SUBS     r0,r0,r1
0003f8  9004              STR      r0,[sp,#0x10]
;;;226    				REG_LoadA_Offset = var32b;
0003fa  9804              LDR      r0,[sp,#0x10]
0003fc  6068              STR      r0,[r5,#4]  ; Correct_Strong
;;;227    				Polar1 |= 0x01;
0003fe  e015              B        |L3.1068|
                  |L3.1024|
                          DCD      g_tModS
                  |L3.1028|
                          DCD      ||area_number.8||
                  |L3.1032|
                          DCD      UART_Buffer_Send
                  |L3.1036|
                          DCD      Transmit_BUFFERsize
                  |L3.1040|
                          DCD      flagA
                  |L3.1044|
                          DCD      ||.bss||+0xa8
                  |L3.1048|
                          DCD      flagF
                  |L3.1052|
                          DCD      Vmon1_value
                  |L3.1056|
                          DCD      flagB
                  |L3.1060|
                          DCD      Imon1_value
                  |L3.1064|
                          DCD      Contr_Laod
                  |L3.1068|
00042c  7860              LDRB     r0,[r4,#1]  ; correct_por
00042e  f0400001          ORR      r0,r0,#1
000432  7060              STRB     r0,[r4,#1]
000434  e009              B        |L3.1098|
                  |L3.1078|
;;;228    			}
;;;229    			else 
;;;230    			{
;;;231    				var32a = var32a - var32b;
000436  e9dd1004          LDRD     r1,r0,[sp,#0x10]
00043a  1a40              SUBS     r0,r0,r1
00043c  9005              STR      r0,[sp,#0x14]
;;;232    				REG_LoadA_Offset = var32a;
00043e  9805              LDR      r0,[sp,#0x14]
000440  6068              STR      r0,[r5,#4]  ; Correct_Strong
;;;233    				Polar1 &= ~0x01;					
000442  7860              LDRB     r0,[r4,#1]  ; correct_por
000444  f0200001          BIC      r0,r0,#1
000448  7060              STRB     r0,[r4,#1]
                  |L3.1098|
;;;234    			}
;;;235    //---------------------------------------------------------------------------------//
;;;236    			var32c = Modify_B_ACT; 
00044a  69b0              LDR      r0,[r6,#0x18]  ; Modify_B_ACT
00044c  9002              STR      r0,[sp,#8]
;;;237    			var32c = var32c - Modify_A_ACT;
00044e  9802              LDR      r0,[sp,#8]
000450  68f1              LDR      r1,[r6,#0xc]  ; Modify_A_ACT
000452  1a40              SUBS     r0,r0,r1
000454  9002              STR      r0,[sp,#8]
;;;238    			var32c = var32c << 12;
000456  9802              LDR      r0,[sp,#8]
000458  0300              LSLS     r0,r0,#12
00045a  9002              STR      r0,[sp,#8]
;;;239    			var16a=Modify_D_READ-Modify_C_READ;
00045c  6970              LDR      r0,[r6,#0x14]  ; Modify_D_READ
00045e  68b1              LDR      r1,[r6,#8]  ; Modify_C_READ
000460  1a40              SUBS     r0,r0,r1
000462  9003              STR      r0,[sp,#0xc]
;;;240    			var16a=var16a*2;
000464  9803              LDR      r0,[sp,#0xc]
000466  0040              LSLS     r0,r0,#1
000468  9003              STR      r0,[sp,#0xc]
;;;241    			var32c=var32c/var16a;
00046a  e9dd0102          LDRD     r0,r1,[sp,#8]
00046e  fbb0f0f1          UDIV     r0,r0,r1
000472  9002              STR      r0,[sp,#8]
;;;242    			SET_LoadA = var32c;
000474  9802              LDR      r0,[sp,#8]
000476  f8c80008          STR      r0,[r8,#8]  ; Correct_Parametet
;;;243    			var32c = Modify_B_ACT;
00047a  69b0              LDR      r0,[r6,#0x18]  ; Modify_B_ACT
00047c  9002              STR      r0,[sp,#8]
;;;244    			var32c = var32c << 12;
00047e  9802              LDR      r0,[sp,#8]
000480  0300              LSLS     r0,r0,#12
000482  9002              STR      r0,[sp,#8]
;;;245    			var32d = SET_LoadA;
000484  f8d80008          LDR      r0,[r8,#8]  ; Correct_Parametet
000488  9001              STR      r0,[sp,#4]
;;;246    			var32d = var32d * (Modify_D_READ*2);
00048a  9801              LDR      r0,[sp,#4]
00048c  6971              LDR      r1,[r6,#0x14]  ; Modify_D_READ
00048e  e000              B        |L3.1170|
                  |L3.1168|
000490  e021              B        |L3.1238|
                  |L3.1170|
000492  4348              MULS     r0,r1,r0
000494  0040              LSLS     r0,r0,#1
000496  9001              STR      r0,[sp,#4]
;;;247    			if (var32c < var32d)
000498  e9dd1001          LDRD     r1,r0,[sp,#4]
00049c  4288              CMP      r0,r1
00049e  d20a              BCS      |L3.1206|
;;;248    			{
;;;249    				var32d = var32d - var32c;
0004a0  e9dd0101          LDRD     r0,r1,[sp,#4]
0004a4  1a40              SUBS     r0,r0,r1
0004a6  9001              STR      r0,[sp,#4]
;;;250    				SET_LoadA_Offset = var32d;
0004a8  9801              LDR      r0,[sp,#4]
0004aa  60a8              STR      r0,[r5,#8]  ; Correct_Strong
;;;251    				Polar1 |= 0x04;
0004ac  7860              LDRB     r0,[r4,#1]  ; correct_por
0004ae  f0400004          ORR      r0,r0,#4
0004b2  7060              STRB     r0,[r4,#1]
0004b4  e009              B        |L3.1226|
                  |L3.1206|
;;;252    			}
;;;253    			else 
;;;254    			{
;;;255    				var32c = var32c - var32d;
0004b6  e9dd1001          LDRD     r1,r0,[sp,#4]
0004ba  1a40              SUBS     r0,r0,r1
0004bc  9002              STR      r0,[sp,#8]
;;;256    				SET_LoadA_Offset = var32c;
0004be  9802              LDR      r0,[sp,#8]
0004c0  60a8              STR      r0,[r5,#8]  ; Correct_Strong
;;;257    				Polar1 &= ~0x04;
0004c2  7860              LDRB     r0,[r4,#1]  ; correct_por
0004c4  f0200004          BIC      r0,r0,#4
0004c8  7060              STRB     r0,[r4,#1]
                  |L3.1226|
;;;258    			}
;;;259    			Flash_Write_all ();	
0004ca  f7fffffe          BL       Flash_Write_all
;;;260    			Flag_DAC_OFF =0;
0004ce  6838              LDR      r0,[r7,#0]  ; flagB
0004d0  f0200008          BIC      r0,r0,#8
0004d4  6038              STR      r0,[r7,#0]  ; flagB
                  |L3.1238|
;;;261    		}
;;;262    /*************************************??CV??????У?**************************************************************/
;;;263    		if(g_tModS.RxBuf[1] == 0x05)
0004d6  49fe              LDR      r1,|L3.2256|
0004d8  7848              LDRB     r0,[r1,#1]  ; g_tModS
0004da  2805              CMP      r0,#5
0004dc  d10a              BNE      |L3.1268|
;;;264    		{
;;;265    			Modify_A_READ = Vmon1_value;//????
0004de  f8db2000          LDR      r2,[r11,#0]  ; Vmon1_value
0004e2  6072              STR      r2,[r6,#4]  ; Modify_A_READ
;;;266    			Modify_C_READ = Contr_Laod;//?????
0004e4  f8ba2000          LDRH     r2,[r10,#0]  ; Contr_Laod
0004e8  60b2              STR      r2,[r6,#8]  ; Modify_C_READ
;;;267    			Modify_A_ACT = (g_tModS.RxBuf[3] << 8) + g_tModS.RxBuf[4];//????
0004ea  790a              LDRB     r2,[r1,#4]  ; g_tModS
0004ec  78cb              LDRB     r3,[r1,#3]  ; g_tModS
0004ee  eb022203          ADD      r2,r2,r3,LSL #8
0004f2  60f2              STR      r2,[r6,#0xc]  ; Modify_A_ACT
                  |L3.1268|
;;;268    		}
;;;269    		if (g_tModS.RxBuf[1] == 0x06)			   //???У???
0004f4  2806              CMP      r0,#6
0004f6  d17b              BNE      |L3.1520|
;;;270    		{
;;;271    			vu32 var16;
;;;272    			vu32 var32a;
;;;273    			vu32 var32b;
;;;274    			
;;;275    			vu32 var16a;
;;;276    			vu32 var32c;
;;;277    			vu32 var32d;
;;;278    			
;;;279    			Modify_B_READ =Vmon1_value;//????
0004f8  f8db0000          LDR      r0,[r11,#0]  ; Vmon1_value
0004fc  6130              STR      r0,[r6,#0x10]  ; Modify_B_READ
;;;280    			Modify_D_READ =Contr_Laod;//?????
0004fe  f8ba0000          LDRH     r0,[r10,#0]  ; Contr_Laod
000502  6170              STR      r0,[r6,#0x14]  ; Modify_D_READ
;;;281    			Modify_B_ACT = (g_tModS.RxBuf[3] << 8) + g_tModS.RxBuf[4];//????
000504  48f2              LDR      r0,|L3.2256|
000506  7901              LDRB     r1,[r0,#4]  ; g_tModS
000508  78c0              LDRB     r0,[r0,#3]  ; g_tModS
00050a  eb012000          ADD      r0,r1,r0,LSL #8
00050e  61b0              STR      r0,[r6,#0x18]  ; Modify_B_ACT
;;;282    			var32a = Modify_B_ACT;
000510  69b0              LDR      r0,[r6,#0x18]  ; Modify_B_ACT
000512  9005              STR      r0,[sp,#0x14]
;;;283    			var32a = var32a - Modify_A_ACT;
000514  9805              LDR      r0,[sp,#0x14]
000516  68f1              LDR      r1,[r6,#0xc]  ; Modify_A_ACT
000518  1a40              SUBS     r0,r0,r1
00051a  9005              STR      r0,[sp,#0x14]
;;;284    			var32a = var32a << 12;
00051c  9805              LDR      r0,[sp,#0x14]
00051e  0300              LSLS     r0,r0,#12
000520  9005              STR      r0,[sp,#0x14]
;;;285    			var16 = Modify_B_READ - Modify_A_READ;
000522  6930              LDR      r0,[r6,#0x10]  ; Modify_B_READ
000524  6871              LDR      r1,[r6,#4]  ; Modify_A_READ
000526  1a40              SUBS     r0,r0,r1
000528  9006              STR      r0,[sp,#0x18]
;;;286    			var32a = var32a / var16;
00052a  e9dd0105          LDRD     r0,r1,[sp,#0x14]
00052e  fbb0f0f1          UDIV     r0,r0,r1
000532  9005              STR      r0,[sp,#0x14]
;;;287    			REG_LoadV = var32a;
000534  9805              LDR      r0,[sp,#0x14]
000536  f8c8000c          STR      r0,[r8,#0xc]  ; Correct_Parametet
;;;288    			var32a=0;
00053a  f04f0b00          MOV      r11,#0
;;;289    			var32a = Modify_B_ACT;
00053e  69b0              LDR      r0,[r6,#0x18]  ; Modify_B_ACT
000540  9005              STR      r0,[sp,#0x14]
;;;290    			var32a = var32a << 12;
000542  9805              LDR      r0,[sp,#0x14]
000544  0300              LSLS     r0,r0,#12
000546  9005              STR      r0,[sp,#0x14]
;;;291    			var32b = Modify_B_READ;
000548  6930              LDR      r0,[r6,#0x10]  ; Modify_B_READ
00054a  9004              STR      r0,[sp,#0x10]
;;;292    			var32b = var32b * REG_LoadV;
00054c  f8d8000c          LDR      r0,[r8,#0xc]  ; Correct_Parametet
000550  9904              LDR      r1,[sp,#0x10]
000552  4348              MULS     r0,r1,r0
000554  9004              STR      r0,[sp,#0x10]
;;;293    			if (var32a < var32b)
000556  e9dd1004          LDRD     r1,r0,[sp,#0x10]
00055a  4288              CMP      r0,r1
00055c  d20a              BCS      |L3.1396|
;;;294    			{
;;;295    				var32b = var32b - var32a;
00055e  e9dd0104          LDRD     r0,r1,[sp,#0x10]
000562  1a40              SUBS     r0,r0,r1
000564  9004              STR      r0,[sp,#0x10]
;;;296    				REG_LoadV_Offset = var32b;
000566  9804              LDR      r0,[sp,#0x10]
000568  60e8              STR      r0,[r5,#0xc]  ; Correct_Strong
;;;297    				Polar2 |= 0x01;
00056a  78a0              LDRB     r0,[r4,#2]  ; correct_por
00056c  f0400001          ORR      r0,r0,#1
000570  70a0              STRB     r0,[r4,#2]
000572  e009              B        |L3.1416|
                  |L3.1396|
;;;298    			}
;;;299    			else 
;;;300    			{
;;;301    				var32a = var32a - var32b;
000574  e9dd1004          LDRD     r1,r0,[sp,#0x10]
000578  1a40              SUBS     r0,r0,r1
00057a  9005              STR      r0,[sp,#0x14]
;;;302    				REG_LoadV_Offset = var32a;
00057c  9805              LDR      r0,[sp,#0x14]
00057e  60e8              STR      r0,[r5,#0xc]  ; Correct_Strong
;;;303    				Polar2 &= ~0x01;
000580  78a0              LDRB     r0,[r4,#2]  ; correct_por
000582  f0200001          BIC      r0,r0,#1
000586  70a0              STRB     r0,[r4,#2]
                  |L3.1416|
;;;304    			}
;;;305    //---------------------------------------------------------------------------------------//			
;;;306    			var32c = Modify_B_ACT; //CV??????У?
000588  69b0              LDR      r0,[r6,#0x18]  ; Modify_B_ACT
00058a  9002              STR      r0,[sp,#8]
;;;307    			var32c = var32c - Modify_A_ACT;
00058c  9802              LDR      r0,[sp,#8]
00058e  68f1              LDR      r1,[r6,#0xc]  ; Modify_A_ACT
000590  1a40              SUBS     r0,r0,r1
000592  9002              STR      r0,[sp,#8]
;;;308    			var32c = var32c << 12;
000594  9802              LDR      r0,[sp,#8]
000596  0300              LSLS     r0,r0,#12
000598  9002              STR      r0,[sp,#8]
;;;309    			var16a=Modify_D_READ-Modify_C_READ;
00059a  6970              LDR      r0,[r6,#0x14]  ; Modify_D_READ
00059c  68b1              LDR      r1,[r6,#8]  ; Modify_C_READ
00059e  1a40              SUBS     r0,r0,r1
0005a0  9003              STR      r0,[sp,#0xc]
;;;310    			var16a=(var16a*2);
0005a2  9803              LDR      r0,[sp,#0xc]
0005a4  0040              LSLS     r0,r0,#1
0005a6  9003              STR      r0,[sp,#0xc]
;;;311    			var32c=var32c/var16a;
0005a8  e9dd0102          LDRD     r0,r1,[sp,#8]
0005ac  fbb0f0f1          UDIV     r0,r0,r1
0005b0  9002              STR      r0,[sp,#8]
;;;312    			SET_LoadV = var32c;
0005b2  9802              LDR      r0,[sp,#8]
0005b4  f8c80010          STR      r0,[r8,#0x10]  ; Correct_Parametet
;;;313    			var32c = Modify_B_ACT;
0005b8  69b0              LDR      r0,[r6,#0x18]  ; Modify_B_ACT
0005ba  9002              STR      r0,[sp,#8]
;;;314    			var32c = var32c << 12;
0005bc  9802              LDR      r0,[sp,#8]
0005be  0300              LSLS     r0,r0,#12
0005c0  9002              STR      r0,[sp,#8]
;;;315    			var32d = SET_LoadV;
0005c2  f8d80010          LDR      r0,[r8,#0x10]  ; Correct_Parametet
0005c6  9001              STR      r0,[sp,#4]
;;;316    			var32d = var32d * (Modify_D_READ*2);
0005c8  9801              LDR      r0,[sp,#4]
0005ca  6971              LDR      r1,[r6,#0x14]  ; Modify_D_READ
0005cc  4348              MULS     r0,r1,r0
0005ce  0040              LSLS     r0,r0,#1
0005d0  9001              STR      r0,[sp,#4]
;;;317    			if (var32c < var32d)
0005d2  e9dd1001          LDRD     r1,r0,[sp,#4]
0005d6  4288              CMP      r0,r1
0005d8  d20b              BCS      |L3.1522|
;;;318    			{
;;;319    				var32d = var32d - var32c;
0005da  e9dd0101          LDRD     r0,r1,[sp,#4]
0005de  1a40              SUBS     r0,r0,r1
0005e0  9001              STR      r0,[sp,#4]
;;;320    				SET_LoadV_Offset = var32d;
0005e2  9801              LDR      r0,[sp,#4]
0005e4  6128              STR      r0,[r5,#0x10]  ; Correct_Strong
;;;321    				Polar2 |= 0x04;
0005e6  78a0              LDRB     r0,[r4,#2]  ; correct_por
0005e8  f0400004          ORR      r0,r0,#4
0005ec  70a0              STRB     r0,[r4,#2]
0005ee  e00a              B        |L3.1542|
                  |L3.1520|
0005f0  e00d              B        |L3.1550|
                  |L3.1522|
;;;322    			}
;;;323    			else 
;;;324    			{
;;;325    				var32c = var32c - var32d;
0005f2  e9dd1001          LDRD     r1,r0,[sp,#4]
0005f6  1a40              SUBS     r0,r0,r1
0005f8  9002              STR      r0,[sp,#8]
;;;326    				SET_LoadV_Offset = var32c;
0005fa  9802              LDR      r0,[sp,#8]
0005fc  6128              STR      r0,[r5,#0x10]  ; Correct_Strong
;;;327    				Polar2 &= ~0x04;
0005fe  78a0              LDRB     r0,[r4,#2]  ; correct_por
000600  f0200004          BIC      r0,r0,#4
000604  70a0              STRB     r0,[r4,#2]
                  |L3.1542|
;;;328    			}
;;;329    //---------------------------------------------------------------------------------------//
;;;330    		  Flash_Write_all();	//??д?FLASH
000606  f7fffffe          BL       Flash_Write_all
;;;331    			DAC_Flag=0;
00060a  f886b000          STRB     r11,[r6,#0]
                  |L3.1550|
;;;332    		}
;;;333    /*************************************??У?**************************************************************************/
;;;334    		if(g_tModS.RxBuf[1] == 0x07||flag_ADJ_VL==1)
00060e  f8dfb2c0          LDR      r11,|L3.2256|
;;;335    		{
;;;336    			Modify_A_READ = Rmon_value;//????
000612  49b0              LDR      r1,|L3.2260|
000614  f89b0001          LDRB     r0,[r11,#1]           ;334  ; g_tModS
000618  2807              CMP      r0,#7                 ;334
00061a  d003              BEQ      |L3.1572|
00061c  f8992000          LDRB     r2,[r9,#0]            ;334  ; flagF
000620  0752              LSLS     r2,r2,#29             ;334
000622  d508              BPL      |L3.1590|
                  |L3.1572|
000624  880a              LDRH     r2,[r1,#0]  ; Rmon_value
000626  6072              STR      r2,[r6,#4]  ; Modify_A_READ
;;;337    			Modify_A_ACT = (g_tModS.RxBuf[3] << 8) + g_tModS.RxBuf[4];//????
000628  f89b2004          LDRB     r2,[r11,#4]  ; g_tModS
00062c  f89b3003          LDRB     r3,[r11,#3]  ; g_tModS
000630  eb022203          ADD      r2,r2,r3,LSL #8
000634  60f2              STR      r2,[r6,#0xc]  ; Modify_A_ACT
                  |L3.1590|
;;;338    		}
;;;339    		if (g_tModS.RxBuf[1] == 0x08||flag_ADJ_VH==1)			   //???У???
000636  2808              CMP      r0,#8
000638  d003              BEQ      |L3.1602|
00063a  f8990000          LDRB     r0,[r9,#0]  ; flagF
00063e  0700              LSLS     r0,r0,#28
000640  d57e              BPL      |L3.1856|
                  |L3.1602|
;;;340    		{
;;;341    			vu16 var16;
;;;342    			vu32 var32a;
;;;343    			vu32 var32b;
;;;344    			
;;;345    			vu16 var16a;
;;;346    			vu32 var32c;
;;;347    			vu32 var32d;
;;;348    			Modify_B_READ =Rmon_value;//????
000642  8808              LDRH     r0,[r1,#0]  ; Rmon_value
000644  6130              STR      r0,[r6,#0x10]  ; Modify_B_READ
;;;349    			flag_OverV=1;
000646  49a4              LDR      r1,|L3.2264|
000648  6808              LDR      r0,[r1,#0]  ; flagG
00064a  f0400002          ORR      r0,r0,#2
00064e  6008              STR      r0,[r1,#0]  ; flagG
;;;350    			Modify_B_ACT = (g_tModS.RxBuf[3] << 8) + g_tModS.RxBuf[4];//????
000650  f89b1004          LDRB     r1,[r11,#4]  ; g_tModS
000654  f89b2003          LDRB     r2,[r11,#3]  ; g_tModS
000658  eb012102          ADD      r1,r1,r2,LSL #8
00065c  61b1              STR      r1,[r6,#0x18]  ; Modify_B_ACT
;;;351    			if(flag_OverV==1)//??????д?????У???д?FLASH
00065e  0780              LSLS     r0,r0,#30
000660  d575              BPL      |L3.1870|
;;;352    			{
;;;353    				var32a = Modify_B_ACT;
000662  69b0              LDR      r0,[r6,#0x18]  ; Modify_B_ACT
000664  9005              STR      r0,[sp,#0x14]
;;;354    				var32a = var32a - Modify_A_ACT;
000666  9805              LDR      r0,[sp,#0x14]
000668  68f1              LDR      r1,[r6,#0xc]  ; Modify_A_ACT
00066a  1a40              SUBS     r0,r0,r1
00066c  9005              STR      r0,[sp,#0x14]
;;;355    				var32a = var32a << 12;
00066e  9805              LDR      r0,[sp,#0x14]
000670  0300              LSLS     r0,r0,#12
000672  9005              STR      r0,[sp,#0x14]
;;;356    				var16 = Modify_B_READ - Modify_A_READ;
000674  6930              LDR      r0,[r6,#0x10]  ; Modify_B_READ
000676  6871              LDR      r1,[r6,#4]  ; Modify_A_READ
000678  1a40              SUBS     r0,r0,r1
00067a  9006              STR      r0,[sp,#0x18]
;;;357    				var32a = var32a / var16;
00067c  f8bd1018          LDRH     r1,[sp,#0x18]
000680  9805              LDR      r0,[sp,#0x14]
000682  fbb0f0f1          UDIV     r0,r0,r1
000686  9005              STR      r0,[sp,#0x14]
;;;358                    if(r_raly == 1)
000688  4894              LDR      r0,|L3.2268|
00068a  7800              LDRB     r0,[r0,#0]  ; r_raly
00068c  2801              CMP      r0,#1
00068e  d01d              BEQ      |L3.1740|
;;;359                    {
;;;360                        REG_CorrectionR = var32a;
;;;361                        var32a=0;
;;;362                        var32a = Modify_B_ACT;
;;;363                        var32a = var32a << 12;
;;;364                        var32b = Modify_B_READ;
;;;365                        var32b = var32b * REG_CorrectionR;
;;;366                        if (var32a < var32b)
;;;367                        {
;;;368                            var32b = var32b - var32a;
;;;369                            REG_ReadR_Offset = var32b;
;;;370                            Polar3 |= 0x01;
;;;371                        }
;;;372                        else 
;;;373                        {
;;;374                            var32a = var32a - var32b;
;;;375                            REG_ReadR_Offset = var32a;
;;;376                            Polar3 &= ~0x01;
;;;377                        }
;;;378                    }else{
;;;379                        REG_CorrectionRL = var32a;
000690  9805              LDR      r0,[sp,#0x14]
000692  f8c8002c          STR      r0,[r8,#0x2c]  ; Correct_Parametet
;;;380                        var32a=0;
;;;381                        var32a = Modify_B_ACT;
000696  69b0              LDR      r0,[r6,#0x18]  ; Modify_B_ACT
000698  9005              STR      r0,[sp,#0x14]
;;;382                        var32a = var32a << 12;
00069a  9805              LDR      r0,[sp,#0x14]
00069c  0300              LSLS     r0,r0,#12
00069e  9005              STR      r0,[sp,#0x14]
;;;383                        var32b = Modify_B_READ;
0006a0  6930              LDR      r0,[r6,#0x10]  ; Modify_B_READ
0006a2  9004              STR      r0,[sp,#0x10]
;;;384                        var32b = var32b * REG_CorrectionRL;
0006a4  f8d8002c          LDR      r0,[r8,#0x2c]  ; Correct_Parametet
0006a8  9904              LDR      r1,[sp,#0x10]
0006aa  4348              MULS     r0,r1,r0
0006ac  9004              STR      r0,[sp,#0x10]
;;;385                        if (var32a < var32b)
0006ae  e9dd1004          LDRD     r1,r0,[sp,#0x10]
0006b2  4288              CMP      r0,r1
0006b4  d233              BCS      |L3.1822|
;;;386                        {
;;;387                            var32b = var32b - var32a;
0006b6  e9dd0104          LDRD     r0,r1,[sp,#0x10]
0006ba  1a40              SUBS     r0,r0,r1
0006bc  9004              STR      r0,[sp,#0x10]
;;;388                            REG_ReadRL_Offset = var32b;
0006be  9804              LDR      r0,[sp,#0x10]
0006c0  62e8              STR      r0,[r5,#0x2c]  ; Correct_Strong
;;;389                            Polar3 |= 0x01;
0006c2  78e0              LDRB     r0,[r4,#3]  ; correct_por
0006c4  f0400001          ORR      r0,r0,#1
0006c8  70e0              STRB     r0,[r4,#3]
0006ca  e032              B        |L3.1842|
                  |L3.1740|
0006cc  9805              LDR      r0,[sp,#0x14]         ;360
0006ce  f8c80014          STR      r0,[r8,#0x14]         ;360  ; Correct_Parametet
0006d2  69b0              LDR      r0,[r6,#0x18]         ;362  ; Modify_B_ACT
0006d4  9005              STR      r0,[sp,#0x14]         ;362
0006d6  9805              LDR      r0,[sp,#0x14]         ;363
0006d8  0300              LSLS     r0,r0,#12             ;363
0006da  9005              STR      r0,[sp,#0x14]         ;363
0006dc  6930              LDR      r0,[r6,#0x10]         ;364  ; Modify_B_READ
0006de  9004              STR      r0,[sp,#0x10]         ;364
0006e0  f8d80014          LDR      r0,[r8,#0x14]         ;365  ; Correct_Parametet
0006e4  9904              LDR      r1,[sp,#0x10]         ;365
0006e6  4348              MULS     r0,r1,r0              ;365
0006e8  9004              STR      r0,[sp,#0x10]         ;365
0006ea  e9dd1004          LDRD     r1,r0,[sp,#0x10]      ;366
0006ee  4288              CMP      r0,r1                 ;366
0006f0  d20a              BCS      |L3.1800|
0006f2  e9dd1004          LDRD     r1,r0,[sp,#0x10]      ;368
0006f6  1a08              SUBS     r0,r1,r0              ;368
0006f8  9004              STR      r0,[sp,#0x10]         ;368
0006fa  9804              LDR      r0,[sp,#0x10]         ;369
0006fc  6168              STR      r0,[r5,#0x14]         ;369  ; Correct_Strong
0006fe  78e0              LDRB     r0,[r4,#3]            ;370  ; correct_por
000700  f0400001          ORR      r0,r0,#1              ;370
000704  70e0              STRB     r0,[r4,#3]            ;370
000706  e014              B        |L3.1842|
                  |L3.1800|
000708  e9dd1004          LDRD     r1,r0,[sp,#0x10]      ;374
00070c  1a40              SUBS     r0,r0,r1              ;374
00070e  9005              STR      r0,[sp,#0x14]         ;374
000710  9805              LDR      r0,[sp,#0x14]         ;375
000712  6168              STR      r0,[r5,#0x14]         ;375  ; Correct_Strong
000714  78e0              LDRB     r0,[r4,#3]            ;376  ; correct_por
000716  f0200001          BIC      r0,r0,#1              ;376
00071a  70e0              STRB     r0,[r4,#3]            ;376
00071c  e009              B        |L3.1842|
                  |L3.1822|
;;;390                        }
;;;391                        else 
;;;392                        {
;;;393                            var32a = var32a - var32b;
00071e  e9dd1004          LDRD     r1,r0,[sp,#0x10]
000722  1a40              SUBS     r0,r0,r1
000724  9005              STR      r0,[sp,#0x14]
;;;394                            REG_ReadR_Offset = var32a;
000726  9805              LDR      r0,[sp,#0x14]
000728  6168              STR      r0,[r5,#0x14]  ; Correct_Strong
;;;395                            Polar3 &= ~0x01;
00072a  78e0              LDRB     r0,[r4,#3]  ; correct_por
00072c  f0200001          BIC      r0,r0,#1
000730  70e0              STRB     r0,[r4,#3]
                  |L3.1842|
;;;396                        }
;;;397                    }
;;;398    	//---------------------------------------------------------------------------------------//
;;;399    				Flash_Write_all();	//??д?FLASH
000732  f7fffffe          BL       Flash_Write_all
;;;400    				flag_OverV=0;
000736  4868              LDR      r0,|L3.2264|
000738  6801              LDR      r1,[r0,#0]  ; flagG
00073a  f0210102          BIC      r1,r1,#2
00073e  e001              B        |L3.1860|
                  |L3.1856|
000740  e00b              B        |L3.1882|
000742  e004              B        |L3.1870|
                  |L3.1860|
000744  6001              STR      r1,[r0,#0]  ; flagG
;;;401    				Flag_DAC_OFF=0;
000746  6838              LDR      r0,[r7,#0]  ; flagB
000748  f0200008          BIC      r0,r0,#8
00074c  6038              STR      r0,[r7,#0]  ; flagB
                  |L3.1870|
;;;402    			}
;;;403    			flag_ADJ_VH=0;//????λ??????
00074e  f8d90000          LDR      r0,[r9,#0]  ; flagF
000752  f0200008          BIC      r0,r0,#8
000756  f8c90000          STR      r0,[r9,#0]  ; flagF
                  |L3.1882|
;;;404    		}		
;;;405    /*******************************??CC???・????У?******************************************/	
;;;406    		if (g_tModS.RxBuf[1] == 0x09||flag_ADJ_ALCC==1)			   //?・?У?
00075a  f89b0001          LDRB     r0,[r11,#1]  ; g_tModS
00075e  2809              CMP      r0,#9
000760  d003              BEQ      |L3.1898|
000762  f8991000          LDRB     r1,[r9,#0]  ; flagF
000766  06c9              LSLS     r1,r1,#27
000768  d50c              BPL      |L3.1924|
                  |L3.1898|
;;;407    		{
;;;408    			Modify_A_READ = Imon_value;//??・
00076a  495d              LDR      r1,|L3.2272|
00076c  8809              LDRH     r1,[r1,#0]  ; Imon_value
00076e  6071              STR      r1,[r6,#4]  ; Modify_A_READ
;;;409    			Modify_C_READ = Contr_Current;//???・
000770  495c              LDR      r1,|L3.2276|
000772  8809              LDRH     r1,[r1,#0]  ; Contr_Current
000774  60b1              STR      r1,[r6,#8]  ; Modify_C_READ
;;;410    			Modify_A_ACT = (g_tModS.RxBuf[3] << 8) + g_tModS.RxBuf[4];
000776  f89b1004          LDRB     r1,[r11,#4]  ; g_tModS
00077a  f89b2003          LDRB     r2,[r11,#3]  ; g_tModS
00077e  eb012102          ADD      r1,r1,r2,LSL #8
000782  60f1              STR      r1,[r6,#0xc]  ; Modify_A_ACT
                  |L3.1924|
;;;411    		}
;;;412    
;;;413    		if (g_tModS.RxBuf[1] == 0x0A||flag_ADJ_AHCC==1)			   //?・?У???
000784  280a              CMP      r0,#0xa
000786  d003              BEQ      |L3.1936|
000788  f8990000          LDRB     r0,[r9,#0]  ; flagF
00078c  0680              LSLS     r0,r0,#26
00078e  d57d              BPL      |L3.2188|
                  |L3.1936|
;;;414    		{
;;;415    			vu16 var16;
;;;416    			vu32 var32a;
;;;417    			vu32 var32b;
;;;418    			
;;;419    			vu16 var16a;
;;;420    			vu32 var32c;
;;;421    			vu32 var32d;
;;;422    			
;;;423    			Modify_D_READ = Contr_Current;
000790  4854              LDR      r0,|L3.2276|
000792  8800              LDRH     r0,[r0,#0]  ; Contr_Current
000794  6170              STR      r0,[r6,#0x14]  ; Modify_D_READ
;;;424    			Modify_B_READ = Imon_value;
000796  4852              LDR      r0,|L3.2272|
000798  8800              LDRH     r0,[r0,#0]  ; Imon_value
00079a  6130              STR      r0,[r6,#0x10]  ; Modify_B_READ
;;;425    			Modify_B_ACT = (g_tModS.RxBuf[3] << 8) + g_tModS.RxBuf[4];
00079c  f89b0004          LDRB     r0,[r11,#4]  ; g_tModS
0007a0  f89b1003          LDRB     r1,[r11,#3]  ; g_tModS
0007a4  eb002001          ADD      r0,r0,r1,LSL #8
0007a8  61b0              STR      r0,[r6,#0x18]  ; Modify_B_ACT
;;;426    			var32a = Modify_B_ACT;
0007aa  69b0              LDR      r0,[r6,#0x18]  ; Modify_B_ACT
0007ac  9005              STR      r0,[sp,#0x14]
;;;427    			var32a = var32a - Modify_A_ACT;
0007ae  9805              LDR      r0,[sp,#0x14]
0007b0  68f1              LDR      r1,[r6,#0xc]  ; Modify_A_ACT
0007b2  1a40              SUBS     r0,r0,r1
0007b4  9005              STR      r0,[sp,#0x14]
;;;428    			var32a = var32a << 14;
0007b6  9805              LDR      r0,[sp,#0x14]
0007b8  0380              LSLS     r0,r0,#14
0007ba  9005              STR      r0,[sp,#0x14]
;;;429    			var16 = Modify_B_READ - Modify_A_READ;
0007bc  6930              LDR      r0,[r6,#0x10]  ; Modify_B_READ
0007be  6871              LDR      r1,[r6,#4]  ; Modify_A_READ
0007c0  1a40              SUBS     r0,r0,r1
0007c2  9006              STR      r0,[sp,#0x18]
;;;430    			var32a = var32a / var16;
0007c4  f8bd1018          LDRH     r1,[sp,#0x18]
0007c8  9805              LDR      r0,[sp,#0x14]
0007ca  fbb0f0f1          UDIV     r0,r0,r1
0007ce  9005              STR      r0,[sp,#0x14]
;;;431    			REG_POWERA = var32a;
0007d0  9805              LDR      r0,[sp,#0x14]
0007d2  f8c80018          STR      r0,[r8,#0x18]  ; Correct_Parametet
;;;432    			var32a = Modify_B_ACT;
0007d6  69b0              LDR      r0,[r6,#0x18]  ; Modify_B_ACT
0007d8  9005              STR      r0,[sp,#0x14]
;;;433    			var32a = var32a << 14;
0007da  9805              LDR      r0,[sp,#0x14]
0007dc  0380              LSLS     r0,r0,#14
0007de  9005              STR      r0,[sp,#0x14]
;;;434    			var32b = Modify_B_READ;
0007e0  6930              LDR      r0,[r6,#0x10]  ; Modify_B_READ
0007e2  9004              STR      r0,[sp,#0x10]
;;;435    			var32b = var32b * REG_POWERA;
0007e4  f8d80018          LDR      r0,[r8,#0x18]  ; Correct_Parametet
0007e8  9904              LDR      r1,[sp,#0x10]
0007ea  4348              MULS     r0,r1,r0
0007ec  9004              STR      r0,[sp,#0x10]
;;;436    			if (var32a < var32b)
0007ee  e9dd1004          LDRD     r1,r0,[sp,#0x10]
0007f2  4288              CMP      r0,r1
0007f4  d20a              BCS      |L3.2060|
;;;437    			{
;;;438    				var32b = var32b - var32a;
0007f6  e9dd0104          LDRD     r0,r1,[sp,#0x10]
0007fa  1a40              SUBS     r0,r0,r1
0007fc  9004              STR      r0,[sp,#0x10]
;;;439    				REG_POWERA_Offset = var32b;
0007fe  9804              LDR      r0,[sp,#0x10]
000800  61a8              STR      r0,[r5,#0x18]  ; Correct_Strong
;;;440    				Polar4 |= 0x01;
000802  7920              LDRB     r0,[r4,#4]  ; correct_por
000804  f0400001          ORR      r0,r0,#1
000808  7120              STRB     r0,[r4,#4]
00080a  e009              B        |L3.2080|
                  |L3.2060|
;;;441    			}
;;;442    			else 
;;;443    			{
;;;444    				var32a = var32a - var32b;
00080c  e9dd1004          LDRD     r1,r0,[sp,#0x10]
000810  1a40              SUBS     r0,r0,r1
000812  9005              STR      r0,[sp,#0x14]
;;;445    				REG_POWERA_Offset = var32a;
000814  9805              LDR      r0,[sp,#0x14]
000816  61a8              STR      r0,[r5,#0x18]  ; Correct_Strong
;;;446    				Polar4 &= ~0x01;					//?・????￡?У???
000818  7920              LDRB     r0,[r4,#4]  ; correct_por
00081a  f0200001          BIC      r0,r0,#1
00081e  7120              STRB     r0,[r4,#4]
                  |L3.2080|
;;;447    			}
;;;448    	//---------------------------------------------------------------------------------//
;;;449    			var32c = Modify_B_ACT; //???・У?
000820  69b0              LDR      r0,[r6,#0x18]  ; Modify_B_ACT
000822  9002              STR      r0,[sp,#8]
;;;450    			var32c = var32c - Modify_A_ACT;
000824  9802              LDR      r0,[sp,#8]
000826  68f1              LDR      r1,[r6,#0xc]  ; Modify_A_ACT
000828  1a40              SUBS     r0,r0,r1
00082a  9002              STR      r0,[sp,#8]
;;;451    			var32c = var32c << 14;
00082c  9802              LDR      r0,[sp,#8]
00082e  0380              LSLS     r0,r0,#14
000830  9002              STR      r0,[sp,#8]
;;;452    			var16a=Modify_D_READ-Modify_C_READ;
000832  6970              LDR      r0,[r6,#0x14]  ; Modify_D_READ
000834  68b1              LDR      r1,[r6,#8]  ; Modify_C_READ
000836  1a40              SUBS     r0,r0,r1
000838  9003              STR      r0,[sp,#0xc]
;;;453    			var16a=var16a*2;
00083a  f8bd100c          LDRH     r1,[sp,#0xc]
00083e  f64f70ff          MOV      r0,#0xffff
000842  ea000041          AND      r0,r0,r1,LSL #1
000846  9003              STR      r0,[sp,#0xc]
;;;454    			var32c=var32c/var16a;
000848  f8bd100c          LDRH     r1,[sp,#0xc]
00084c  9802              LDR      r0,[sp,#8]
00084e  fbb0f0f1          UDIV     r0,r0,r1
000852  9002              STR      r0,[sp,#8]
;;;455    			SET_POWERA = var32c;
000854  9802              LDR      r0,[sp,#8]
000856  f8c8001c          STR      r0,[r8,#0x1c]  ; Correct_Parametet
;;;456    			var32c = Modify_B_ACT;
00085a  69b0              LDR      r0,[r6,#0x18]  ; Modify_B_ACT
00085c  9002              STR      r0,[sp,#8]
;;;457    			var32c = var32c << 14;
00085e  9802              LDR      r0,[sp,#8]
000860  0380              LSLS     r0,r0,#14
000862  9002              STR      r0,[sp,#8]
;;;458    			var32d = SET_POWERA;
000864  f8d8001c          LDR      r0,[r8,#0x1c]  ; Correct_Parametet
000868  9001              STR      r0,[sp,#4]
;;;459    			var32d = var32d * (Modify_D_READ*2);
00086a  9801              LDR      r0,[sp,#4]
00086c  6971              LDR      r1,[r6,#0x14]  ; Modify_D_READ
00086e  4348              MULS     r0,r1,r0
000870  0040              LSLS     r0,r0,#1
000872  9001              STR      r0,[sp,#4]
;;;460    			if (var32c < var32d)
000874  e9dd1001          LDRD     r1,r0,[sp,#4]
000878  4288              CMP      r0,r1
00087a  d20c              BCS      |L3.2198|
;;;461    			{
;;;462    				var32d = var32d - var32c;
00087c  e9dd0101          LDRD     r0,r1,[sp,#4]
000880  1a40              SUBS     r0,r0,r1
000882  9001              STR      r0,[sp,#4]
;;;463    				SET_POWERA_Offset = var32d;
000884  9801              LDR      r0,[sp,#4]
000886  61e8              STR      r0,[r5,#0x1c]  ; Correct_Strong
;;;464    				Polar4 |= 0x04;
000888  7920              LDRB     r0,[r4,#4]  ; correct_por
00088a  e000              B        |L3.2190|
                  |L3.2188|
00088c  e013              B        |L3.2230|
                  |L3.2190|
00088e  f0400004          ORR      r0,r0,#4
000892  7120              STRB     r0,[r4,#4]
000894  e009              B        |L3.2218|
                  |L3.2198|
;;;465    			}
;;;466    			else 
;;;467    			{
;;;468    				var32c = var32c - var32d;
000896  e9dd0101          LDRD     r0,r1,[sp,#4]
00089a  1a08              SUBS     r0,r1,r0
00089c  9002              STR      r0,[sp,#8]
;;;469    				SET_POWERA_Offset = var32c;
00089e  9802              LDR      r0,[sp,#8]
0008a0  61e8              STR      r0,[r5,#0x1c]  ; Correct_Strong
;;;470    				Polar4 &= ~0x04;
0008a2  7920              LDRB     r0,[r4,#4]  ; correct_por
0008a4  f0200004          BIC      r0,r0,#4
0008a8  7120              STRB     r0,[r4,#4]
                  |L3.2218|
;;;471    			}
;;;472    			Flash_Write_all ();	
0008aa  f7fffffe          BL       Flash_Write_all
;;;473    			Flag_DAC_OFF=0;
0008ae  6838              LDR      r0,[r7,#0]  ; flagB
0008b0  f0200008          BIC      r0,r0,#8
0008b4  6038              STR      r0,[r7,#0]  ; flagB
                  |L3.2230|
;;;474    		}
;;;475    /*******************************????????У?******************************************/	
;;;476    		if (g_tModS.RxBuf[1] == 0x0B)			   //?・?У?
0008b6  4659              MOV      r1,r11
0008b8  f89b0001          LDRB     r0,[r11,#1]  ; g_tModS
;;;477    		{
;;;478    			Modify_A_READ = Vmon_value;//??d
0008bc  f8dfb028          LDR      r11,|L3.2280|
;;;479    			Modify_C_READ = Contr_Voltage;//???d
0008c0  f8df9028          LDR      r9,|L3.2284|
0008c4  280b              CMP      r0,#0xb               ;476
0008c6  d11b              BNE      |L3.2304|
0008c8  f8bb2000          LDRH     r2,[r11,#0]           ;478  ; Vmon_value
0008cc  6072              STR      r2,[r6,#4]            ;478  ; Modify_A_READ
0008ce  e00f              B        |L3.2288|
                  |L3.2256|
                          DCD      g_tModS
                  |L3.2260|
                          DCD      Rmon_value
                  |L3.2264|
                          DCD      flagG
                  |L3.2268|
                          DCD      r_raly
                  |L3.2272|
                          DCD      Imon_value
                  |L3.2276|
                          DCD      Contr_Current
                  |L3.2280|
                          DCD      Vmon_value
                  |L3.2284|
                          DCD      Contr_Voltage
                  |L3.2288|
0008f0  f8b92000          LDRH     r2,[r9,#0]  ; Contr_Voltage
0008f4  60b2              STR      r2,[r6,#8]  ; Modify_C_READ
;;;480    			Modify_A_ACT = (g_tModS.RxBuf[3] << 8) + g_tModS.RxBuf[4];
0008f6  790a              LDRB     r2,[r1,#4]  ; g_tModS
0008f8  78cb              LDRB     r3,[r1,#3]  ; g_tModS
0008fa  eb022203          ADD      r2,r2,r3,LSL #8
0008fe  60f2              STR      r2,[r6,#0xc]  ; Modify_A_ACT
                  |L3.2304|
;;;481    		}
;;;482    
;;;483    		if (g_tModS.RxBuf[1] == 0x0C)			   //?・?У???
000900  280c              CMP      r0,#0xc
000902  d17c              BNE      |L3.2558|
;;;484    		{
;;;485    			vu16 var16;
;;;486    			vu32 var32a;
;;;487    			vu32 var32b;
;;;488    			
;;;489    			vu16 var16a;
;;;490    			vu32 var32c;
;;;491    			vu32 var32d;
;;;492    			
;;;493    			Modify_D_READ = Contr_Voltage;
000904  f8b90000          LDRH     r0,[r9,#0]  ; Contr_Voltage
000908  6170              STR      r0,[r6,#0x14]  ; Modify_D_READ
;;;494    			Modify_B_READ = Vmon_value;
00090a  f8bb0000          LDRH     r0,[r11,#0]  ; Vmon_value
00090e  6130              STR      r0,[r6,#0x10]  ; Modify_B_READ
;;;495    			Modify_B_ACT = (g_tModS.RxBuf[3] << 8) + g_tModS.RxBuf[4];
000910  48fe              LDR      r0,|L3.3340|
000912  7901              LDRB     r1,[r0,#4]  ; g_tModS
000914  78c0              LDRB     r0,[r0,#3]  ; g_tModS
000916  eb012000          ADD      r0,r1,r0,LSL #8
00091a  61b0              STR      r0,[r6,#0x18]  ; Modify_B_ACT
;;;496    			var32a = Modify_B_ACT;
00091c  69b0              LDR      r0,[r6,#0x18]  ; Modify_B_ACT
00091e  9005              STR      r0,[sp,#0x14]
;;;497    			var32a = var32a - Modify_A_ACT;
000920  9805              LDR      r0,[sp,#0x14]
000922  68f1              LDR      r1,[r6,#0xc]  ; Modify_A_ACT
000924  1a40              SUBS     r0,r0,r1
000926  9005              STR      r0,[sp,#0x14]
;;;498    			var32a = var32a << 14;
000928  9805              LDR      r0,[sp,#0x14]
00092a  0380              LSLS     r0,r0,#14
00092c  9005              STR      r0,[sp,#0x14]
;;;499    			var16 = Modify_B_READ - Modify_A_READ;
00092e  6930              LDR      r0,[r6,#0x10]  ; Modify_B_READ
000930  6871              LDR      r1,[r6,#4]  ; Modify_A_READ
000932  1a40              SUBS     r0,r0,r1
000934  9006              STR      r0,[sp,#0x18]
;;;500    			var32a = var32a / var16;
000936  f8bd1018          LDRH     r1,[sp,#0x18]
00093a  9805              LDR      r0,[sp,#0x14]
00093c  fbb0f0f1          UDIV     r0,r0,r1
000940  9005              STR      r0,[sp,#0x14]
;;;501    			REG_POWERV = var32a;
000942  9805              LDR      r0,[sp,#0x14]
000944  f8c80020          STR      r0,[r8,#0x20]  ; Correct_Parametet
;;;502    			var32a = Modify_B_ACT;
000948  69b0              LDR      r0,[r6,#0x18]  ; Modify_B_ACT
00094a  9005              STR      r0,[sp,#0x14]
;;;503    			var32a = var32a << 14;
00094c  9805              LDR      r0,[sp,#0x14]
00094e  0380              LSLS     r0,r0,#14
000950  9005              STR      r0,[sp,#0x14]
;;;504    			var32b = Modify_B_READ;
000952  6930              LDR      r0,[r6,#0x10]  ; Modify_B_READ
000954  9004              STR      r0,[sp,#0x10]
;;;505    			var32b = var32b * REG_POWERV;
000956  f8d80020          LDR      r0,[r8,#0x20]  ; Correct_Parametet
00095a  9904              LDR      r1,[sp,#0x10]
00095c  4348              MULS     r0,r1,r0
00095e  9004              STR      r0,[sp,#0x10]
;;;506    			if (var32a < var32b)
000960  e9dd1004          LDRD     r1,r0,[sp,#0x10]
000964  4288              CMP      r0,r1
000966  d20a              BCS      |L3.2430|
;;;507    			{
;;;508    				var32b = var32b - var32a;
000968  e9dd1004          LDRD     r1,r0,[sp,#0x10]
00096c  1a08              SUBS     r0,r1,r0
00096e  9004              STR      r0,[sp,#0x10]
;;;509    				REG_POWERV_Offset = var32b;
000970  9804              LDR      r0,[sp,#0x10]
000972  6228              STR      r0,[r5,#0x20]  ; Correct_Strong
;;;510    				Polar5 |= 0x01;
000974  7960              LDRB     r0,[r4,#5]  ; correct_por
000976  f0400001          ORR      r0,r0,#1
00097a  7160              STRB     r0,[r4,#5]
00097c  e009              B        |L3.2450|
                  |L3.2430|
;;;511    			}
;;;512    			else 
;;;513    			{
;;;514    				var32a = var32a - var32b;
00097e  e9dd1004          LDRD     r1,r0,[sp,#0x10]
000982  1a40              SUBS     r0,r0,r1
000984  9005              STR      r0,[sp,#0x14]
;;;515    				REG_POWERV_Offset = var32a;
000986  9805              LDR      r0,[sp,#0x14]
000988  6228              STR      r0,[r5,#0x20]  ; Correct_Strong
;;;516    				Polar5 &= ~0x01;					
00098a  7960              LDRB     r0,[r4,#5]  ; correct_por
00098c  f0200001          BIC      r0,r0,#1
000990  7160              STRB     r0,[r4,#5]
                  |L3.2450|
;;;517    			}
;;;518    	//---------------------------------------------------------------------------------//
;;;519    			var32c = Modify_B_ACT; //????У?
000992  69b0              LDR      r0,[r6,#0x18]  ; Modify_B_ACT
000994  9002              STR      r0,[sp,#8]
;;;520    			var32c = var32c - Modify_A_ACT;
000996  9802              LDR      r0,[sp,#8]
000998  68f1              LDR      r1,[r6,#0xc]  ; Modify_A_ACT
00099a  1a40              SUBS     r0,r0,r1
00099c  9002              STR      r0,[sp,#8]
;;;521    			var32c = var32c << 14;
00099e  9802              LDR      r0,[sp,#8]
0009a0  0380              LSLS     r0,r0,#14
0009a2  9002              STR      r0,[sp,#8]
;;;522    			var16a=Modify_D_READ-Modify_C_READ;
0009a4  6970              LDR      r0,[r6,#0x14]  ; Modify_D_READ
0009a6  68b1              LDR      r1,[r6,#8]  ; Modify_C_READ
0009a8  1a40              SUBS     r0,r0,r1
0009aa  9003              STR      r0,[sp,#0xc]
;;;523    			var16a=var16a*2;
0009ac  f8bd100c          LDRH     r1,[sp,#0xc]
0009b0  f64f70ff          MOV      r0,#0xffff
0009b4  ea000041          AND      r0,r0,r1,LSL #1
0009b8  9003              STR      r0,[sp,#0xc]
;;;524    			var32c=var32c/var16a;
0009ba  f8bd100c          LDRH     r1,[sp,#0xc]
0009be  9802              LDR      r0,[sp,#8]
0009c0  fbb0f0f1          UDIV     r0,r0,r1
0009c4  9002              STR      r0,[sp,#8]
;;;525    			SET_POWERV = var32c;
0009c6  9802              LDR      r0,[sp,#8]
0009c8  f8c80024          STR      r0,[r8,#0x24]  ; Correct_Parametet
;;;526    			var32c = Modify_B_ACT;
0009cc  69b0              LDR      r0,[r6,#0x18]  ; Modify_B_ACT
0009ce  9002              STR      r0,[sp,#8]
;;;527    			var32c = var32c << 14;
0009d0  9802              LDR      r0,[sp,#8]
0009d2  0380              LSLS     r0,r0,#14
0009d4  9002              STR      r0,[sp,#8]
;;;528    			var32d = SET_POWERV;
0009d6  f8d80024          LDR      r0,[r8,#0x24]  ; Correct_Parametet
0009da  9001              STR      r0,[sp,#4]
;;;529    			var32d = var32d * (Modify_D_READ*2);
0009dc  9801              LDR      r0,[sp,#4]
0009de  6971              LDR      r1,[r6,#0x14]  ; Modify_D_READ
0009e0  4348              MULS     r0,r1,r0
0009e2  0040              LSLS     r0,r0,#1
0009e4  9001              STR      r0,[sp,#4]
;;;530    			if (var32c < var32d)
0009e6  e9dd1001          LDRD     r1,r0,[sp,#4]
0009ea  4288              CMP      r0,r1
0009ec  d20c              BCS      |L3.2568|
;;;531    			{
;;;532    				var32d = var32d - var32c;
0009ee  e9dd0101          LDRD     r0,r1,[sp,#4]
0009f2  1a40              SUBS     r0,r0,r1
0009f4  9001              STR      r0,[sp,#4]
;;;533    				SET_POWERV_Offset = var32d;
0009f6  9801              LDR      r0,[sp,#4]
0009f8  6268              STR      r0,[r5,#0x24]  ; Correct_Strong
;;;534    				Polar5 |= 0x04;
0009fa  7960              LDRB     r0,[r4,#5]  ; correct_por
0009fc  e000              B        |L3.2560|
                  |L3.2558|
0009fe  e013              B        |L3.2600|
                  |L3.2560|
000a00  f0400004          ORR      r0,r0,#4
000a04  7160              STRB     r0,[r4,#5]
000a06  e009              B        |L3.2588|
                  |L3.2568|
;;;535    			}
;;;536    			else 
;;;537    			{
;;;538    				var32c = var32c - var32d;
000a08  e9dd1001          LDRD     r1,r0,[sp,#4]
000a0c  1a40              SUBS     r0,r0,r1
000a0e  9002              STR      r0,[sp,#8]
;;;539    				SET_POWERV_Offset = var32c;
000a10  9802              LDR      r0,[sp,#8]
000a12  6268              STR      r0,[r5,#0x24]  ; Correct_Strong
;;;540    				Polar5 &= ~0x04;
000a14  7960              LDRB     r0,[r4,#5]  ; correct_por
000a16  f0200004          BIC      r0,r0,#4
000a1a  7160              STRB     r0,[r4,#5]
                  |L3.2588|
;;;541    			}
;;;542    			Flash_Write_all ();	
000a1c  f7fffffe          BL       Flash_Write_all
;;;543    			Flag_DAC_OFF=0;
000a20  6838              LDR      r0,[r7,#0]  ; flagB
000a22  f0200008          BIC      r0,r0,#8
000a26  6038              STR      r0,[r7,#0]  ; flagB
                  |L3.2600|
;;;544    		}
;;;545    /*******************************????????У?******************************************/	
;;;546    		if (g_tModS.RxBuf[1] == 0x22)			   //?・?У?
000a28  49b8              LDR      r1,|L3.3340|
000a2a  7848              LDRB     r0,[r1,#1]  ; g_tModS
000a2c  2822              CMP      r0,#0x22
000a2e  d10a              BNE      |L3.2630|
;;;547    		{
;;;548    			Modify_A_READ = Vmon_value;//??d
000a30  f8bb2000          LDRH     r2,[r11,#0]  ; Vmon_value
000a34  6072              STR      r2,[r6,#4]  ; Modify_A_READ
;;;549    			Modify_C_READ = Contr_Voltage;//???d
000a36  f8b92000          LDRH     r2,[r9,#0]  ; Contr_Voltage
000a3a  60b2              STR      r2,[r6,#8]  ; Modify_C_READ
;;;550    			Modify_A_ACT = (g_tModS.RxBuf[3] << 8) + g_tModS.RxBuf[4];
000a3c  790a              LDRB     r2,[r1,#4]  ; g_tModS
000a3e  78cb              LDRB     r3,[r1,#3]  ; g_tModS
000a40  eb022203          ADD      r2,r2,r3,LSL #8
000a44  60f2              STR      r2,[r6,#0xc]  ; Modify_A_ACT
                  |L3.2630|
;;;551    		}
;;;552    
;;;553    		if (g_tModS.RxBuf[1] == 0x23)			   //?・?У???
000a46  2823              CMP      r0,#0x23
000a48  d17e              BNE      |L3.2888|
;;;554    		{
;;;555    			vu16 var16;
;;;556    			vu32 var32a;
;;;557    			vu32 var32b;
;;;558    			
;;;559    			vu16 var16a;
;;;560    			vu32 var32c;
;;;561    			vu32 var32d;
;;;562    			
;;;563    			Modify_D_READ = Contr_Voltage;
000a4a  f8b90000          LDRH     r0,[r9,#0]  ; Contr_Voltage
000a4e  6170              STR      r0,[r6,#0x14]  ; Modify_D_READ
;;;564    			Modify_B_READ = Vmon_value;
000a50  f8bb0000          LDRH     r0,[r11,#0]  ; Vmon_value
000a54  6130              STR      r0,[r6,#0x10]  ; Modify_B_READ
;;;565    			Modify_B_ACT = (g_tModS.RxBuf[3] << 8) + g_tModS.RxBuf[4];
000a56  48ad              LDR      r0,|L3.3340|
000a58  7901              LDRB     r1,[r0,#4]  ; g_tModS
000a5a  78c0              LDRB     r0,[r0,#3]  ; g_tModS
000a5c  eb012000          ADD      r0,r1,r0,LSL #8
000a60  61b0              STR      r0,[r6,#0x18]  ; Modify_B_ACT
;;;566    			var32a = Modify_B_ACT;
000a62  69b0              LDR      r0,[r6,#0x18]  ; Modify_B_ACT
000a64  9005              STR      r0,[sp,#0x14]
;;;567    			var32a = var32a - Modify_A_ACT;
000a66  9805              LDR      r0,[sp,#0x14]
000a68  68f1              LDR      r1,[r6,#0xc]  ; Modify_A_ACT
000a6a  1a40              SUBS     r0,r0,r1
000a6c  9005              STR      r0,[sp,#0x14]
;;;568    			var32a = var32a << 14;
000a6e  9805              LDR      r0,[sp,#0x14]
000a70  0380              LSLS     r0,r0,#14
000a72  9005              STR      r0,[sp,#0x14]
;;;569    			var16 = Modify_B_READ - Modify_A_READ;
000a74  6930              LDR      r0,[r6,#0x10]  ; Modify_B_READ
000a76  6871              LDR      r1,[r6,#4]  ; Modify_A_READ
000a78  1a40              SUBS     r0,r0,r1
000a7a  9006              STR      r0,[sp,#0x18]
;;;570    			var32a = var32a / var16;
000a7c  f8bd0018          LDRH     r0,[sp,#0x18]
000a80  9905              LDR      r1,[sp,#0x14]
000a82  fbb1f0f0          UDIV     r0,r1,r0
000a86  9005              STR      r0,[sp,#0x14]
;;;571    			REG_POWERV1 = var32a;
000a88  9805              LDR      r0,[sp,#0x14]
000a8a  f8c8003c          STR      r0,[r8,#0x3c]  ; Correct_Parametet
;;;572    			var32a = Modify_B_ACT;
000a8e  69b0              LDR      r0,[r6,#0x18]  ; Modify_B_ACT
000a90  9005              STR      r0,[sp,#0x14]
;;;573    			var32a = var32a << 14;
000a92  9805              LDR      r0,[sp,#0x14]
000a94  0380              LSLS     r0,r0,#14
000a96  9005              STR      r0,[sp,#0x14]
;;;574    			var32b = Modify_B_READ;
000a98  6930              LDR      r0,[r6,#0x10]  ; Modify_B_READ
000a9a  9004              STR      r0,[sp,#0x10]
;;;575    			var32b = var32b * REG_POWERV1;
000a9c  f8d8003c          LDR      r0,[r8,#0x3c]  ; Correct_Parametet
000aa0  9904              LDR      r1,[sp,#0x10]
000aa2  4348              MULS     r0,r1,r0
000aa4  9004              STR      r0,[sp,#0x10]
;;;576    			if (var32a < var32b)
000aa6  e9dd1004          LDRD     r1,r0,[sp,#0x10]
000aaa  4288              CMP      r0,r1
000aac  d20a              BCS      |L3.2756|
;;;577    			{
;;;578    				var32b = var32b - var32a;
000aae  e9dd0104          LDRD     r0,r1,[sp,#0x10]
000ab2  1a40              SUBS     r0,r0,r1
000ab4  9004              STR      r0,[sp,#0x10]
;;;579    				REG_POWERV_Offset1 = var32b;
000ab6  9804              LDR      r0,[sp,#0x10]
000ab8  63e8              STR      r0,[r5,#0x3c]  ; Correct_Strong
;;;580    				Polar5 |= 0x01;
000aba  7960              LDRB     r0,[r4,#5]  ; correct_por
000abc  f0400001          ORR      r0,r0,#1
000ac0  7160              STRB     r0,[r4,#5]
000ac2  e009              B        |L3.2776|
                  |L3.2756|
;;;581    			}
;;;582    			else 
;;;583    			{
;;;584    				var32a = var32a - var32b;
000ac4  e9dd1004          LDRD     r1,r0,[sp,#0x10]
000ac8  1a40              SUBS     r0,r0,r1
000aca  9005              STR      r0,[sp,#0x14]
;;;585    				REG_POWERV_Offset1 = var32a;
000acc  9805              LDR      r0,[sp,#0x14]
000ace  63e8              STR      r0,[r5,#0x3c]  ; Correct_Strong
;;;586    				Polar5 &= ~0x01;					
000ad0  7960              LDRB     r0,[r4,#5]  ; correct_por
000ad2  f0200001          BIC      r0,r0,#1
000ad6  7160              STRB     r0,[r4,#5]
                  |L3.2776|
;;;587    			}
;;;588    	//---------------------------------------------------------------------------------//
;;;589    			var32c = Modify_B_ACT; //????У?
000ad8  69b0              LDR      r0,[r6,#0x18]  ; Modify_B_ACT
000ada  9002              STR      r0,[sp,#8]
;;;590    			var32c = var32c - Modify_A_ACT;
000adc  9802              LDR      r0,[sp,#8]
000ade  68f1              LDR      r1,[r6,#0xc]  ; Modify_A_ACT
000ae0  1a40              SUBS     r0,r0,r1
000ae2  9002              STR      r0,[sp,#8]
;;;591    			var32c = var32c << 14;
000ae4  9802              LDR      r0,[sp,#8]
000ae6  0380              LSLS     r0,r0,#14
000ae8  9002              STR      r0,[sp,#8]
;;;592    			var16a=Modify_D_READ-Modify_C_READ;
000aea  6970              LDR      r0,[r6,#0x14]  ; Modify_D_READ
000aec  68b1              LDR      r1,[r6,#8]  ; Modify_C_READ
000aee  1a40              SUBS     r0,r0,r1
000af0  9003              STR      r0,[sp,#0xc]
;;;593    			var16a=var16a*2;
000af2  f8bd100c          LDRH     r1,[sp,#0xc]
000af6  f64f70ff          MOV      r0,#0xffff
000afa  ea000041          AND      r0,r0,r1,LSL #1
000afe  9003              STR      r0,[sp,#0xc]
;;;594    			var32c=var32c/var16a;
000b00  f8bd100c          LDRH     r1,[sp,#0xc]
000b04  9802              LDR      r0,[sp,#8]
000b06  fbb0f0f1          UDIV     r0,r0,r1
000b0a  9002              STR      r0,[sp,#8]
;;;595    			SET_POWERV1 = var32c;
000b0c  9802              LDR      r0,[sp,#8]
000b0e  f8c8004c          STR      r0,[r8,#0x4c]  ; Correct_Parametet
;;;596    			var32c = Modify_B_ACT;
000b12  69b0              LDR      r0,[r6,#0x18]  ; Modify_B_ACT
000b14  9002              STR      r0,[sp,#8]
;;;597    			var32c = var32c << 14;
000b16  9802              LDR      r0,[sp,#8]
000b18  0380              LSLS     r0,r0,#14
000b1a  9002              STR      r0,[sp,#8]
;;;598    			var32d = SET_POWERV1;
000b1c  f8d8004c          LDR      r0,[r8,#0x4c]  ; Correct_Parametet
000b20  9001              STR      r0,[sp,#4]
;;;599    			var32d = var32d * (Modify_D_READ*2);
000b22  9801              LDR      r0,[sp,#4]
000b24  6971              LDR      r1,[r6,#0x14]  ; Modify_D_READ
000b26  4348              MULS     r0,r1,r0
000b28  0040              LSLS     r0,r0,#1
000b2a  9001              STR      r0,[sp,#4]
;;;600    			if (var32c < var32d)
000b2c  e9dd1001          LDRD     r1,r0,[sp,#4]
000b30  4288              CMP      r0,r1
000b32  d20c              BCS      |L3.2894|
;;;601    			{
;;;602    				var32d = var32d - var32c;
000b34  e9dd0101          LDRD     r0,r1,[sp,#4]
000b38  1a40              SUBS     r0,r0,r1
000b3a  9001              STR      r0,[sp,#4]
;;;603    				SET_POWERV_Offset1 = var32d;
000b3c  9801              LDR      r0,[sp,#4]
000b3e  64e8              STR      r0,[r5,#0x4c]  ; Correct_Strong
;;;604    				Polar5 |= 0x04;
000b40  7960              LDRB     r0,[r4,#5]  ; correct_por
000b42  f0400004          ORR      r0,r0,#4
000b46  e000              B        |L3.2890|
                  |L3.2888|
000b48  e011              B        |L3.2926|
                  |L3.2890|
000b4a  7160              STRB     r0,[r4,#5]
000b4c  e009              B        |L3.2914|
                  |L3.2894|
;;;605    			}
;;;606    			else 
;;;607    			{
;;;608    				var32c = var32c - var32d;
000b4e  e9dd1001          LDRD     r1,r0,[sp,#4]
000b52  1a40              SUBS     r0,r0,r1
000b54  9002              STR      r0,[sp,#8]
;;;609    				SET_POWERV_Offset1 = var32c;
000b56  9802              LDR      r0,[sp,#8]
000b58  64e8              STR      r0,[r5,#0x4c]  ; Correct_Strong
;;;610    				Polar5 &= ~0x04;
000b5a  7960              LDRB     r0,[r4,#5]  ; correct_por
000b5c  f0200004          BIC      r0,r0,#4
000b60  7160              STRB     r0,[r4,#5]
                  |L3.2914|
;;;611    			}
;;;612    			Flash_Write_all ();	
000b62  f7fffffe          BL       Flash_Write_all
;;;613    			Flag_DAC_OFF=0;
000b66  6838              LDR      r0,[r7,#0]  ; flagB
000b68  f0200008          BIC      r0,r0,#8
000b6c  6038              STR      r0,[r7,#0]  ; flagB
                  |L3.2926|
;;;614    		}
;;;615    /*******************************????????У?******************************************/	
;;;616    		if (g_tModS.RxBuf[1] == 0x24)			   //?・?У?
000b6e  4967              LDR      r1,|L3.3340|
000b70  7848              LDRB     r0,[r1,#1]  ; g_tModS
000b72  2824              CMP      r0,#0x24
000b74  d10c              BNE      |L3.2960|
;;;617    		{
;;;618    			Modify_A_READ = Vmon_value;//??d
000b76  f8bb2000          LDRH     r2,[r11,#0]  ; Vmon_value
000b7a  6072              STR      r2,[r6,#4]  ; Modify_A_READ
;;;619    			Modify_C_READ = Contr_Voltage;//???d
000b7c  f8b92000          LDRH     r2,[r9,#0]  ; Contr_Voltage
000b80  60b2              STR      r2,[r6,#8]  ; Modify_C_READ
;;;620    			Modify_A_ACT = (g_tModS.RxBuf[3] << 8) + g_tModS.RxBuf[4];
000b82  e000              B        |L3.2950|
                  |L3.2948|
000b84  e126              B        |L3.3540|
                  |L3.2950|
000b86  790a              LDRB     r2,[r1,#4]  ; g_tModS
000b88  78cb              LDRB     r3,[r1,#3]  ; g_tModS
000b8a  eb022203          ADD      r2,r2,r3,LSL #8
000b8e  60f2              STR      r2,[r6,#0xc]  ; Modify_A_ACT
                  |L3.2960|
;;;621    		}
;;;622    
;;;623    		if (g_tModS.RxBuf[1] == 0x25)			   //?・?У???
000b90  2825              CMP      r0,#0x25
000b92  d17c              BNE      |L3.3214|
;;;624    		{
;;;625    			vu16 var16;
;;;626    			vu32 var32a;
;;;627    			vu32 var32b;
;;;628    			
;;;629    			vu16 var16a;
;;;630    			vu32 var32c;
;;;631    			vu32 var32d;
;;;632    			
;;;633    			Modify_D_READ = Contr_Voltage;
000b94  f8b90000          LDRH     r0,[r9,#0]  ; Contr_Voltage
000b98  6170              STR      r0,[r6,#0x14]  ; Modify_D_READ
;;;634    			Modify_B_READ = Vmon_value;
000b9a  f8bb0000          LDRH     r0,[r11,#0]  ; Vmon_value
000b9e  6130              STR      r0,[r6,#0x10]  ; Modify_B_READ
;;;635    			Modify_B_ACT = (g_tModS.RxBuf[3] << 8) + g_tModS.RxBuf[4];
000ba0  485a              LDR      r0,|L3.3340|
000ba2  7901              LDRB     r1,[r0,#4]  ; g_tModS
000ba4  78c0              LDRB     r0,[r0,#3]  ; g_tModS
000ba6  eb012000          ADD      r0,r1,r0,LSL #8
000baa  61b0              STR      r0,[r6,#0x18]  ; Modify_B_ACT
;;;636    			var32a = Modify_B_ACT;
000bac  69b0              LDR      r0,[r6,#0x18]  ; Modify_B_ACT
000bae  9005              STR      r0,[sp,#0x14]
;;;637    			var32a = var32a - Modify_A_ACT;
000bb0  9805              LDR      r0,[sp,#0x14]
000bb2  68f1              LDR      r1,[r6,#0xc]  ; Modify_A_ACT
000bb4  1a40              SUBS     r0,r0,r1
000bb6  9005              STR      r0,[sp,#0x14]
;;;638    			var32a = var32a << 14;
000bb8  9805              LDR      r0,[sp,#0x14]
000bba  0380              LSLS     r0,r0,#14
000bbc  9005              STR      r0,[sp,#0x14]
;;;639    			var16 = Modify_B_READ - Modify_A_READ;
000bbe  6930              LDR      r0,[r6,#0x10]  ; Modify_B_READ
000bc0  6871              LDR      r1,[r6,#4]  ; Modify_A_READ
000bc2  1a40              SUBS     r0,r0,r1
000bc4  9006              STR      r0,[sp,#0x18]
;;;640    			var32a = var32a / var16;
000bc6  f8bd0018          LDRH     r0,[sp,#0x18]
000bca  9905              LDR      r1,[sp,#0x14]
000bcc  fbb1f0f0          UDIV     r0,r1,r0
000bd0  9005              STR      r0,[sp,#0x14]
;;;641    			REG_POWERV2 = var32a;
000bd2  9805              LDR      r0,[sp,#0x14]
000bd4  f8c80040          STR      r0,[r8,#0x40]  ; Correct_Parametet
;;;642    			var32a = Modify_B_ACT;
000bd8  69b0              LDR      r0,[r6,#0x18]  ; Modify_B_ACT
000bda  9005              STR      r0,[sp,#0x14]
;;;643    			var32a = var32a << 14;
000bdc  9805              LDR      r0,[sp,#0x14]
000bde  0380              LSLS     r0,r0,#14
000be0  9005              STR      r0,[sp,#0x14]
;;;644    			var32b = Modify_B_READ;
000be2  6930              LDR      r0,[r6,#0x10]  ; Modify_B_READ
000be4  9004              STR      r0,[sp,#0x10]
;;;645    			var32b = var32b * REG_POWERV2;
000be6  f8d80040          LDR      r0,[r8,#0x40]  ; Correct_Parametet
000bea  9904              LDR      r1,[sp,#0x10]
000bec  4348              MULS     r0,r1,r0
000bee  9004              STR      r0,[sp,#0x10]
;;;646    			if (var32a < var32b)
000bf0  e9dd1004          LDRD     r1,r0,[sp,#0x10]
000bf4  4288              CMP      r0,r1
000bf6  d20a              BCS      |L3.3086|
;;;647    			{
;;;648    				var32b = var32b - var32a;
000bf8  e9dd0104          LDRD     r0,r1,[sp,#0x10]
000bfc  1a40              SUBS     r0,r0,r1
000bfe  9004              STR      r0,[sp,#0x10]
;;;649    				REG_POWERV_Offset2 = var32b;
000c00  9804              LDR      r0,[sp,#0x10]
000c02  6428              STR      r0,[r5,#0x40]  ; Correct_Strong
;;;650    				Polar5 |= 0x01;
000c04  7960              LDRB     r0,[r4,#5]  ; correct_por
000c06  f0400001          ORR      r0,r0,#1
000c0a  7160              STRB     r0,[r4,#5]
000c0c  e009              B        |L3.3106|
                  |L3.3086|
;;;651    			}
;;;652    			else 
;;;653    			{
;;;654    				var32a = var32a - var32b;
000c0e  e9dd1004          LDRD     r1,r0,[sp,#0x10]
000c12  1a40              SUBS     r0,r0,r1
000c14  9005              STR      r0,[sp,#0x14]
;;;655    				REG_POWERV_Offset2 = var32a;
000c16  9805              LDR      r0,[sp,#0x14]
000c18  6428              STR      r0,[r5,#0x40]  ; Correct_Strong
;;;656    				Polar5 &= ~0x01;					
000c1a  7960              LDRB     r0,[r4,#5]  ; correct_por
000c1c  f0200001          BIC      r0,r0,#1
000c20  7160              STRB     r0,[r4,#5]
                  |L3.3106|
;;;657    			}
;;;658    	//---------------------------------------------------------------------------------//
;;;659    			var32c = Modify_B_ACT; //????У?
000c22  69b0              LDR      r0,[r6,#0x18]  ; Modify_B_ACT
000c24  9002              STR      r0,[sp,#8]
;;;660    			var32c = var32c - Modify_A_ACT;
000c26  9902              LDR      r1,[sp,#8]
000c28  68f0              LDR      r0,[r6,#0xc]  ; Modify_A_ACT
000c2a  1a08              SUBS     r0,r1,r0
000c2c  9002              STR      r0,[sp,#8]
;;;661    			var32c = var32c << 14;
000c2e  9802              LDR      r0,[sp,#8]
000c30  0380              LSLS     r0,r0,#14
000c32  9002              STR      r0,[sp,#8]
;;;662    			var16a=Modify_D_READ-Modify_C_READ;
000c34  6970              LDR      r0,[r6,#0x14]  ; Modify_D_READ
000c36  68b1              LDR      r1,[r6,#8]  ; Modify_C_READ
000c38  1a40              SUBS     r0,r0,r1
000c3a  9003              STR      r0,[sp,#0xc]
;;;663    			var16a=var16a*2;
000c3c  f8bd100c          LDRH     r1,[sp,#0xc]
000c40  f64f70ff          MOV      r0,#0xffff
000c44  ea000041          AND      r0,r0,r1,LSL #1
000c48  9003              STR      r0,[sp,#0xc]
;;;664    			var32c=var32c/var16a;
000c4a  f8bd100c          LDRH     r1,[sp,#0xc]
000c4e  9802              LDR      r0,[sp,#8]
000c50  fbb0f0f1          UDIV     r0,r0,r1
000c54  9002              STR      r0,[sp,#8]
;;;665    			SET_POWERV2 = var32c;
000c56  9802              LDR      r0,[sp,#8]
000c58  f8c80050          STR      r0,[r8,#0x50]  ; Correct_Parametet
;;;666    			var32c = Modify_B_ACT;
000c5c  69b0              LDR      r0,[r6,#0x18]  ; Modify_B_ACT
000c5e  9002              STR      r0,[sp,#8]
;;;667    			var32c = var32c << 14;
000c60  9802              LDR      r0,[sp,#8]
000c62  0380              LSLS     r0,r0,#14
000c64  9002              STR      r0,[sp,#8]
;;;668    			var32d = SET_POWERV2;
000c66  f8d80050          LDR      r0,[r8,#0x50]  ; Correct_Parametet
000c6a  9001              STR      r0,[sp,#4]
;;;669    			var32d = var32d * (Modify_D_READ*2);
000c6c  9801              LDR      r0,[sp,#4]
000c6e  6971              LDR      r1,[r6,#0x14]  ; Modify_D_READ
000c70  4348              MULS     r0,r1,r0
000c72  0040              LSLS     r0,r0,#1
000c74  9001              STR      r0,[sp,#4]
;;;670    			if (var32c < var32d)
000c76  e9dd1001          LDRD     r1,r0,[sp,#4]
000c7a  4288              CMP      r0,r1
000c7c  d20c              BCS      |L3.3224|
;;;671    			{
;;;672    				var32d = var32d - var32c;
000c7e  e9dd0101          LDRD     r0,r1,[sp,#4]
000c82  1a40              SUBS     r0,r0,r1
000c84  9001              STR      r0,[sp,#4]
;;;673    				SET_POWERV_Offset2 = var32d;
000c86  9801              LDR      r0,[sp,#4]
000c88  6528              STR      r0,[r5,#0x50]  ; Correct_Strong
;;;674    				Polar5 |= 0x04;
000c8a  7960              LDRB     r0,[r4,#5]  ; correct_por
000c8c  e000              B        |L3.3216|
                  |L3.3214|
000c8e  e013              B        |L3.3256|
                  |L3.3216|
000c90  f0400004          ORR      r0,r0,#4
000c94  7160              STRB     r0,[r4,#5]
000c96  e009              B        |L3.3244|
                  |L3.3224|
;;;675    			}
;;;676    			else 
;;;677    			{
;;;678    				var32c = var32c - var32d;
000c98  e9dd1001          LDRD     r1,r0,[sp,#4]
000c9c  1a40              SUBS     r0,r0,r1
000c9e  9002              STR      r0,[sp,#8]
;;;679    				SET_POWERV_Offset2 = var32c;
000ca0  9802              LDR      r0,[sp,#8]
000ca2  6528              STR      r0,[r5,#0x50]  ; Correct_Strong
;;;680    				Polar5 &= ~0x04;
000ca4  7960              LDRB     r0,[r4,#5]  ; correct_por
000ca6  f0200004          BIC      r0,r0,#4
000caa  7160              STRB     r0,[r4,#5]
                  |L3.3244|
;;;681    			}
;;;682    			Flash_Write_all ();	
000cac  f7fffffe          BL       Flash_Write_all
;;;683    			Flag_DAC_OFF=0;
000cb0  6838              LDR      r0,[r7,#0]  ; flagB
000cb2  f0200008          BIC      r0,r0,#8
000cb6  6038              STR      r0,[r7,#0]  ; flagB
                  |L3.3256|
;;;684    		}
;;;685    /****************???・?У?**********************************/
;;;686    
;;;687    		if (g_tModS.RxBuf[1] == 0x0D)			  
000cb8  f8dfb050          LDR      r11,|L3.3340|
000cbc  f89b0001          LDRB     r0,[r11,#1]  ; g_tModS
000cc0  280d              CMP      r0,#0xd
000cc2  d109              BNE      |L3.3288|
;;;688    		{ 
;;;689    			Modify_A_READ = Imon_value;
000cc4  4912              LDR      r1,|L3.3344|
000cc6  8809              LDRH     r1,[r1,#0]  ; Imon_value
000cc8  6071              STR      r1,[r6,#4]  ; Modify_A_READ
;;;690    			Modify_A_ACT = (g_tModS.RxBuf[3] << 8) + g_tModS.RxBuf[4];
000cca  f89b1004          LDRB     r1,[r11,#4]  ; g_tModS
000cce  f89b2003          LDRB     r2,[r11,#3]  ; g_tModS
000cd2  eb012102          ADD      r1,r1,r2,LSL #8
000cd6  60f1              STR      r1,[r6,#0xc]  ; Modify_A_ACT
                  |L3.3288|
;;;691    		}
;;;692    
;;;693    		if (g_tModS.RxBuf[1] == 0x0E)			   
000cd8  280e              CMP      r0,#0xe
000cda  d14f              BNE      |L3.3452|
;;;694    		{
;;;695    			vu16 var16;
;;;696    			vu32 var32a;
;;;697    			vu32 var32b;
;;;698    			
;;;699    			vu16 var16a;
;;;700    			vu32 var32c;
;;;701    			vu32 var32d;
;;;702    			
;;;703    			Modify_B_READ = Imon_value;
000cdc  480c              LDR      r0,|L3.3344|
000cde  8800              LDRH     r0,[r0,#0]  ; Imon_value
000ce0  6130              STR      r0,[r6,#0x10]  ; Modify_B_READ
;;;704    			Modify_B_ACT = (g_tModS.RxBuf[3] << 8) + g_tModS.RxBuf[4];
000ce2  f89b0004          LDRB     r0,[r11,#4]  ; g_tModS
000ce6  f89b1003          LDRB     r1,[r11,#3]  ; g_tModS
000cea  eb002001          ADD      r0,r0,r1,LSL #8
000cee  61b0              STR      r0,[r6,#0x18]  ; Modify_B_ACT
;;;705    			var32a = Modify_B_ACT;
000cf0  69b0              LDR      r0,[r6,#0x18]  ; Modify_B_ACT
000cf2  9005              STR      r0,[sp,#0x14]
;;;706    			var32a = var32a - Modify_A_ACT;
000cf4  9805              LDR      r0,[sp,#0x14]
000cf6  68f1              LDR      r1,[r6,#0xc]  ; Modify_A_ACT
000cf8  1a40              SUBS     r0,r0,r1
000cfa  9005              STR      r0,[sp,#0x14]
;;;707    			var32a = var32a << 14;
000cfc  9805              LDR      r0,[sp,#0x14]
000cfe  0380              LSLS     r0,r0,#14
000d00  9005              STR      r0,[sp,#0x14]
;;;708    			var16 = Modify_B_READ - Modify_A_READ;
000d02  6930              LDR      r0,[r6,#0x10]  ; Modify_B_READ
000d04  6871              LDR      r1,[r6,#4]  ; Modify_A_READ
000d06  1a40              SUBS     r0,r0,r1
000d08  9006              STR      r0,[sp,#0x18]
;;;709    			var32a = var32a / var16;
000d0a  e003              B        |L3.3348|
                  |L3.3340|
                          DCD      g_tModS
                  |L3.3344|
                          DCD      Imon_value
                  |L3.3348|
000d14  f8bd1018          LDRH     r1,[sp,#0x18]
000d18  9805              LDR      r0,[sp,#0x14]
000d1a  fbb0f0f1          UDIV     r0,r0,r1
000d1e  9005              STR      r0,[sp,#0x14]
;;;710    			CON_POWERA = var32a;
000d20  9805              LDR      r0,[sp,#0x14]
000d22  f8c80028          STR      r0,[r8,#0x28]  ; Correct_Parametet
;;;711    			var32a = Modify_B_ACT;
000d26  69b0              LDR      r0,[r6,#0x18]  ; Modify_B_ACT
000d28  9005              STR      r0,[sp,#0x14]
;;;712    			var32a = var32a << 14;
000d2a  9805              LDR      r0,[sp,#0x14]
000d2c  0380              LSLS     r0,r0,#14
000d2e  9005              STR      r0,[sp,#0x14]
;;;713    			var32b = Modify_B_READ;
000d30  6930              LDR      r0,[r6,#0x10]  ; Modify_B_READ
000d32  9004              STR      r0,[sp,#0x10]
;;;714    			var32b = var32b * CON_POWERA;
000d34  f8d80028          LDR      r0,[r8,#0x28]  ; Correct_Parametet
000d38  9904              LDR      r1,[sp,#0x10]
000d3a  4348              MULS     r0,r1,r0
000d3c  9004              STR      r0,[sp,#0x10]
;;;715    			if (var32a < var32b)
000d3e  e9dd1004          LDRD     r1,r0,[sp,#0x10]
000d42  4288              CMP      r0,r1
000d44  d20a              BCS      |L3.3420|
;;;716    			{
;;;717    				var32b = var32b - var32a;
000d46  e9dd0104          LDRD     r0,r1,[sp,#0x10]
000d4a  1a40              SUBS     r0,r0,r1
000d4c  9004              STR      r0,[sp,#0x10]
;;;718    				CON_POWERA_Offset = var32b;
000d4e  9804              LDR      r0,[sp,#0x10]
000d50  62a8              STR      r0,[r5,#0x28]  ; Correct_Strong
;;;719    				Polar3 |= 0x04;
000d52  78e0              LDRB     r0,[r4,#3]  ; correct_por
000d54  f0400004          ORR      r0,r0,#4
000d58  70e0              STRB     r0,[r4,#3]
000d5a  e009              B        |L3.3440|
                  |L3.3420|
;;;720    			}
;;;721    			else 
;;;722    			{
;;;723    				var32a = var32a - var32b;
000d5c  e9dd1004          LDRD     r1,r0,[sp,#0x10]
000d60  1a40              SUBS     r0,r0,r1
000d62  9005              STR      r0,[sp,#0x14]
;;;724    				CON_POWERA_Offset = var32a;
000d64  9805              LDR      r0,[sp,#0x14]
000d66  62a8              STR      r0,[r5,#0x28]  ; Correct_Strong
;;;725    				Polar3 &= ~0x04;					
000d68  78e0              LDRB     r0,[r4,#3]  ; correct_por
000d6a  f0200004          BIC      r0,r0,#4
000d6e  70e0              STRB     r0,[r4,#3]
                  |L3.3440|
;;;726    			}
;;;727    			Flash_Write_all ();	
000d70  f7fffffe          BL       Flash_Write_all
;;;728    			Flag_DAC_OFF=0;
000d74  6838              LDR      r0,[r7,#0]  ; flagB
000d76  f0200008          BIC      r0,r0,#8
000d7a  6038              STR      r0,[r7,#0]  ; flagB
                  |L3.3452|
;;;729    		}
;;;730    /***********??DAC*******************************************/
;;;731    		if (g_tModS.RxBuf[1] == 0x0F)			   
000d7c  f89b0001          LDRB     r0,[r11,#1]  ; g_tModS
000d80  280f              CMP      r0,#0xf
000d82  d10b              BNE      |L3.3484|
;;;732    		{
;;;733    			Contr_Laod = (g_tModS.RxBuf[3] << 8) + g_tModS.RxBuf[4];
000d84  f89b1004          LDRB     r1,[r11,#4]  ; g_tModS
000d88  f89b2003          LDRB     r2,[r11,#3]  ; g_tModS
000d8c  eb012102          ADD      r1,r1,r2,LSL #8
000d90  f8aa1000          STRH     r1,[r10,#0]
;;;734    			Flag_DAC_OFF=1;
000d94  6839              LDR      r1,[r7,#0]  ; flagB
000d96  f0410108          ORR      r1,r1,#8
000d9a  6039              STR      r1,[r7,#0]  ; flagB
                  |L3.3484|
;;;735    		}
;;;736    		if (g_tModS.RxBuf[1] == 0x20)			   
000d9c  2820              CMP      r0,#0x20
000d9e  d10b              BNE      |L3.3512|
;;;737    		{
;;;738    			Contr_Voltage = (g_tModS.RxBuf[3] << 8) + g_tModS.RxBuf[4];
000da0  f89b1004          LDRB     r1,[r11,#4]  ; g_tModS
000da4  f89b2003          LDRB     r2,[r11,#3]  ; g_tModS
000da8  eb012102          ADD      r1,r1,r2,LSL #8
000dac  f8a91000          STRH     r1,[r9,#0]
;;;739    			Flag_DAC_OFF=1;
000db0  6839              LDR      r1,[r7,#0]  ; flagB
000db2  f0410108          ORR      r1,r1,#8
000db6  6039              STR      r1,[r7,#0]  ; flagB
                  |L3.3512|
;;;740    		}
;;;741    		if (g_tModS.RxBuf[1] == 0x21)			   
000db8  2821              CMP      r0,#0x21
000dba  d10b              BNE      |L3.3540|
;;;742    		{
;;;743    			Contr_Current = (g_tModS.RxBuf[3] << 8) + g_tModS.RxBuf[4];
000dbc  f89b0004          LDRB     r0,[r11,#4]  ; g_tModS
000dc0  f89b1003          LDRB     r1,[r11,#3]  ; g_tModS
000dc4  eb002001          ADD      r0,r0,r1,LSL #8
000dc8  4904              LDR      r1,|L3.3548|
000dca  8008              STRH     r0,[r1,#0]
;;;744    			Flag_DAC_OFF=1;
000dcc  6838              LDR      r0,[r7,#0]  ; flagB
000dce  f0400008          ORR      r0,r0,#8
000dd2  6038              STR      r0,[r7,#0]  ; flagB
                  |L3.3540|
;;;745    		}
;;;746    	}
;;;747    //===================================================================================
;;;748    }
000dd4  b007              ADD      sp,sp,#0x1c
000dd6  e8bd8ff0          POP      {r4-r11,pc}
;;;749    //===============================AD值转换成测量值============================================//
                          ENDP

000dda  0000              DCW      0x0000
                  |L3.3548|
                          DCD      Contr_Current

                          AREA ||.bss||, DATA, NOINIT, ALIGN=2

                  Correct_Parametet
                          %        84
                  Correct_Strong
                          %        84
                  Run_Control
                          %        196

                          AREA ||.data||, DATA, ALIGN=1

                  ADJ_Write
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.8||, DATA, ALIGN=2

                          EXPORTAS ||area_number.8||, ||.data||
                  DAC_Flag
000000  00                DCB      0x00
                  ADDR
000001  000000            DCB      0x00,0x00,0x00
                  Modify_A_READ
                          DCD      0x00000000
                  Modify_C_READ
                          DCD      0x00000000
                  Modify_A_ACT
                          DCD      0x00000000
                  Modify_B_READ
                          DCD      0x00000000
                  Modify_D_READ
                          DCD      0x00000000
                  Modify_B_ACT
                          DCD      0x00000000
                  correct_por
                          DCD      0x00000000
000020  0000              DCB      0x00,0x00

;*** Start embedded assembler ***

#line 1 "..\\drive\\modbus.c"
	AREA ||.rev16_text||, CODE
	THUMB
	EXPORT |__asm___8_modbus_c_bae18981____REV16|
#line 129 "D:\\Keil_v5\\ARM\\CMSIS\\Include\\core_cmInstr.h"
|__asm___8_modbus_c_bae18981____REV16| PROC
#line 130

 rev16 r0, r0
 bx lr
	ENDP
	AREA ||.revsh_text||, CODE
	THUMB
	EXPORT |__asm___8_modbus_c_bae18981____REVSH|
#line 144
|__asm___8_modbus_c_bae18981____REVSH| PROC
#line 145

 revsh r0, r0
 bx lr
	ENDP

;*** End   embedded assembler ***
